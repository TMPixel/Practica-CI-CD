"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7651],{7651:(C,f,t)=>{t.r(f),t.d(f,{AuthPageModule:()=>j});var g=t(177),l=t(4341),u=t(1075),d=t(4964),m=t(467),o=t(4438),h=t(5297),p=t(5265),v=t(9381),P=t(3683),A=t(9981);function F(e,i){1&e&&(o.j41(0,"div")(1,"ion-label",12),o.EFF(2,"El correo es requerido"),o.k0s()())}function y(e,i){1&e&&(o.j41(0,"div")(1,"ion-label",12),o.EFF(2,"Ingrese un correo valido"),o.k0s()())}function G(e,i){if(1&e&&(o.j41(0,"div",10),o.DNE(1,F,3,0,"div",11)(2,y,3,0,"div",11),o.k0s()),2&e){const s=o.XpG();o.R7$(),o.Y8G("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.required),o.R7$(),o.Y8G("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.email)}}function I(e,i){1&e&&(o.j41(0,"div")(1,"ion-label",12),o.EFF(2,"La contrase\xf1a es requerida"),o.k0s()())}function M(e,i){if(1&e&&(o.j41(0,"div",10),o.DNE(1,I,3,0,"div",11),o.k0s()),2&e){const s=o.XpG();o.R7$(),o.Y8G("ngIf",null==s.form.controls.password.errors?null:s.form.controls.password.errors.required)}}const R=[{path:"",component:(()=>{var e;class i{constructor(){this.form=new l.gE({email:new l.MJ("",[l.k0.required,l.k0.email]),password:new l.MJ("",[l.k0.required,l.k0.minLength(6)])}),this.firebase=(0,o.WQX)(h.f),this.utils=(0,o.WQX)(p.T)}ngOnInit(){}submit(){var r=this;return(0,m.A)(function*(){const n=yield r.utils.loading();yield n.present(),r.firebase.signIn(r.form.value).then(a=>{r.utils.saveInLocalStorage("user",{uid:a.user.uid,email:a.user.email,name:a.user.displayName}),r.utils.routerLink("main/home"),console.log(a)}).catch(a=>{r.utils.showToast({message:a.message,color:"danger",position:"middle",duration:3e3,icon:"alert-circle-outline"})}).finally(()=>{n.dismiss()})})()}setUserInfo(r){var n=this;return(0,m.A)(function*(){let a=`users/${r}`;delete n.form.value.password,n.firebase.setDocument(a,n.form.value).then(function(){var c=(0,m.A)(function*(E){n.utils.saveInLocalStorage("user",n.form.value),n.utils.routerLink("main/home")});return function(E){return c.apply(this,arguments)}}()).catch(c=>{n.utils.showToast({message:c.message,color:"danger",position:"middle",duration:3e3,icon:"alert-circle-outline"})})})()}}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.VBU({type:e,selectors:[["app-auth"]],decls:15,vars:7,consts:[["title","App"],[3,"fullscreen"],[1,"d-flex-center"],[1,"auth-form",3,"ngSubmit","keypress.enter","formGroup"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["routerLink","forgot-password",1,"ion-text-end"],["type","submit","mode","ios","expand","block","shape","round",1,"submit",3,"disabled"],["mode","ios","expand","block","shape","round","routerLink","sign-up","fill","outline"],[1,"validators"],[4,"ngIf"],["color","danger"]],template:function(r,n){1&r&&(o.nrm(0,"app-header",0),o.j41(1,"ion-content",1)(2,"div",2)(3,"form",3),o.bIt("ngSubmit",function(){return n.submit()})("keypress.enter",function(){return n.submit()}),o.nrm(4,"app-logo")(5,"app-custom-input",4),o.DNE(6,G,3,2,"div",5),o.nrm(7,"app-custom-input",6),o.DNE(8,M,2,1,"div",5),o.j41(9,"p",7),o.EFF(10," \xbfOlvidaste tu contrase\xf1a? "),o.k0s(),o.j41(11,"ion-button",8),o.EFF(12," Ingresar "),o.k0s(),o.j41(13,"ion-button",9),o.EFF(14," Registrate "),o.k0s()()()()),2&r&&(o.R7$(),o.Y8G("fullscreen",!0),o.R7$(2),o.Y8G("formGroup",n.form),o.R7$(2),o.Y8G("control",n.form.controls.email),o.R7$(),o.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),o.R7$(),o.Y8G("control",n.form.controls.password),o.R7$(),o.Y8G("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),o.R7$(3),o.Y8G("disabled",n.form.invalid))},dependencies:[g.bT,l.qT,l.cb,u.Jm,u.W9,u.he,u.N7,d.Wk,v.l,P.H,A.Z,l.j4],styles:["p[_ngcontent-%COMP%]{cursor:pointer}"]}),i})()},{path:"sign-in",loadChildren:()=>t.e(2429).then(t.bind(t,2429)).then(e=>e.SignInPageModule)},{path:"forgot-password",loadChildren:()=>t.e(7005).then(t.bind(t,7005)).then(e=>e.ForgotPasswordPageModule)},{path:"sign-up",loadChildren:()=>t.e(920).then(t.bind(t,920)).then(e=>e.SignUpPageModule)}];let T=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[d.iI.forChild(R),d.iI]}),i})();var $=t(3887);let j=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[g.MD,l.YN,u.bv,T,$.G]}),i})()}}]);