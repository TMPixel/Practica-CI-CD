"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[920],{920:(k,f,s)=>{s.r(f),s.d(f,{SignUpPageModule:()=>b});var p=s(177),l=s(4341),c=s(1075),g=s(4964),d=s(467),e=s(4438),v=s(1738),h=s(5265),U=s(9381),S=s(9981),P=s(3683);function G(o,i){1&o&&(e.j41(0,"div"),e.EFF(1,"El nombre es requerido"),e.k0s())}function y(o,i){1&o&&(e.j41(0,"div"),e.EFF(1,"Ingrese al menos 8 caracteres"),e.k0s())}function I(o,i){if(1&o&&(e.j41(0,"div",9),e.DNE(1,G,2,0,"div",10)(2,y,2,0,"div",10),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==n.form.controls.name.errors?null:n.form.controls.name.errors.required),e.R7$(),e.Y8G("ngIf",null==n.form.controls.name.errors?null:n.form.controls.name.errors.minlenght)}}function R(o,i){1&o&&(e.j41(0,"div"),e.EFF(1,"El correo es requerido"),e.k0s())}function E(o,i){1&o&&(e.j41(0,"div"),e.EFF(1,"El correo no es v\xe1lido"),e.k0s())}function F(o,i){if(1&o&&(e.j41(0,"div",9),e.DNE(1,R,2,0,"div",10)(2,E,2,0,"div",10),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.required),e.R7$(),e.Y8G("ngIf",null==n.form.controls.email.errors?null:n.form.controls.email.errors.email)}}function T(o,i){1&o&&(e.j41(0,"div"),e.EFF(1,"La contrase\xf1a es requerida"),e.k0s())}function $(o,i){if(1&o&&(e.j41(0,"div",9),e.DNE(1,T,2,0,"div",10),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==n.form.controls.password.errors?null:n.form.controls.password.errors.required)}}const M=[{path:"",component:(()=>{var o;class i{constructor(){this.form=new l.gE({uid:new l.MJ(""),name:new l.MJ("",[l.k0.required,l.k0.minLength(4)]),email:new l.MJ("",[l.k0.required,l.k0.email]),password:new l.MJ("",[l.k0.required])}),this.firebase=(0,e.WQX)(v.f),this.utils=(0,e.WQX)(h.T)}ngOnInit(){}submit(){var r=this;return(0,d.A)(function*(){const t=yield r.utils.loading();yield t.present(),r.firebase.signUp(r.form.value).then(function(){var u=(0,d.A)(function*(a){r.firebase.updateProfile(r.form.value.name);let m=a.user.uid;r.form.controls.uid.setValue(m),r.setUserInfo(m),console.log(a)});return function(a){return u.apply(this,arguments)}}()).catch(u=>{r.utils.showToast({message:"Datos incorrectos",color:"danger",position:"middle",duration:3e3,icon:"alert-circle-outline"})}).finally(()=>{t.dismiss()})})()}setUserInfo(r){var t=this;let u=`users/${r}`;delete this.form.value.password,this.firebase.setDocument(u,this.form.value).then(function(){var a=(0,d.A)(function*(m){t.utils.saveInLocalStorage("user",t.form.value),t.utils.routerLink("main/home"),console.log(m)});return function(m){return a.apply(this,arguments)}}()).catch(a=>{this.utils.showToast({message:a.message,color:"danger",position:"middle",duration:3e3,icon:"alert-circle-outline"})})}}return(o=i).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-sign-up"]],decls:13,vars:8,consts:[["title","registro"],[3,"fullscreen"],[1,"d-flex-center"],[1,"auth-form",3,"ngSubmit","keypres.enter","formGroup"],["autocomplete","name","icon","person-outline","type","text","label","Usuario",3,"control"],["class","validators",4,"ngIf"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["expand","block","mode","ios","type","submit","fill","outline","shape","round"],[1,"validators"],[4,"ngIf"]],template:function(r,t){1&r&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"div",2)(3,"form",3),e.bIt("ngSubmit",function(){return t.submit()})("keypres.enter",function(){return t.submit()}),e.nrm(4,"app-logo")(5,"app-custom-input",4),e.DNE(6,I,3,2,"div",5),e.nrm(7,"app-custom-input",6),e.DNE(8,F,3,2,"div",5),e.nrm(9,"app-custom-input",7),e.DNE(10,$,2,1,"div",5),e.j41(11,"ion-button",8),e.EFF(12,"Registrarse"),e.k0s()()()()),2&r&&(e.R7$(),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("formGroup",t.form),e.R7$(2),e.Y8G("control",t.form.controls.name),e.R7$(),e.Y8G("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),e.R7$(),e.Y8G("control",t.form.controls.email),e.R7$(),e.Y8G("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),e.R7$(),e.Y8G("control",t.form.controls.password),e.R7$(),e.Y8G("ngIf",t.form.controls.password.errors&&t.form.controls.password.touched))},dependencies:[p.bT,l.qT,l.cb,c.Jm,c.W9,U.l,S.Z,P.H,l.j4]}),i})()}];let Y=(()=>{var o;class i{}return(o=i).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(M),g.iI]}),i})();var j=s(3887);let b=(()=>{var o;class i{}return(o=i).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,l.YN,c.bv,Y,j.G]}),i})()}}]);