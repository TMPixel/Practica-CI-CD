(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{8407:(hn,ft,N)=>{"use strict";N.d(ft,{$:()=>hs,A:()=>ge,G:()=>We,K:()=>es,L:()=>_o,N:()=>si,P:()=>Nu,R:()=>Cl,U:()=>$t,V:()=>lo,W:()=>Sr,X:()=>Ea,Y:()=>dl,Z:()=>Nr,_:()=>zo,a:()=>Lo,a0:()=>Ns,a1:()=>is,a2:()=>fl,a3:()=>Ca,a4:()=>gl,a5:()=>Ta,a6:()=>fu,a7:()=>fs,a8:()=>ca,a9:()=>Da,aA:()=>xt,aB:()=>Se,aC:()=>we,aD:()=>pc,aE:()=>ut,aF:()=>sn,aG:()=>mu,aH:()=>Wl,aI:()=>Ra,aJ:()=>Gn,aN:()=>Zr,aQ:()=>ds,aa:()=>Ts,ab:()=>Rr,ac:()=>Ei,ad:()=>Ko,ae:()=>Va,af:()=>Bl,ag:()=>qo,ah:()=>_l,ak:()=>$a,al:()=>ps,am:()=>Zi,ap:()=>W,aq:()=>De,as:()=>to,at:()=>yl,au:()=>kt,av:()=>Ti,aw:()=>Jr,ax:()=>tt,ay:()=>qr,az:()=>ma,b:()=>bo,c:()=>zd,d:()=>no,e:()=>fc,f:()=>ra,g:()=>Xt,h:()=>bl,i:()=>I,j:()=>ql,k:()=>Xr,l:()=>Kc,m:()=>Yl,o:()=>Ma,p:()=>Ce,r:()=>ja,s:()=>Mu,u:()=>Hd});var c=N(467),d=N(7852),V=N(1076),Re=N(8041),Y=N(1635),ke=N(1362);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},nt=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new V.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new Re.Vy("@firebase/auth");function Qe(A,...p){Xe.logLevel<=Re.$b.ERROR&&Xe.error(`Auth (${d.SDK_VERSION}): ${A}`,...p)}function tt(A,...p){throw Ct(A,...p)}function Se(A,...p){return Ct(A,...p)}function ze(A,p,v){const C=Object.assign(Object.assign({},nt()),{[p]:v});return new V.FA("auth","Firebase",C).create(p,{appName:A.name})}function je(A){return ze(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dt(A,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&tt(A,"argument-error"),ze(A,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ct(A,...p){if("string"!=typeof A){const v=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=A.name),A._errorFactory.create(v,...C)}return ct.create(A,...p)}function we(A,p,...v){if(!A)throw Ct(p,...v)}function Dt(A){const p="INTERNAL ASSERTION FAILED: "+A;throw Qe(p),new Error(p)}function kt(A,p){A||Dt(p)}function rn(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function fn(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Ne{constructor(p,v){this.shortDelay=p,this.longDelay=v,kt(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.jZ)()||(0,V.lV)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fn()||(0,V.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function J(A,p){kt(A.emulator,"Emulator should always be set here");const{url:v}=A.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class Z{static initialize(p,v,C){this.fetchImpl=p,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pe=new Ne(3e4,6e4);function se(A,p){return A.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:A.tenantId}):p}function Me(A,p,v,C){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.A)(function*(A,p,v,C,q={}){return lt(A,q,(0,c.A)(function*(){let ye={},pt={};C&&("GET"===p?pt=C:ye={body:JSON.stringify(C)});const Ut=(0,V.Am)(Object.assign({key:A.config.apiKey},pt)).slice(1),ln=yield A._getAdditionalHeaders();return ln["Content-Type"]="application/json",A.languageCode&&(ln["X-Firebase-Locale"]=A.languageCode),Z.fetch()(nn(A,A.config.apiHost,v,Ut),Object.assign({method:p,headers:ln,referrerPolicy:"no-referrer"},ye))}))})).apply(this,arguments)}function lt(A,p,v){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.A)(function*(A,p,v){A._canInitEmulator=!1;const C=Object.assign(Object.assign({},ce),p);try{const q=new Bn(A),ye=yield Promise.race([v(),q.promise]);q.clearNetworkTimeout();const pt=yield ye.json();if("needConfirmation"in pt)throw Hn(A,"account-exists-with-different-credential",pt);if(ye.ok&&!("errorMessage"in pt))return pt;{const Ut=ye.ok?pt.errorMessage:pt.error.message,[ln,$n]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ln)throw Hn(A,"credential-already-in-use",pt);if("EMAIL_EXISTS"===ln)throw Hn(A,"email-already-in-use",pt);if("USER_DISABLED"===ln)throw Hn(A,"user-disabled",pt);const hr=C[ln]||ln.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw ze(A,hr,$n);tt(A,hr)}}catch(q){if(q instanceof V.g)throw q;tt(A,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function wt(A,p,v,C){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.A)(function*(A,p,v,C,q={}){const ye=yield Me(A,p,v,C,q);return"mfaPendingCredential"in ye&&tt(A,"multi-factor-auth-required",{_serverResponse:ye}),ye})).apply(this,arguments)}function nn(A,p,v,C){const q=`${p}${v}?${C}`;return A.config.emulator?J(A.config,q):`${A.config.apiScheme}://${q}`}function vn(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Se(this.auth,"network-request-failed")),pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(A,p,v){const C={appName:A.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const q=Se(A,p,C);return q.customData._tokenResponse=v,q}function tr(A){return void 0!==A&&void 0!==A.getResponse}function Vn(A){return void 0!==A&&void 0!==A.enterprise}class zn{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===p)return vn(v.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Be(){return(Be=(0,c.A)(function*(A){return(yield Me(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rt(A,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.A)(function*(A,p){return Me(A,"GET","/v2/recaptchaConfig",se(A,p))})).apply(this,arguments)}function ur(){return(ur=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function un(){return(un=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zt(A,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ir(A){if(A)try{const p=new Date(Number(A));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Rn(){return(Rn=(0,c.A)(function*(A,p=!1){const v=(0,V.Ku)(A),C=yield v.getIdToken(p),q=Fn(C);we(q&&q.exp&&q.auth_time&&q.iat,v.auth,"internal-error");const ye="object"==typeof q.firebase?q.firebase:void 0,pt=null==ye?void 0:ye.sign_in_provider;return{claims:q,token:C,authTime:ir(Er(q.auth_time)),issuedAtTime:ir(Er(q.iat)),expirationTime:ir(Er(q.exp)),signInProvider:pt||null,signInSecondFactor:(null==ye?void 0:ye.sign_in_second_factor)||null}})).apply(this,arguments)}function Er(A){return 1e3*Number(A)}function Fn(A){const[p,v,C]=A.split(".");if(void 0===p||void 0===v||void 0===C)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,V.u)(v);return q?JSON.parse(q):(Qe("Failed to decode base64 JWT payload"),null)}catch(q){return Qe("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function pr(A){const p=Fn(A);return we(p,"internal-error"),we(typeof p.exp<"u","internal-error"),we(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Dn(A,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.A)(function*(A,p,v=!1){if(v)return p;try{return yield p}catch(C){throw C instanceof V.g&&function _r({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(C)&&A.auth.currentUser===A&&(yield A.auth.signOut()),C}})).apply(this,arguments)}class Un{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield v.iteration()}),C)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&p.schedule(!0))}p.schedule()})()}}class In{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ir(this.lastLoginAt),this.creationTime=ir(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(A){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.A)(function*(A){var p;const v=A.auth,C=yield A.getIdToken(),q=yield Dn(A,Zt(v,{idToken:C}));we(null==q?void 0:q.users.length,v,"internal-error");const ye=q.users[0];A._notifyReloadListener(ye);const pt=null!==(p=ye.providerUserInfo)&&void 0!==p&&p.length?yt(ye.providerUserInfo):[],Ut=function Ye(A,p){return[...A.filter(C=>!p.some(q=>q.providerId===C.providerId)),...p]}(A.providerData,pt),hr=!!A.isAnonymous&&!(A.email&&ye.passwordHash||null!=Ut&&Ut.length),oi={uid:ye.localId,displayName:ye.displayName||null,photoURL:ye.photoUrl||null,email:ye.email||null,emailVerified:ye.emailVerified||!1,phoneNumber:ye.phoneNumber||null,tenantId:ye.tenantId||null,providerData:Ut,metadata:new In(ye.createdAt,ye.lastLoginAt),isAnonymous:hr};Object.assign(A,oi)})).apply(this,arguments)}function it(){return(it=(0,c.A)(function*(A){const p=(0,V.Ku)(A);yield Pn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function yt(A){return A.map(p=>{var{providerId:v}=p,C=(0,Y.Tt)(p,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function de(){return(de=(0,c.A)(function*(A,p){const v=yield lt(A,{},(0,c.A)(function*(){const C=(0,V.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:q,apiKey:ye}=A.config,pt=nn(A,q,"/v1/token",`key=${ye}`),Ut=yield A._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(pt,{method:"POST",headers:Ut,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function ne(){return(ne=(0,c.A)(function*(A,p){return Me(A,"POST","/v2/accounts:revokeToken",se(A,p))})).apply(this,arguments)}class F{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){we(p.idToken,"internal-error"),we(typeof p.idToken<"u","internal-error"),we(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):pr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}updateFromIdToken(p){we(0!==p.length,"internal-error");const v=pr(p);this.updateTokensAndExpiration(p,null,v)}getToken(p,v=!1){var C=this;return(0,c.A)(function*(){return v||!C.accessToken||C.isExpired?(we(C.refreshToken,p,"user-token-expired"),C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null):C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var C=this;return(0,c.A)(function*(){const{accessToken:q,refreshToken:ye,expiresIn:pt}=yield function rt(A,p){return de.apply(this,arguments)}(p,v);C.updateTokensAndExpiration(q,ye,Number(pt))})()}updateTokensAndExpiration(p,v,C){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,v){const{refreshToken:C,accessToken:q,expirationTime:ye}=v,pt=new F;return C&&(we("string"==typeof C,"internal-error",{appName:p}),pt.refreshToken=C),q&&(we("string"==typeof q,"internal-error",{appName:p}),pt.accessToken=q),ye&&(we("number"==typeof ye,"internal-error",{appName:p}),pt.expirationTime=ye),pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new F,this.toJSON())}_performRefresh(){return Dt("not implemented")}}function B(A,p){we("string"==typeof A||typeof A>"u","internal-error",{appName:p})}class Ie{constructor(p){var{uid:v,auth:C,stsTokenManager:q}=p,ye=(0,Y.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ye.displayName||null,this.email=ye.email||null,this.emailVerified=ye.emailVerified||!1,this.phoneNumber=ye.phoneNumber||null,this.photoURL=ye.photoURL||null,this.isAnonymous=ye.isAnonymous||!1,this.tenantId=ye.tenantId||null,this.providerData=ye.providerData?[...ye.providerData]:[],this.metadata=new In(ye.createdAt||void 0,ye.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,c.A)(function*(){const C=yield Dn(v,v.stsTokenManager.getToken(v.auth,p));return we(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(p){return function Qn(A){return Rn.apply(this,arguments)}(this,p)}reload(){return function Tr(A){return it.apply(this,arguments)}(this)}_assign(p){this!==p&&(we(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new Ie(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var C=this;return(0,c.A)(function*(){let q=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),q=!0),v&&(yield Pn(C)),yield C.auth._persistUserIfCurrent(C),q&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,d._isFirebaseServerApp)(p.auth.app))return Promise.reject(je(p.auth));const v=yield p.getIdToken();return yield Dn(p,function Wn(A,p){return ur.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var C,q,ye,pt,Ut,ln,$n,hr;const oi=null!==(C=v.displayName)&&void 0!==C?C:void 0,bs=null!==(q=v.email)&&void 0!==q?q:void 0,sa=null!==(ye=v.phoneNumber)&&void 0!==ye?ye:void 0,Wa=null!==(pt=v.photoURL)&&void 0!==pt?pt:void 0,Xc=null!==(Ut=v.tenantId)&&void 0!==Ut?Ut:void 0,xl=null!==(ln=v._redirectEventId)&&void 0!==ln?ln:void 0,Bu=null!==($n=v.createdAt)&&void 0!==$n?$n:void 0,va=null!==(hr=v.lastLoginAt)&&void 0!==hr?hr:void 0,{uid:Qc,emailVerified:Yc,isAnonymous:_u,providerData:eu,stsTokenManager:yu}=v;we(Qc&&yu,p,"internal-error");const Fr=F.fromJSON(this.name,yu);we("string"==typeof Qc,p,"internal-error"),B(oi,p.name),B(bs,p.name),we("boolean"==typeof Yc,p,"internal-error"),we("boolean"==typeof _u,p,"internal-error"),B(sa,p.name),B(Wa,p.name),B(Xc,p.name),B(xl,p.name),B(Bu,p.name),B(va,p.name);const ju=new Ie({uid:Qc,auth:p,email:bs,emailVerified:Yc,displayName:oi,isAnonymous:_u,photoURL:Wa,phoneNumber:sa,tenantId:Xc,stsTokenManager:Fr,createdAt:Bu,lastLoginAt:va});return eu&&Array.isArray(eu)&&(ju.providerData=eu.map(yc=>Object.assign({},yc))),xl&&(ju._redirectEventId=xl),ju}static _fromIdTokenResponse(p,v,C=!1){return(0,c.A)(function*(){const q=new F;q.updateFromServerResponse(v);const ye=new Ie({uid:v.localId,auth:p,stsTokenManager:q,isAnonymous:C});return yield Pn(ye),ye})()}static _fromGetAccountInfoResponse(p,v,C){return(0,c.A)(function*(){const q=v.users[0];we(void 0!==q.localId,"internal-error");const ye=void 0!==q.providerUserInfo?yt(q.providerUserInfo):[],pt=!(q.email&&q.passwordHash||null!=ye&&ye.length),Ut=new F;Ut.updateFromIdToken(C);const ln=new Ie({uid:q.localId,auth:p,stsTokenManager:Ut,isAnonymous:pt}),$n={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:ye,metadata:new In(q.createdAt,q.lastLoginAt),isAnonymous:!(q.email&&q.passwordHash||null!=ye&&ye.length)};return Object.assign(ln,$n),ln})()}}const Le=new Map;function ut(A){kt(A instanceof Function,"Expected a class definition");let p=Le.get(A);return p?(kt(p instanceof A,"Instance stored in cache mismatched with class"),p):(p=new A,Le.set(A,p),p)}const $t=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(v,C){var q=this;return(0,c.A)(function*(){q.storage[v]=C})()}_get(v){var C=this;return(0,c.A)(function*(){const q=C.storage[v];return void 0===q?null:q})()}_remove(v){var C=this;return(0,c.A)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return A.type="NONE",A})();function sn(A,p,v){return`firebase:${A}:${p}:${v}`}class zt{constructor(p,v,C){this.persistence=p,this.auth=v,this.userKey=C;const{config:q,name:ye}=this.auth;this.fullUserKey=sn(this.userKey,q.apiKey,ye),this.fullPersistenceKey=sn("persistence",q.apiKey,ye),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?Ie._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,c.A)(function*(){if(v.persistence===p)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,C="authUser"){return(0,c.A)(function*(){if(!v.length)return new zt(ut($t),p,C);const q=(yield Promise.all(v.map(function(){var $n=(0,c.A)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return $n.apply(this,arguments)}}()))).filter($n=>$n);let ye=q[0]||ut($t);const pt=sn(C,p.config.apiKey,p.name);let Ut=null;for(const $n of v)try{const hr=yield $n._get(pt);if(hr){const oi=Ie._fromJSON(p,hr);$n!==ye&&(Ut=oi),ye=$n;break}}catch{}const ln=q.filter($n=>$n._shouldAllowMigration);return ye._shouldAllowMigration&&ln.length?(ye=ln[0],Ut&&(yield ye._set(pt,Ut.toJSON())),yield Promise.all(v.map(function(){var $n=(0,c.A)(function*(hr){if(hr!==ye)try{yield hr._remove(pt)}catch{}});return function(hr){return $n.apply(this,arguments)}}())),new zt(ye,p,C)):new zt(ye,p,C)})()}}function Ot(A){const p=A.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ci(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Tn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(or(p))return"Blackberry";if(Br(p))return"Webos";if(lr(p))return"Safari";if((p.includes("chrome/")||Lr(p))&&!p.includes("edge/"))return"Chrome";if(Jr(p))return"Android";{const C=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Tn(A=(0,V.ZQ)()){return/firefox\//i.test(A)}function lr(A=(0,V.ZQ)()){const p=A.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Lr(A=(0,V.ZQ)()){return/crios\//i.test(A)}function ci(A=(0,V.ZQ)()){return/iemobile/i.test(A)}function Jr(A=(0,V.ZQ)()){return/android/i.test(A)}function or(A=(0,V.ZQ)()){return/blackberry/i.test(A)}function Br(A=(0,V.ZQ)()){return/webos/i.test(A)}function Ti(A=(0,V.ZQ)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function xt(A=(0,V.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function ae(A=(0,V.ZQ)()){return Ti(A)||Jr(A)||Br(A)||or(A)||/windows phone/i.test(A)||ci(A)}function re(A,p=[]){let v;switch(A){case"Browser":v=Ot((0,V.ZQ)());break;case"Worker":v=`${Ot((0,V.ZQ)())}-${A}`;break;default:v=A}const C=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${d.SDK_VERSION}/${C}`}class te{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const C=ye=>new Promise((pt,Ut)=>{try{pt(p(ye))}catch(ln){Ut(ln)}});C.onAbort=v,this.queue.push(C);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,c.A)(function*(){if(v.auth.currentUser===p)return;const C=[];try{for(const q of v.queue)yield q(p),q.onAbort&&C.push(q.onAbort)}catch(q){C.reverse();for(const ye of C)try{ye()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}function St(){return(St=(0,c.A)(function*(A,p={}){return Me(A,"GET","/v2/passwordPolicy",se(A,p))})).apply(this,arguments)}class _n{constructor(p){var v,C,q,ye;const pt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=pt.minPasswordLength)&&void 0!==v?v:6,pt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=pt.maxPasswordLength),void 0!==pt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=pt.containsLowercaseCharacter),void 0!==pt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=pt.containsUppercaseCharacter),void 0!==pt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=pt.containsNumericCharacter),void 0!==pt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=pt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(C=p.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(ye=p.forceUpgradeOnSignin)&&void 0!==ye&&ye,this.schemaVersion=p.schemaVersion}validatePassword(p){var v,C,q,ye,pt,Ut;const ln={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,ln),this.validatePasswordCharacterOptions(p,ln),ln.isValid&&(ln.isValid=null===(v=ln.meetsMinPasswordLength)||void 0===v||v),ln.isValid&&(ln.isValid=null===(C=ln.meetsMaxPasswordLength)||void 0===C||C),ln.isValid&&(ln.isValid=null===(q=ln.containsLowercaseLetter)||void 0===q||q),ln.isValid&&(ln.isValid=null===(ye=ln.containsUppercaseLetter)||void 0===ye||ye),ln.isValid&&(ln.isValid=null===(pt=ln.containsNumericCharacter)||void 0===pt||pt),ln.isValid&&(ln.isValid=null===(Ut=ln.containsNonAlphanumericCharacter)||void 0===Ut||Ut),ln}validatePasswordLengthOptions(p,v){const C=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;C&&(v.meetsMinPasswordLength=p.length>=C),q&&(v.meetsMaxPasswordLength=p.length<=q)}validatePasswordCharacterOptions(p,v){let C;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let q=0;q<p.length;q++)C=p.charAt(q),this.updatePasswordCharacterOptionsStatuses(v,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(p,v,C,q,ye){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=ye))}}class Yn{constructor(p,v,C,q){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new te(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(p,v){var C=this;return v&&(this._popupRedirectResolver=ut(v)),this._initializationPromise=this.queue((0,c.A)(function*(){var q,ye;if(!C._deleted&&(C.persistenceManager=yield zt.create(C,p),!C._deleted)){if(null!==(q=C._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(ye=C.currentUser)||void 0===ye?void 0:ye.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(p){var v=this;return(0,c.A)(function*(){try{const C=yield Zt(v,{idToken:p}),q=yield Ie._fromGetAccountInfoResponse(v,C,p);yield v.directlySetCurrentUser(q)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var v=this;return(0,c.A)(function*(){var C;if((0,d._isFirebaseServerApp)(v.app)){const Ut=v.app.settings.authIdToken;return Ut?new Promise(ln=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ut).then(ln,ln))}):v.directlySetCurrentUser(null)}const q=yield v.assertedPersistence.getCurrentUser();let ye=q,pt=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ut=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,ln=null==ye?void 0:ye._redirectEventId,$n=yield v.tryRedirectSignIn(p);(!Ut||Ut===ln)&&null!=$n&&$n.user&&(ye=$n.user,pt=!0)}if(!ye)return v.directlySetCurrentUser(null);if(!ye._redirectEventId){if(pt)try{yield v.beforeStateQueue.runMiddleware(ye)}catch(Ut){ye=q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ut))}return ye?v.reloadAndSetCurrentUserOrClear(ye):v.directlySetCurrentUser(null)}return we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ye._redirectEventId?v.directlySetCurrentUser(ye):v.reloadAndSetCurrentUserOrClear(ye)})()}tryRedirectSignIn(p){var v=this;return(0,c.A)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,c.A)(function*(){try{yield Pn(p)}catch(C){if("auth/network-request-failed"!==(null==C?void 0:C.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function mt(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,c.A)(function*(){if((0,d._isFirebaseServerApp)(v.app))return Promise.reject(je(v));const C=p?(0,V.Ku)(p):null;return C&&we(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(p,v=!1){var C=this;return(0,c.A)(function*(){if(!C._deleted)return p&&we(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,c.A)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,d._isFirebaseServerApp)(p.app)?Promise.reject(je(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var v=this;return(0,d._isFirebaseServerApp)(this.app)?Promise.reject(je(this)):this.queue((0,c.A)(function*(){yield v.assertedPersistence.setPersistence(ut(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var v=this;return(0,c.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const C=v._getPasswordPolicyInternal();return C.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const v=yield function Ve(A){return St.apply(this,arguments)}(p),C=new _n(v);null===p.tenantId?p._projectPasswordPolicy=C:p._tenantPasswordPolicies[p.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.FA("auth","Firebase",p())}onAuthStateChanged(p,v,C){return this.registerStateListener(this.authStateSubscription,p,v,C)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,C){return this.registerStateListener(this.idTokenSubscription,p,v,C)}authStateReady(){return new Promise((p,v)=>{if(this.currentUser)p();else{const C=this.onAuthStateChanged(()=>{C(),p()},v)}})}revokeAccessToken(p){var v=this;return(0,c.A)(function*(){if(v.currentUser){const C=yield v.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:C};null!=v.tenantId&&(q.tenantId=v.tenantId),yield function Ee(A,p){return ne.apply(this,arguments)}(v,q)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var C=this;return(0,c.A)(function*(){const q=yield C.getOrInitRedirectPersistenceManager(v);return null===p?q.removeCurrentUser():q.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,c.A)(function*(){if(!v.redirectPersistenceManager){const C=p&&ut(p)||v._popupRedirectResolver;we(C,v,"argument-error"),v.redirectPersistenceManager=yield zt.create(v,[ut(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,c.A)(function*(){var C,q;return v._isInitialized&&(yield v.queue((0,c.A)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===p?v._currentUser:(null===(q=v.redirectUser)||void 0===q?void 0:q._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,c.A)(function*(){if(p===v.currentUser)return v.queue((0,c.A)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,C,q){if(this._deleted)return()=>{};const ye="function"==typeof v?v:v.next.bind(v);let pt=!1;const Ut=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(Ut,this,"internal-error"),Ut.then(()=>{pt||ye(this.currentUser)}),"function"==typeof v){const ln=p.addObserver(v,C,q);return()=>{pt=!0,ln()}}{const ln=p.addObserver(v);return()=>{pt=!0,ln()}}}directlySetCurrentUser(p){var v=this;return(0,c.A)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var v;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const q=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();q&&(C["X-Firebase-Client"]=q);const ye=yield p._getAppCheckToken();return ye&&(C["X-Firebase-AppCheck"]=ye),C})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var v;const C=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=C&&C.error&&function et(A,...p){Xe.logLevel<=Re.$b.WARN&&Xe.warn(`Auth (${d.SDK_VERSION}): ${A}`,...p)}(`Error while retrieving App Check token: ${C.error}`),null==C?void 0:C.token})()}}function Gn(A){return(0,V.Ku)(A)}class di{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.tD)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ii={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jn(A){return Ii.loadJS(A)}function Vr(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Bi{constructor(p){this.type="recaptcha-enterprise",this.auth=Gn(p)}verify(p="verify",v=!1){var C=this;return(0,c.A)(function*(){function ye(){return ye=(0,c.A)(function*(Ut){if(!v){if(null==Ut.tenantId&&null!=Ut._agentRecaptchaConfig)return Ut._agentRecaptchaConfig.siteKey;if(null!=Ut.tenantId&&void 0!==Ut._tenantRecaptchaConfigs[Ut.tenantId])return Ut._tenantRecaptchaConfigs[Ut.tenantId].siteKey}return new Promise(function(){var ln=(0,c.A)(function*($n,hr){Rt(Ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(oi=>{if(void 0!==oi.recaptchaKey){const bs=new zn(oi);return null==Ut.tenantId?Ut._agentRecaptchaConfig=bs:Ut._tenantRecaptchaConfigs[Ut.tenantId]=bs,$n(bs.siteKey)}hr(new Error("recaptcha Enterprise site key undefined"))}).catch(oi=>{hr(oi)})});return function($n,hr){return ln.apply(this,arguments)}}())}),ye.apply(this,arguments)}function pt(Ut,ln,$n){const hr=window.grecaptcha;Vn(hr)?hr.enterprise.ready(()=>{hr.enterprise.execute(Ut,{action:p}).then(oi=>{ln(oi)}).catch(()=>{ln("NO_RECAPTCHA")})}):$n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ut,ln)=>{(function q(Ut){return ye.apply(this,arguments)})(C.auth).then($n=>{if(!v&&Vn(window.grecaptcha))pt($n,Ut,ln);else{if(typeof window>"u")return void ln(new Error("RecaptchaVerifier is only supported in browser"));let hr=function Oo(){return Ii.recaptchaEnterpriseScript}();0!==hr.length&&(hr+=$n),Jn(hr).then(()=>{pt($n,Ut,ln)}).catch(oi=>{ln(oi)})}}).catch($n=>{ln($n)})})})()}}function Di(A,p,v){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.A)(function*(A,p,v,C=!1){const q=new Bi(A);let ye;try{ye=yield q.verify(v)}catch{ye=yield q.verify(v,!0)}const pt=Object.assign({},p);return Object.assign(pt,C?{captchaResp:ye}:{captchaResponse:ye}),Object.assign(pt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(pt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),pt})).apply(this,arguments)}function mo(A,p,v,C){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,c.A)(function*(A,p,v,C){var q;if(null!==(q=A._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ye=yield Di(A,p,v,"getOobCode"===v);return C(A,ye)}return C(A,p).catch(function(){var ye=(0,c.A)(function*(pt){if("auth/missing-recaptcha-token"===pt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ut=yield Di(A,p,v,"getOobCode"===v);return C(A,Ut)}return Promise.reject(pt)});return function(pt){return ye.apply(this,arguments)}}())}),Zo.apply(this,arguments)}function es(A,p,v){const C=Gn(A);we(C._canInitEmulator,C,"emulator-config-failed"),we(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const q=!(null==v||!v.disableWarnings),ye=vo(p),{host:pt,port:Ut}=function ti(A){const p=vo(A),v=/(\/\/)?([^?#/]+)/.exec(A.substr(p.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(C);if(q){const ye=q[1];return{host:ye,port:Ho(C.substr(ye.length+1))}}{const[ye,pt]=C.split(":");return{host:ye,port:Ho(pt)}}}(p);C.config.emulator={url:`${ye}//${pt}${null===Ut?"":`:${Ut}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:pt,port:Ut,protocol:ye.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function On(){function A(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function vo(A){const p=A.indexOf(":");return p<0?"":A.substr(0,p+1)}function Ho(A){if(!A)return null;const p=Number(A);return isNaN(p)?null:p}class _o{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return Dt("not implemented")}_getIdTokenResponse(p){return Dt("not implemented")}_linkToIdToken(p,v){return Dt("not implemented")}_getReauthenticationResolver(p){return Dt("not implemented")}}function ko(A,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:resetPassword",se(A,p))})).apply(this,arguments)}function ao(){return(ao=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yo(A,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function wi(){return(wi=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:update",se(A,p))})).apply(this,arguments)}function S(A,p){return X.apply(this,arguments)}function X(){return(X=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithPassword",se(A,p))})).apply(this,arguments)}function me(A,p){return x.apply(this,arguments)}function x(){return(x=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:sendOobCode",se(A,p))})).apply(this,arguments)}function P(){return(P=(0,c.A)(function*(A,p){return me(A,p)})).apply(this,arguments)}function oe(A,p){return $e.apply(this,arguments)}function $e(){return($e=(0,c.A)(function*(A,p){return me(A,p)})).apply(this,arguments)}function He(A,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.A)(function*(A,p){return me(A,p)})).apply(this,arguments)}function jt(){return(jt=(0,c.A)(function*(A,p){return me(A,p)})).apply(this,arguments)}function qt(){return(qt=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithEmailLink",se(A,p))})).apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithEmailLink",se(A,p))})).apply(this,arguments)}class Mn extends _o{constructor(p,v,C,q=null){super("password",C),this._email=p,this._password=v,this._tenantId=q}static _fromEmailAndPassword(p,v){return new Mn(p,v,"password")}static _fromEmailAndCode(p,v,C=null){return new Mn(p,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,c.A)(function*(){switch(v.signInMethod){case"password":return mo(p,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",S);case"emailLink":return function Yt(A,p){return qt.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:tt(p,"internal-error")}})()}_linkToIdToken(p,v){var C=this;return(0,c.A)(function*(){switch(C.signInMethod){case"password":return mo(p,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yo);case"emailLink":return function tn(A,p){return Cn.apply(this,arguments)}(p,{idToken:v,email:C._email,oobCode:C._password});default:tt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Kn(A,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithIdp",se(A,p))})).apply(this,arguments)}class si extends _o{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new si(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):tt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:q}=v,ye=(0,Y.Tt)(v,["providerId","signInMethod"]);if(!C||!q)return null;const pt=new si(C,q);return pt.idToken=ye.idToken||void 0,pt.accessToken=ye.accessToken||void 0,pt.secret=ye.secret,pt.nonce=ye.nonce,pt.pendingToken=ye.pendingToken||null,pt}_getIdTokenResponse(p){return Kn(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,Kn(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,Kn(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,V.Am)(v)}return p}}function Ri(){return(Ri=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:sendVerificationCode",se(A,p))})).apply(this,arguments)}function jr(){return(jr=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithPhoneNumber",se(A,p))})).apply(this,arguments)}function Ps(){return(Ps=(0,c.A)(function*(A,p){const v=yield wt(A,"POST","/v1/accounts:signInWithPhoneNumber",se(A,p));if(v.temporaryProof)throw Hn(A,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function Ia(){return(Ia=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithPhoneNumber",se(A,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class ns extends _o{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new ns({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new ns({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function xi(A,p){return jr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function Ji(A,p){return Ps.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ms(A,p){return Ia.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:C,verificationCode:q}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:C,code:q}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:C,phoneNumber:q,temporaryProof:ye}=p;return C||v||q||ye?new ns({verificationId:v,verificationCode:C,phoneNumber:q,temporaryProof:ye}):null}}class Hi{constructor(p){var v,C,q,ye,pt,Ut;const ln=(0,V.I9)((0,V.hp)(p)),$n=null!==(v=ln.apiKey)&&void 0!==v?v:null,hr=null!==(C=ln.oobCode)&&void 0!==C?C:null,oi=function ka(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=ln.mode)&&void 0!==q?q:null);we($n&&hr&&oi,"argument-error"),this.apiKey=$n,this.operation=oi,this.code=hr,this.continueUrl=null!==(ye=ln.continueUrl)&&void 0!==ye?ye:null,this.languageCode=null!==(pt=ln.languageCode)&&void 0!==pt?pt:null,this.tenantId=null!==(Ut=ln.tenantId)&&void 0!==Ut?Ut:null}static parseLink(p){const v=function ua(A){const p=(0,V.I9)((0,V.hp)(A)).link,v=p?(0,V.I9)((0,V.hp)(p)).deep_link_id:null,C=(0,V.I9)((0,V.hp)(A)).deep_link_id;return(C?(0,V.I9)((0,V.hp)(C)).link:null)||C||v||p||A}(p);try{return new Hi(v)}catch{return null}}}let lo=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(v,C){return Mn._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const q=Hi.parseLink(C);return we(q,"argument-error"),Mn._fromEmailAndCode(v,q.code,q.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Do{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class zi extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Nr extends zi{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return we("providerId"in v&&"signInMethod"in v,"argument-error"),si._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return we(p.idToken||p.accessToken,"argument-error"),si._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Nr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Nr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:q,pendingToken:ye,nonce:pt,providerId:Ut}=p;if(!C&&!q&&!v&&!ye||!Ut)return null;try{return new Nr(Ut)._credential({idToken:v,accessToken:C,nonce:pt,pendingToken:ye})}catch{return null}}}let Sr=(()=>{class A extends zi{constructor(){super("facebook.com")}static credential(v){return si._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return A.credential(v.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),Ea=(()=>{class A extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return si._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:q}=v;if(!C&&!q)return null;try{return A.credential(C,q)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),dl=(()=>{class A extends zi{constructor(){super("github.com")}static credential(v){return si._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return A.credential(v.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class ds extends _o{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return Kn(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,Kn(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,Kn(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:q,pendingToken:ye}=v;return C&&q&&ye&&C===q?new ds(C,ye):null}static _create(p,v){return new ds(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zo extends Do{constructor(p){we(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return zo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return zo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=ds.fromJSON(p);return we(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:C}=p;if(!v||!C)return null;try{return ds._create(C,v)}catch{return null}}}let hs=(()=>{class A extends zi{constructor(){super("twitter.com")}static credential(v,C){return si._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:q}=v;if(!C||!q)return null;try{return A.credential(C,q)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function xs(A,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signUp",se(A,p))})).apply(this,arguments)}class Fo{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,C,q=!1){return(0,c.A)(function*(){const ye=yield Ie._fromIdTokenResponse(p,C,q),pt=Vl(C);return new Fo({user:ye,providerId:pt,_tokenResponse:C,operationType:v})})()}static _forOperation(p,v,C){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(C,!0);const q=Vl(C);return new Fo({user:p,providerId:q,_tokenResponse:C,operationType:v})})()}}function Vl(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function Ns(A){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.A)(function*(A){var p;if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const v=Gn(A);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new Fo({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield xs(v,{returnSecureToken:!0}),q=yield Fo._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(q.user),q})).apply(this,arguments)}class xo extends V.g{constructor(p,v,C,q){var ye;super(v.code,v.message),this.operationType=C,this.user=q,Object.setPrototypeOf(this,xo.prototype),this.customData={appName:p.name,tenantId:null!==(ye=p.tenantId)&&void 0!==ye?ye:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,v,C,q){return new xo(p,v,C,q)}}function Ja(A,p,v,C){return("reauthenticate"===p?v._getReauthenticationResolver(A):v._getIdTokenResponse(A)).catch(ye=>{throw"auth/multi-factor-auth-required"===ye.code?xo._fromErrorAndOperation(A,ye,p,C):ye})}function Aa(A){return new Set(A.map(({providerId:p})=>p).filter(p=>!!p))}function W(A,p){return k.apply(this,arguments)}function k(){return k=(0,c.A)(function*(A,p){const v=(0,V.Ku)(A);yield xe(!0,v,p);const{providerUserInfo:C}=yield function Xn(A,p){return un.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),q=Aa(C||[]);return v.providerData=v.providerData.filter(ye=>q.has(ye.providerId)),q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),k.apply(this,arguments)}function ve(A,p){return z.apply(this,arguments)}function z(){return(z=(0,c.A)(function*(A,p,v=!1){const C=yield Dn(A,p._linkToIdToken(A.auth,yield A.getIdToken()),v);return Fo._forOperation(A,"link",C)})).apply(this,arguments)}function xe(A,p,v){return en.apply(this,arguments)}function en(){return(en=(0,c.A)(function*(A,p,v){yield Pn(p);const q=!1===A?"provider-already-linked":"no-such-provider";we(Aa(p.providerData).has(v)===A,p.auth,q)})).apply(this,arguments)}function sr(A,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.A)(function*(A,p,v=!1){const{auth:C}=A;if((0,d._isFirebaseServerApp)(C.app))return Promise.reject(je(C));const q="reauthenticate";try{const ye=yield Dn(A,Ja(C,q,p,A),v);we(ye.idToken,C,"internal-error");const pt=Fn(ye.idToken);we(pt,C,"internal-error");const{sub:Ut}=pt;return we(A.uid===Ut,C,"user-mismatch"),Fo._forOperation(A,q,ye)}catch(ye){throw"auth/user-not-found"===(null==ye?void 0:ye.code)&&tt(C,"user-mismatch"),ye}})).apply(this,arguments)}function No(A,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.A)(function*(A,p,v=!1){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const C="signIn",q=yield Ja(A,C,p),ye=yield Fo._fromIdTokenResponse(A,C,q);return v||(yield A._updateCurrentUser(ye.user)),ye})).apply(this,arguments)}function is(A,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.A)(function*(A,p){return No(Gn(A),p)})).apply(this,arguments)}function fl(A,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.A)(function*(A,p){const v=(0,V.Ku)(A);return yield xe(!1,v,p.providerId),ve(v,p)})).apply(this,arguments)}function Ca(A,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.A)(function*(A,p){return sr((0,V.Ku)(A),p)})).apply(this,arguments)}function La(){return(La=(0,c.A)(function*(A,p){return wt(A,"POST","/v1/accounts:signInWithCustomToken",se(A,p))})).apply(this,arguments)}function gl(A,p){return os.apply(this,arguments)}function os(){return os=(0,c.A)(function*(A,p){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const v=Gn(A),C=yield function Ul(A,p){return La.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),q=yield Fo._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(q.user),q}),os.apply(this,arguments)}class cr{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?Gi._fromServerResponse(p,v):"totpInfo"in v?Wi._fromServerResponse(p,v):tt(p,"internal-error")}}class Gi extends cr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new Gi(v)}}class Wi extends cr{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new Wi(v)}}function io(A,p,v){var C;we((null===(C=v.url)||void 0===C?void 0:C.length)>0,A,"invalid-continue-uri"),we(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,A,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function co(A){return ss.apply(this,arguments)}function ss(){return(ss=(0,c.A)(function*(A){const p=Gn(A);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Ta(A,p,v){return $r.apply(this,arguments)}function $r(){return($r=(0,c.A)(function*(A,p,v){const C=Gn(A),q={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};v&&io(C,q,v),yield mo(C,q,"getOobCode",oe)})).apply(this,arguments)}function fu(A,p,v){return ml.apply(this,arguments)}function ml(){return ml=(0,c.A)(function*(A,p,v){yield ko((0,V.Ku)(A),{oobCode:p,newPassword:v}).catch(function(){var C=(0,c.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&co(A),q});return function(q){return C.apply(this,arguments)}}())}),ml.apply(this,arguments)}function fs(A,p){return Za.apply(this,arguments)}function Za(){return Za=(0,c.A)(function*(A,p){yield function To(A,p){return wi.apply(this,arguments)}((0,V.Ku)(A),{oobCode:p})}),Za.apply(this,arguments)}function ca(A,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.A)(function*(A,p){const v=(0,V.Ku)(A),C=yield ko(v,{oobCode:p}),q=C.requestType;switch(we(q,v,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(C.mfaInfo,v,"internal-error");default:we(C.email,v,"internal-error")}let ye=null;return C.mfaInfo&&(ye=cr._fromServerResponse(Gn(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ye},operation:q}})).apply(this,arguments)}function Da(A,p){return $l.apply(this,arguments)}function $l(){return($l=(0,c.A)(function*(A,p){const{data:v}=yield ca((0,V.Ku)(A),p);return v.email})).apply(this,arguments)}function Ts(A,p,v){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.A)(function*(A,p,v){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const C=Gn(A),pt=yield mo(C,{returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xs).catch(ln=>{throw"auth/password-does-not-meet-requirements"===ln.code&&co(A),ln}),Ut=yield Fo._fromIdTokenResponse(C,"signIn",pt);return yield C._updateCurrentUser(Ut.user),Ut})).apply(this,arguments)}function Rr(A,p,v){return(0,d._isFirebaseServerApp)(A.app)?Promise.reject(je(A)):is((0,V.Ku)(A),lo.credential(p,v)).catch(function(){var C=(0,c.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&co(A),q});return function(q){return C.apply(this,arguments)}}())}function Ei(A,p,v){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.A)(function*(A,p,v){const C=Gn(A),q={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function ye(pt,Ut){we(Ut.handleCodeInApp,C,"argument-error"),Ut&&io(C,pt,Ut)})(q,v),yield mo(C,q,"getOobCode",He)})).apply(this,arguments)}function Ko(A,p){const v=Hi.parseLink(p);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Va(A,p,v){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.A)(function*(A,p,v){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const C=(0,V.Ku)(A),q=lo.credentialWithLink(p,v||rn());return we(q._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),is(C,q)})).apply(this,arguments)}function vl(){return(vl=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:createAuthUri",se(A,p))})).apply(this,arguments)}function Bl(A,p){return Os.apply(this,arguments)}function Os(){return Os=(0,c.A)(function*(A,p){const C={identifier:p,continueUri:fn()?rn():"http://localhost"},{signinMethods:q}=yield function Js(A,p){return vl.apply(this,arguments)}((0,V.Ku)(A),C);return q||[]}),Os.apply(this,arguments)}function qo(A,p){return da.apply(this,arguments)}function da(){return da=(0,c.A)(function*(A,p){const v=(0,V.Ku)(A),q={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};p&&io(v.auth,q,p);const{email:ye}=yield function Ae(A,p){return P.apply(this,arguments)}(v.auth,q);ye!==A.email&&(yield A.reload())}),da.apply(this,arguments)}function _l(A,p,v){return jl.apply(this,arguments)}function jl(){return jl=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A),ye={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:p};v&&io(C.auth,ye,v);const{email:pt}=yield function Je(A,p){return jt.apply(this,arguments)}(C.auth,ye);pt!==A.email&&(yield A.reload())}),jl.apply(this,arguments)}function el(){return(el=(0,c.A)(function*(A,p){return Me(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $a(A,p){return as.apply(this,arguments)}function as(){return as=(0,c.A)(function*(A,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const C=(0,V.Ku)(A),ye={idToken:yield C.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},pt=yield Dn(C,function wa(A,p){return el.apply(this,arguments)}(C.auth,ye));C.displayName=pt.displayName||null,C.photoURL=pt.photoUrl||null;const Ut=C.providerData.find(({providerId:ln})=>"password"===ln);Ut&&(Ut.displayName=C.displayName,Ut.photoURL=C.photoURL),yield C._updateTokensIfNecessary(pt)}),as.apply(this,arguments)}function ps(A,p){const v=(0,V.Ku)(A);return(0,d._isFirebaseServerApp)(v.auth.app)?Promise.reject(je(v.auth)):ks(v,p,null)}function Zi(A,p){return ks((0,V.Ku)(A),null,p)}function ks(A,p,v){return oo.apply(this,arguments)}function oo(){return oo=(0,c.A)(function*(A,p,v){const{auth:C}=A,ye={idToken:yield A.getIdToken(),returnSecureToken:!0};p&&(ye.email=p),v&&(ye.password=v);const pt=yield Dn(A,function la(A,p){return ao.apply(this,arguments)}(C,ye));yield A._updateTokensIfNecessary(pt,!0)}),oo.apply(this,arguments)}class Pi{constructor(p,v,C={}){this.isNewUser=p,this.providerId=v,this.profile=C}}class E extends Pi{constructor(p,v,C,q){super(p,v,C),this.username=q}}class H extends Pi{constructor(p,v){super(p,"facebook.com",v)}}class Oe extends E{constructor(p,v){super(p,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class $ extends Pi{constructor(p,v){super(p,"google.com",v)}}class ee extends E{constructor(p,v,C){super(p,"twitter.com",v,C)}}function De(A){const{user:p,_tokenResponse:v}=A;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function gs(A){var p,v;if(!A)return null;const{providerId:C}=A,q=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},ye=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!C&&null!=A&&A.idToken){const pt=null===(v=null===(p=Fn(A.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(pt)return new Pi(ye,"anonymous"!==pt&&"custom"!==pt?pt:null)}if(!C)return null;switch(C){case"facebook.com":return new H(ye,q);case"github.com":return new Oe(ye,q);case"google.com":return new $(ye,q);case"twitter.com":return new ee(ye,q,A.screenName||null);case"custom":case"anonymous":return new Pi(ye,null);default:return new Pi(ye,C,q)}}(v)}class Vi{constructor(p,v,C){this.type=p,this.credential=v,this.user=C}static _fromIdtoken(p,v){return new Vi("enroll",p,v)}static _fromMfaPendingCredential(p){return new Vi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,C;if(null!=p&&p.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Vi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Vi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class mi{constructor(p,v,C){this.session=p,this.hints=v,this.signInResolver=C}static _fromError(p,v){const C=Gn(p),q=v.customData._serverResponse,ye=(q.mfaInfo||[]).map(Ut=>cr._fromServerResponse(C,Ut));we(q.mfaPendingCredential,C,"internal-error");const pt=Vi._fromMfaPendingCredential(q.mfaPendingCredential);return new mi(pt,ye,function(){var Ut=(0,c.A)(function*(ln){const $n=yield ln._process(C,pt);delete q.mfaInfo,delete q.mfaPendingCredential;const hr=Object.assign(Object.assign({},q),{idToken:$n.idToken,refreshToken:$n.refreshToken});switch(v.operationType){case"signIn":const oi=yield Fo._fromIdTokenResponse(C,v.operationType,hr);return yield C._updateCurrentUser(oi.user),oi;case"reauthenticate":return we(v.user,C,"internal-error"),Fo._forOperation(v.user,v.operationType,hr);default:tt(C,"internal-error")}});return function(ln){return Ut.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,c.A)(function*(){return v.signInResolver(p)})()}}function to(A,p){var v;const C=(0,V.Ku)(A),q=p;return we(p.customData.operationType,C,"argument-error"),we(null===(v=q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),mi._fromError(C,q)}class Xo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>cr._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Xo(p)}getSession(){var p=this;return(0,c.A)(function*(){return Vi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,v){var C=this;return(0,c.A)(function*(){const q=p,ye=yield C.getSession(),pt=yield Dn(C.user,q._process(C.user.auth,ye,v));return yield C.user._updateTokensIfNecessary(pt),C.user.reload()})()}unenroll(p){var v=this;return(0,c.A)(function*(){const C="string"==typeof p?p:p.uid,q=yield v.user.getIdToken();try{const ye=yield Dn(v.user,function an(A,p){return Me(A,"POST","/v2/accounts/mfaEnrollment:withdraw",se(A,p))}(v.user.auth,{idToken:q,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:pt})=>pt!==C),yield v.user._updateTokensIfNecessary(ye),yield v.user.reload()}catch(ye){throw ye}})()}}const Pr=new WeakMap;function yl(A){const p=(0,V.Ku)(A);return Pr.has(p)||Pr.set(p,Xo._fromUser(p)),Pr.get(p)}const mr="__sak";class En{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(mr,"1"),this.storage.removeItem(mr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const bo=(()=>{class A extends En{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fs(){const A=(0,V.ZQ)();return lr(A)||Ti(A)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ae(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const q=this.storage.getItem(C),ye=this.localCache[C];q!==ye&&v(C,ye,q)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((Ut,ln,$n)=>{this.notifyListeners(Ut,$n)});const q=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(q);if(v.newValue!==Ut)null!==v.newValue?this.storage.setItem(q,v.newValue):this.storage.removeItem(q);else if(this.localCache[q]===v.newValue&&!C)return}const ye=()=>{const Ut=this.storage.getItem(q);!C&&this.localCache[q]===Ut||this.notifyListeners(q,Ut)},pt=this.storage.getItem(q);!function he(){return(0,V.lT)()&&10===document.documentMode}()||pt===v.newValue||v.newValue===v.oldValue?ye():setTimeout(ye,10)}notifyListeners(v,C){this.localCache[v]=C;const q=this.listeners[v];if(q)for(const ye of Array.from(q))ye(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var q=()=>super._set,ye=this;return(0,c.A)(function*(){yield q().call(ye,v,C),ye.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,q=this;return(0,c.A)(function*(){const ye=yield C().call(q,v);return q.localCache[v]=JSON.stringify(ye),ye})()}_remove(v){var C=()=>super._remove,q=this;return(0,c.A)(function*(){yield C().call(q,v),delete q.localCache[v]})()}}return A.type="LOCAL",A})(),Lo=(()=>{class A extends En{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return A.type="SESSION",A})();let Hl=(()=>{class A{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(ye=>ye.isListeningto(v));if(C)return C;const q=new A(v);return this.receivers.push(q),q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,c.A)(function*(){const q=v,{eventId:ye,eventType:pt,data:Ut}=q.data,ln=C.handlersMap[pt];if(null==ln||!ln.size)return;q.ports[0].postMessage({status:"ack",eventId:ye,eventType:pt});const $n=Array.from(ln).map(function(){var oi=(0,c.A)(function*(bs){return bs(q.origin,Ut)});return function(bs){return oi.apply(this,arguments)}}()),hr=yield function Ar(A){return Promise.all(A.map(function(){var p=(0,c.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return p.apply(this,arguments)}}()))}($n);q.ports[0].postMessage({status:"done",eventId:ye,eventType:pt,response:hr})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function Zr(A="",p=10){let v="";for(let C=0;C<p;C++)v+=Math.floor(10*Math.random());return A+v}class Vo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,C=50){var q=this;return(0,c.A)(function*(){const ye=typeof MessageChannel<"u"?new MessageChannel:null;if(!ye)throw new Error("connection_unavailable");let pt,Ut;return new Promise((ln,$n)=>{const hr=Zr("",20);ye.port1.start();const oi=setTimeout(()=>{$n(new Error("unsupported_event"))},C);Ut={messageChannel:ye,onMessage(bs){const sa=bs;if(sa.data.eventId===hr)switch(sa.data.status){case"ack":clearTimeout(oi),pt=setTimeout(()=>{$n(new Error("timeout"))},3e3);break;case"done":clearTimeout(pt),ln(sa.data.response);break;default:clearTimeout(oi),clearTimeout(pt),$n(new Error("invalid_response"))}}},q.handlers.add(Ut),ye.port1.addEventListener("message",Ut.onMessage),q.target.postMessage({eventType:p,eventId:hr,data:v},[ye.port2])}).finally(()=>{Ut&&q.removeMessageHandler(Ut)})})()}}function Ui(){return window}function Ai(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function At(){return(At=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vs="firebaseLocalStorageDb",So="firebaseLocalStorage",Us="fbase_key";class ls{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Eo(A,p){return A.transaction([So],p?"readwrite":"readonly").objectStore(So)}function tl(){const A=indexedDB.open(Vs,1);return new Promise((p,v)=>{A.addEventListener("error",()=>{v(A.error)}),A.addEventListener("upgradeneeded",()=>{const C=A.result;try{C.createObjectStore(So,{keyPath:Us})}catch(q){v(q)}}),A.addEventListener("success",(0,c.A)(function*(){const C=A.result;C.objectStoreNames.contains(So)?p(C):(C.close(),yield function Ba(){const A=indexedDB.deleteDatabase(Vs);return new ls(A).toPromise()}(),p(yield tl()))}))})}function pu(A,p,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.A)(function*(A,p,v){const C=Eo(A,!0).put({[Us]:p,value:v});return new ls(C).toPromise()})).apply(this,arguments)}function nl(){return(nl=(0,c.A)(function*(A,p){const v=Eo(A,!1).get(p),C=yield new ls(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Gl(A,p){const v=Eo(A,!0).delete(p);return new ls(v).toPromise()}const I=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.A)(function*(){return v.db||(v.db=yield tl()),v.db})()}_withRetries(v){var C=this;return(0,c.A)(function*(){let q=0;for(;;)try{const ye=yield C._openDb();return yield v(ye)}catch(ye){if(q++>3)throw ye;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.A)(function*(){return Ai()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.A)(function*(){v.receiver=Hl._getInstance(function ms(){return Ai()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,c.A)(function*(q,ye){return{keyProcessed:(yield v._poll()).includes(ye.key)}});return function(q,ye){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,c.A)(function*(q,ye){return["keyChanged"]});return function(q,ye){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.A)(function*(){var C,q;if(v.activeServiceWorker=yield function zl(){return At.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Vo(v.activeServiceWorker);const ye=yield v.sender._send("ping",{},800);ye&&null!==(C=ye[0])&&void 0!==C&&C.fulfilled&&null!==(q=ye[0])&&void 0!==q&&q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,c.A)(function*(){if(C.sender&&C.activeServiceWorker&&function Io(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const v=yield tl();return yield pu(v,mr,"1"),yield Gl(v,mr),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,c.A)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var q=this;return(0,c.A)(function*(){return q._withPendingWrite((0,c.A)(function*(){return yield q._withRetries(ye=>pu(ye,v,C)),q.localCache[v]=C,q.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,c.A)(function*(){const q=yield C._withRetries(ye=>function Qo(A,p){return nl.apply(this,arguments)}(ye,v));return C.localCache[v]=q,q})()}_remove(v){var C=this;return(0,c.A)(function*(){return C._withPendingWrite((0,c.A)(function*(){return yield C._withRetries(q=>Gl(q,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.A)(function*(){const C=yield v._withRetries(pt=>{const Ut=Eo(pt,!1).getAll();return new ls(Ut).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const q=[],ye=new Set;if(0!==C.length)for(const{fbase_key:pt,value:Ut}of C)ye.add(pt),JSON.stringify(v.localCache[pt])!==JSON.stringify(Ut)&&(v.notifyListeners(pt,Ut),q.push(pt));for(const pt of Object.keys(v.localCache))v.localCache[pt]&&!ye.has(pt)&&(v.notifyListeners(pt,null),q.push(pt));return q})()}notifyListeners(v,C){this.localCache[v]=C;const q=this.listeners[v];if(q)for(const ye of Array.from(q))ye(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})(),Te=1e12;class Tt{constructor(p){this.auth=p,this.counter=Te,this._widgets=new Map}render(p,v){const C=this.counter;return this._widgets.set(C,new on(p,this.auth.name,v||{})),this.counter++,C}reset(p){var v;const C=p||Te;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(p){var v;return(null===(v=this._widgets.get(p||Te))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,c.A)(function*(){var C;return null===(C=v._widgets.get(p||Te))||void 0===C||C.execute(),""})()}}class on{constructor(p,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof p?document.getElementById(p):p;we(q,"argument-error",{appName:v}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ft(A){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<A;C++)p.push(v.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kn=Vr("rcb"),rr=new Ne(3e4,6e4);class Ni{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ui().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return we(function ri(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&tr(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((C,q)=>{const ye=Ui().setTimeout(()=>{q(Se(p,"network-request-failed"))},rr.get());Ui()[kn]=()=>{Ui().clearTimeout(ye),delete Ui()[kn];const Ut=Ui().grecaptcha;if(!Ut||!tr(Ut))return void q(Se(p,"internal-error"));const ln=Ut.render;Ut.render=($n,hr)=>{const oi=ln($n,hr);return this.counter++,oi},this.hostLanguage=v,C(Ut)},Jn(`${function Fi(){return Ii.recaptchaV2Script}()}?${(0,V.Am)({onload:kn,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ye),q(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=Ui().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ki{load(p){return(0,c.A)(function*(){return new Tt(p)})()}clearedOneInstance(){}}const na="recaptcha",Al={theme:"light",type:"image"};class Cl{constructor(p,v,C=Object.assign({},Al)){this.parameters=C,this.type=na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(p),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof v?document.getElementById(v):v;we(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ki:new Ni,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const v=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(v)||new Promise(ye=>{const pt=Ut=>{Ut&&(p.tokenChangeListeners.delete(pt),ye(Ut))};p.tokenChangeListeners.add(pt),p.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof p)p(v);else if("string"==typeof p){const C=Ui()[p];"function"==typeof C&&C(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){we(fn()&&!Ai(),p.auth,"internal-error"),yield function Uo(){let A=null;return new Promise(p=>{"complete"!==document.readyState?(A=()=>p(),window.addEventListener("load",A)):p()}).catch(p=>{throw A&&window.removeEventListener("load",A),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function gt(A){return Be.apply(this,arguments)}(p.auth);we(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ba{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=ns._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function Mu(A,p,v){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.A)(function*(A,p,v){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const C=Gn(A),q=yield Tl(C,p,(0,V.Ku)(v));return new ba(q,ye=>is(C,ye))})).apply(this,arguments)}function Kc(A,p,v){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A);yield xe(!1,C,"phone");const q=yield Tl(C.auth,p,(0,V.Ku)(v));return new ba(q,ye=>fl(C,ye))})).apply(this,arguments)}function ja(A,p,v){return xu.apply(this,arguments)}function xu(){return(xu=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A);if((0,d._isFirebaseServerApp)(C.auth.app))return Promise.reject(je(C.auth));const q=yield Tl(C.auth,p,(0,V.Ku)(v));return new ba(q,ye=>Ca(C,ye))})).apply(this,arguments)}function Tl(A,p,v){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,c.A)(function*(A,p,v){var C;const q=yield v.verify();try{let ye;if(we("string"==typeof q,A,"argument-error"),we(v.type===na,A,"argument-error"),ye="string"==typeof p?{phoneNumber:p}:p,"session"in ye){const pt=ye.session;if("phoneNumber"in ye)return we("enroll"===pt.type,A,"internal-error"),(yield function dr(A,p){return Me(A,"POST","/v2/accounts/mfaEnrollment:start",se(A,p))}(A,{idToken:pt.credential,phoneEnrollmentInfo:{phoneNumber:ye.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{we("signin"===pt.type,A,"internal-error");const Ut=(null===(C=ye.multiFactorHint)||void 0===C?void 0:C.uid)||ye.multiFactorUid;return we(Ut,A,"missing-multi-factor-info"),(yield function D(A,p){return Me(A,"POST","/v2/accounts/mfaSignIn:start",se(A,p))}(A,{mfaPendingCredential:pt.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pt}=yield function hi(A,p){return Ri.apply(this,arguments)}(A,{phoneNumber:ye.phoneNumber,recaptchaToken:q});return pt}}finally{v._reset()}}),Ao.apply(this,arguments)}function Hd(A,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.A)(function*(A,p){const v=(0,V.Ku)(A);if((0,d._isFirebaseServerApp)(v.auth.app))return Promise.reject(je(v.auth));yield ve(v,p)})).apply(this,arguments)}let Nu=(()=>{class A{constructor(v){this.providerId=A.PROVIDER_ID,this.auth=Gn(v)}verifyPhoneNumber(v,C){return Tl(this.auth,v,(0,V.Ku)(C))}static credential(v,C){return ns._fromVerification(v,C)}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:q}=v;return C&&q?ns._fromTokenResponse(C,q):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function Wr(A,p){return p?ut(p):(we(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class ho extends _o{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Kn(p,this._buildIdpRequest())}_linkToIdToken(p,v){return Kn(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return Kn(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function $o(A){return No(A.auth,new ho(A),A.bypassAuthState)}function vi(A){const{auth:p,user:v}=A;return we(v,p,"internal-error"),sr(v,new ho(A),A.bypassAuthState)}function Dl(A){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.A)(function*(A){const{auth:p,user:v}=A;return we(v,p,"internal-error"),ve(v,new ho(A),A.bypassAuthState)})).apply(this,arguments)}class vs{constructor(p,v,C,q,ye=!1){this.auth=p,this.resolver=C,this.user=q,this.bypassAuthState=ye,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,c.A)(function*(C,q){p.pendingPromise={resolve:C,reject:q};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ye){p.reject(ye)}});return function(C,q){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,c.A)(function*(){const{urlResponse:C,sessionId:q,postBody:ye,tenantId:pt,error:Ut,type:ln}=p;if(Ut)return void v.reject(Ut);const $n={auth:v.auth,requestUri:C,sessionId:q,tenantId:pt||void 0,postBody:ye||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ln)($n))}catch(hr){v.reject(hr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $o;case"linkViaPopup":case"linkViaRedirect":return Dl;case"reauthViaPopup":case"reauthViaRedirect":return vi;default:tt(this.auth,"internal-error")}}resolve(p){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gu=new Ne(2e3,1e4);function zd(A,p,v){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.A)(function*(A,p,v){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(Se(A,"operation-not-supported-in-this-environment"));const C=Gn(A);dt(A,p,Do);const q=Wr(C,v);return new Sa(C,"signInViaPopup",p,q).executeNotNull()})).apply(this,arguments)}function fc(A,p,v){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A);if((0,d._isFirebaseServerApp)(C.auth.app))return Promise.reject(Se(C.auth,"operation-not-supported-in-this-environment"));dt(C.auth,p,Do);const q=Wr(C.auth,v);return new Sa(C.auth,"reauthViaPopup",p,q,C).executeNotNull()})).apply(this,arguments)}function no(A,p,v){return $s.apply(this,arguments)}function $s(){return($s=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A);dt(C.auth,p,Do);const q=Wr(C.auth,v);return new Sa(C.auth,"linkViaPopup",p,q,C).executeNotNull()})).apply(this,arguments)}let Sa=(()=>{class A extends vs{constructor(v,C,q,ye,pt){super(v,C,ye,pt),this.provider=q,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.A)(function*(){const C=yield v.execute();return we(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,c.A)(function*(){kt(1===v.filter.length,"Popup operations only handle one event");const C=Zr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(q=>{v.reject(q)}),v.resolver._isIframeWebStorageSupported(v.auth,q=>{q||v.reject(Se(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,q;this.pollId=null!==(q=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,gu.get())};v()}}return A.currentPopupAction=null,A})();const Ha="pendingRedirect",Bs=new Map;class Ou extends vs{constructor(p,v,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,c.A)(function*(){let C=Bs.get(v.auth._key());if(!C){try{const ye=(yield function js(A,p){return fr.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;C=()=>Promise.resolve(ye)}catch(q){C=()=>Promise.reject(q)}Bs.set(v.auth._key(),C)}return v.bypassAuthState||Bs.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,C=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return v().call(C,p);if("unknown"!==p.type){if(p.eventId){const q=yield C.auth._redirectUserForId(p.eventId);if(q)return C.user=q,v().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function fr(){return(fr=(0,c.A)(function*(A,p){const v=ku(p),C=Ga(A);if(!(yield C._isAvailable()))return!1;const q="true"===(yield C._get(v));return yield C._remove(v),q})).apply(this,arguments)}function wl(A,p){return za.apply(this,arguments)}function za(){return(za=(0,c.A)(function*(A,p){return Ga(A)._set(ku(p),"true")})).apply(this,arguments)}function Ra(){Bs.clear()}function Wl(A,p){Bs.set(A._key(),p)}function Ga(A){return ut(A._redirectPersistence)}function ku(A){return sn(Ha,A.config.apiKey,A.name)}function ra(A,p,v){return function Fu(A,p,v){return ga.apply(this,arguments)}(A,p,v)}function ga(){return(ga=(0,c.A)(function*(A,p,v){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const C=Gn(A);dt(A,p,Do),yield C._initializationPromise;const q=Wr(C,v);return yield wl(q,C),q._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function bl(A,p,v){return function Kl(A,p,v){return rl.apply(this,arguments)}(A,p,v)}function rl(){return(rl=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A);if(dt(C.auth,p,Do),(0,d._isFirebaseServerApp)(C.auth.app))return Promise.reject(je(C.auth));yield C.auth._initializationPromise;const q=Wr(C.auth,v);yield wl(q,C.auth);const ye=yield Po(C);return q._openRedirect(C.auth,p,"reauthViaRedirect",ye)})).apply(this,arguments)}function Xt(A,p,v){return function Kr(A,p,v){return Sl.apply(this,arguments)}(A,p,v)}function Sl(){return(Sl=(0,c.A)(function*(A,p,v){const C=(0,V.Ku)(A);dt(C.auth,p,Do),yield C.auth._initializationPromise;const q=Wr(C.auth,v);yield xe(!1,C,p.providerId),yield wl(q,C.auth);const ye=yield Po(C);return q._openRedirect(C.auth,p,"linkViaRedirect",ye)})).apply(this,arguments)}function ql(A,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.A)(function*(A,p){return yield Gn(A)._initializationPromise,mu(A,p,!1)})).apply(this,arguments)}function mu(A,p){return il.apply(this,arguments)}function il(){return(il=(0,c.A)(function*(A,p,v=!1){if((0,d._isFirebaseServerApp)(A.app))return Promise.reject(je(A));const C=Gn(A),q=Wr(C,p),pt=yield new Ou(C,q,v).execute();return pt&&!v&&(delete pt.user._redirectEventId,yield C._persistUserIfCurrent(pt.user),yield C._setRedirectUser(null,p)),pt})).apply(this,arguments)}function Po(A){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.A)(function*(A){const p=Zr(`${A.uid}:::`);return A._redirectEventId=p,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),p})).apply(this,arguments)}class pc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(v=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function cs(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pa(A);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var C;if(p.error&&!Pa(p)){const q=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Se(this.auth,q))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const C=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qi(p))}saveEventToCache(p){this.cachedEventUids.add(qi(p)),this.lastProcessedEventTime=Date.now()}}function qi(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(p=>p).join("-")}function Pa({type:A,error:p}){return"unknown"===A&&"auth/no-auth-event"===(null==p?void 0:p.code)}function ma(A){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.A)(function*(A,p={}){return Me(A,"GET","/v1/projects",p)})).apply(this,arguments)}const ia=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hs=/^https?/;function _i(){return(_i=(0,c.A)(function*(A){if(A.config.emulator)return;const{authorizedDomains:p}=yield ma(A);for(const v of p)try{if(Xl(v))return}catch{}tt(A,"unauthorized-domain")})).apply(this,arguments)}function Xl(A){const p=rn(),{protocol:v,hostname:C}=new URL(p);if(A.startsWith("chrome-extension://")){const pt=new URL(A);return""===pt.hostname&&""===C?"chrome-extension:"===v&&A.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&pt.hostname===C}if(!Hs.test(v))return!1;if(ia.test(A))return C===A;const q=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(C)}const gc=new Ne(3e4,6e4);function Ql(){const A=Ui().___jsl;if(null!=A&&A.H)for(const p of Object.keys(A.H))if(A.H[p].r=A.H[p].r||[],A.H[p].L=A.H[p].L||[],A.H[p].r=[...A.H[p].L],A.CP)for(let v=0;v<A.CP.length;v++)A.CP[v]=null}let Pl=null;const qc=new Ne(5e3,15e3),vc="__/auth/iframe",R="emulator/auth/iframe",_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G(A){const p=A.config;we(p.authDomain,A,"auth-domain-config-required");const v=p.emulator?J(p,R):`https://${A.config.authDomain}/${vc}`,C={apiKey:p.apiKey,appName:A.name,v:d.SDK_VERSION},q=U.get(A.config.apiHost);q&&(C.eid=q);const ye=A._getFrameworks();return ye.length&&(C.fw=ye.join(",")),`${v}?${(0,V.Am)(C).slice(1)}`}function at(){return at=(0,c.A)(function*(A){const p=yield function Lu(A){return Pl=Pl||function mc(A){return new Promise((p,v)=>{var C,q,ye;function pt(){Ql(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ql(),v(Se(A,"network-request-failed"))},timeout:gc.get()})}if(null!==(q=null===(C=Ui().gapi)||void 0===C?void 0:C.iframes)&&void 0!==q&&q.Iframe)p(gapi.iframes.getContext());else{if(null===(ye=Ui().gapi)||void 0===ye||!ye.load){const Ut=Vr("iframefcb");return Ui()[Ut]=()=>{gapi.load?pt():v(Se(A,"network-request-failed"))},Jn(`${function go(){return Ii.gapiScript}()}?onload=${Ut}`).catch(ln=>v(ln))}pt()}}).catch(p=>{throw Pl=null,p})}(A),Pl}(A),v=Ui().gapi;return we(v,A,"internal-error"),p.open({where:document.body,url:G(A),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_,dontclear:!0},C=>new Promise(function(){var q=(0,c.A)(function*(ye,pt){yield C.restyle({setHideOnLeave:!1});const Ut=Se(A,"network-request-failed"),ln=Ui().setTimeout(()=>{pt(Ut)},qc.get());function $n(){Ui().clearTimeout(ln),ye(C)}C.ping($n).then($n,()=>{pt(Ut)})});return function(ye,pt){return q.apply(this,arguments)}}()))}),at.apply(this,arguments)}const Gt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kr{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Si="__/auth/handler",Oi="emulator/auth/handler",Mr=encodeURIComponent("fac");function qr(A,p,v,C,q,ye){return $i.apply(this,arguments)}function $i(){return($i=(0,c.A)(function*(A,p,v,C,q,ye){we(A.config.authDomain,A,"auth-domain-config-required"),we(A.config.apiKey,A,"invalid-api-key");const pt={apiKey:A.config.apiKey,appName:A.name,authType:v,redirectUrl:C,v:d.SDK_VERSION,eventId:q};if(p instanceof Do){p.setDefaultLanguage(A.languageCode),pt.providerId=p.providerId||"",(0,V.Im)(p.getCustomParameters())||(pt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[hr,oi]of Object.entries(ye||{}))pt[hr]=oi}if(p instanceof zi){const hr=p.getScopes().filter(oi=>""!==oi);hr.length>0&&(pt.scopes=hr.join(","))}A.tenantId&&(pt.tid=A.tenantId);const Ut=pt;for(const hr of Object.keys(Ut))void 0===Ut[hr]&&delete Ut[hr];const ln=yield A._getAppCheckToken(),$n=ln?`#${Mr}=${encodeURIComponent(ln)}`:"";return`${function Xi({config:A}){return A.emulator?J(A,Oi):`https://${A.authDomain}/${Si}`}(A)}?${(0,V.Am)(Ut).slice(1)}${$n}`})).apply(this,arguments)}const Ir="webStorageSupport",Xr=class ki{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=mu,this._overrideRedirectResult=Wl}_openPopup(p,v,C,q){var ye=this;return(0,c.A)(function*(){var pt;kt(null===(pt=ye.eventManagers[p._key()])||void 0===pt?void 0:pt.manager,"_initialize() not called before _openPopup()");const Ut=yield qr(p,v,C,rn(),q);return function yi(A,p,v,C=500,q=600){const ye=Math.max((window.screen.availHeight-q)/2,0).toString(),pt=Math.max((window.screen.availWidth-C)/2,0).toString();let Ut="";const ln=Object.assign(Object.assign({},Gt),{width:C.toString(),height:q.toString(),top:ye,left:pt}),$n=(0,V.ZQ)().toLowerCase();v&&(Ut=Lr($n)?"_blank":v),Tn($n)&&(p=p||"http://localhost",ln.scrollbars="yes");const hr=Object.entries(ln).reduce((bs,[sa,Wa])=>`${bs}${sa}=${Wa},`,"");if(function _t(A=(0,V.ZQ)()){var p;return Ti(A)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}($n)&&"_self"!==Ut)return function fi(A,p){const v=document.createElement("a");v.href=A,v.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(p||"",Ut),new kr(null);const oi=window.open(p||"",Ut,hr);we(oi,A,"popup-blocked");try{oi.focus()}catch{}return new kr(oi)}(p,Ut,Zr())})()}_openRedirect(p,v,C,q){var ye=this;return(0,c.A)(function*(){return yield ye._originValidation(p),function ea(A){Ui().location.href=A}(yield qr(p,v,C,rn(),q)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:q,promise:ye}=this.eventManagers[v];return q?Promise.resolve(q):(kt(ye,"If manager is not set, promise should be"),ye)}const C=this.initAndGetManager(p);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(p){var v=this;return(0,c.A)(function*(){const C=yield function be(A){return at.apply(this,arguments)}(p),q=new pc(p);return C.register("authEvent",ye=>(we(null==ye?void 0:ye.authEvent,p,"invalid-auth-event"),{status:q.onEvent(ye.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:q},v.iframes[p._key()]=C,q})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(Ir,{type:Ir},q=>{var ye;const pt=null===(ye=null==q?void 0:q[0])||void 0===ye?void 0:ye[Ir];void 0!==pt&&v(!!pt),tt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ei(A){return _i.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return ae()||lr()||Ti()}};class sl{constructor(p){this.factorId=p}_process(p,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,C);case"signin":return this._finalizeSignIn(p,v.credential);default:return Dt("unexpected MultiFactorSessionType")}}}class oa extends sl{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new oa(p)}_finalizeEnroll(p,v,C){return function li(A,p){return Me(A,"POST","/v2/accounts/mfaEnrollment:finalize",se(A,p))}(p,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function M(A,p){return Me(A,"POST","/v2/accounts/mfaSignIn:finalize",se(A,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yl=(()=>{class A{constructor(){}static assertion(v){return oa._fromCredential(v)}}return A.FACTOR_ID="phone",A})();var Gd="@firebase/auth";class $p{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,c.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(C=>{p((null==C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vu=(0,V.XA)("authIdTokenMaxAge")||300;let Uu=null;const $u=A=>function(){var p=(0,c.A)(function*(v){const C=v&&(yield v.getIdTokenResult()),q=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(q&&q>Vu)return;const ye=null==C?void 0:C.token;Uu!==ye&&(Uu=ye,yield fetch(A,{method:ye?"POST":"DELETE",headers:ye?{Authorization:`Bearer ${ye}`}:{}}))});return function(v){return p.apply(this,arguments)}}();function Ma(A=(0,d.getApp)()){const p=(0,d._getProvider)(A,"auth");if(p.isInitialized())return p.getImmediate();const v=function qs(A,p){const v=(0,d._getProvider)(A,"auth");if(v.isInitialized()){const q=v.getImmediate(),ye=v.getOptions();if((0,V.bD)(ye,null!=p?p:{}))return q;tt(q,"already-initialized")}return v.initialize({options:p})}(A,{popupRedirectResolver:Xr,persistence:[I,bo,Lo]}),C=(0,V.XA)("authTokenSyncURL");if(C&&"boolean"==typeof isSecureContext&&isSecureContext){const ye=new URL(C,location.origin);if(location.origin===ye.origin){const pt=$u(ye.toString());(function Cr(A,p,v){(0,V.Ku)(A).beforeAuthStateChanged(p,v)})(v,pt,()=>pt(v.currentUser)),function Zn(A,p,v,C){(0,V.Ku)(A).onIdTokenChanged(p,v,C)}(v,Ut=>pt(Ut))}}const q=(0,V.Tj)("auth");return q&&es(v,`http://${q}`),v}(function pi(A){Ii=A})({loadJS:A=>new Promise((p,v)=>{const C=document.createElement("script");C.setAttribute("src",A),C.onload=p,C.onerror=q=>{const ye=Se("internal-error");ye.customData=q,v(ye)},C.type="text/javascript",C.charset="UTF-8",function _c(){var A,p;return null!==(p=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==p?p:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $m(A){(0,d._registerComponent)(new ke.uA("auth",(p,{options:v})=>{const C=p.getProvider("app").getImmediate(),q=p.getProvider("heartbeat"),ye=p.getProvider("app-check-internal"),{apiKey:pt,authDomain:Ut}=C.options;we(pt&&!pt.includes(":"),"invalid-api-key",{appName:C.name});const ln={apiKey:pt,authDomain:Ut,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(A)},$n=new Yn(C,q,ye,ln);return function Li(A,p){const v=(null==p?void 0:p.persistence)||[],C=(Array.isArray(v)?v:[v]).map(ut);null!=p&&p.errorMap&&A._updateErrorMap(p.errorMap),A._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}($n,v),$n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,C)=>{p.getProvider("auth-internal").initialize()})),(0,d._registerComponent)(new ke.uA("auth-internal",p=>{const v=Gn(p.getProvider("auth").getImmediate());return new $p(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,d.registerVersion)(Gd,"1.7.2",function Zl(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,d.registerVersion)(Gd,"1.7.2","esm2017")}("Browser")},2824:(hn,ft,N)=>{"use strict";N.d(ft,{fS:()=>Ld,Ix:()=>kl,H6:()=>yE,T1:()=>Bo,Wq:()=>Gc,uY:()=>sc,W6:()=>Bt,Ci:()=>Zf,YQ:()=>$h,NJ:()=>Wc,Dc:()=>Dr,GA:()=>O_,cm:()=>js,K$:()=>En,FA:()=>mr,lo:()=>ui,bI:()=>Ht,qG:()=>zd,qi:()=>Oe,c8:()=>s_,gS:()=>S_,C3:()=>PE,hq:()=>RE,me:()=>Jf,rJ:()=>C0,Cs:()=>Xf,vN:()=>Md,kd:()=>dm,CL:()=>k_,LA:()=>d_,H9:()=>Qf,ol:()=>em,Q5:()=>Rh,Os:()=>Ph,FD:()=>M0,rf:()=>P0,Ws:()=>jo,z6:()=>Vd,x7:()=>fp,nY:()=>k0,_e:()=>T_,GG:()=>D_,kU:()=>cm,Rr:()=>w_,aU:()=>w0,GV:()=>j0,AB:()=>Lh,$1:()=>am,po:()=>Mh,St:()=>h_,aQ:()=>R_,FC:()=>L0,My:()=>E_,P:()=>y_,B:()=>l_,yx:()=>T0,c4:()=>_m,O5:()=>F_,BN:()=>F0,He:()=>Pi,lN:()=>O0,HM:()=>A_,EO:()=>dp,mZ:()=>b_,iB:()=>c_,_M:()=>jc});var Ce,c=N(467),d=N(7852),V=N(1362),Re=N(8041),Y=N(1076),ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={},Ze=Ze||{},_e=ke||self;function ge(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Ke(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var We="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function ct(o,e,r){return o.call.apply(o.bind,arguments)}function ot(o,e,r){if(!o)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),o.apply(e,u)}}return function(){return o.apply(e,arguments)}}function Xe(o,e,r){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:ot).apply(null,arguments)}function et(o,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),o.apply(this,s)}}function Qe(o,e){function r(){}r.prototype=e.prototype,o.$=e.prototype,o.prototype=new r,o.prototype.constructor=o,o.ac=function(s,u,h){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[u].apply(s,g)}}function tt(){this.s=this.s,this.o=this.o}tt.prototype.s=!1,tt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qe(o){Object.prototype.hasOwnProperty.call(o,We)&&o[We]||(o[We]=++nt)}(this)},tt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ze=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let r=0;r<o.length;r++)if(r in o&&o[r]===e)return r;return-1};function je(o){const e=o.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=o[s];return r}return[]}function dt(o,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(ge(s)){const u=o.length||0,h=s.length||0;o.length=u+h;for(let g=0;g<h;g++)o[u+g]=s[g]}else o.push(s)}}function Ct(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const r=()=>{};_e.addEventListener("test",r,e),_e.removeEventListener("test",r,e)}catch{}return o}();function Dt(o){return/^[\s\xa0]*$/.test(o)}function kt(){var o=_e.navigator;return o&&(o=o.userAgent)?o:""}function rn(o){return-1!=kt().indexOf(o)}function fn(o){return fn[" "](o),o}fn[" "]=function(){};var se,o,mn=rn("Opera"),mt=rn("Trident")||rn("MSIE"),Ne=rn("Edge"),J=Ne||mt,Z=rn("Gecko")&&!(-1!=kt().toLowerCase().indexOf("webkit")&&!rn("Edge"))&&!(rn("Trident")||rn("MSIE"))&&!rn("Edge"),ce=-1!=kt().toLowerCase().indexOf("webkit")&&!rn("Edge");function pe(){var o=_e.document;return o?o.documentMode:void 0}e:{var Me="",Pe=(o=kt(),Z?/rv:([^\);]+)(\)|;)/.exec(o):Ne?/Edge\/([\d\.]+)/.exec(o):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):ce?/WebKit\/(\S+)/.exec(o):mn?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(Pe&&(Me=Pe?Pe[1]:""),mt){var lt=pe();if(null!=lt&&lt>parseFloat(Me)){se=String(lt);break e}}se=Me}var bt=_e.document&&mt&&(pe()||parseInt(se,10))||void 0;function nn(o,e){if(Ct.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var r=this.type=o.type,s=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(Z){e:{try{fn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==r?e=o.fromElement:"mouseout"==r&&(e=o.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:vn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&nn.$.h.call(this)}}Qe(nn,Ct);var vn={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function tr(o,e,r,s,u){this.listener=o,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=u,this.key=++Hn,this.fa=this.ia=!1}function Vn(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function zn(o,e,r){for(const s in o)e.call(r,o[s],s,o)}function Be(o){const e={};for(const r in o)e[r]=o[r];return e}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pn(o,e){let r,s;for(let u=1;u<arguments.length;u++){for(r in s=arguments[u],s)o[r]=s[r];for(let h=0;h<Rt.length;h++)r=Rt[h],Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=s[r])}}function Wn(o){this.src=o,this.g={},this.h=0}function ur(o,e){var r=e.type;if(r in o.g){var h,s=o.g[r],u=ze(s,e);(h=0<=u)&&Array.prototype.splice.call(s,u,1),h&&(Vn(e),0==o.g[r].length&&(delete o.g[r],o.h--))}}function Xn(o,e,r,s){for(var u=0;u<o.length;++u){var h=o[u];if(!h.fa&&h.listener==e&&h.capture==!!r&&h.la==s)return u}return-1}Wn.prototype.add=function(o,e,r,s,u){var h=o.toString();(o=this.g[h])||(o=this.g[h]=[],this.h++);var g=Xn(o,e,s,u);return-1<g?(e=o[g],r||(e.ia=!1)):((e=new tr(e,this.src,h,!!s,u)).ia=r,o.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),Zt={};function Nn(o,e,r,s,u){if(s&&s.once)return Qn(o,e,r,s,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Nn(o,e[h],r,s,u);return null}return r=_r(r),o&&o[Bn]?o.O(e,r,Ke(s)?!!s.capture:!!s,u):ir(o,e,r,!1,s,u)}function ir(o,e,r,s,u,h){if(!e)throw Error("Invalid event type");var g=Ke(u)?!!u.capture:!!u,b=Dn(o);if(b||(o[un]=b=new Wn(o)),(r=b.add(e,r,s,g,h)).proxy)return r;if(s=function qn(){const e=pr;return function o(r){return e.call(o.src,o.listener,r)}}(),r.proxy=s,s.src=o,s.listener=r,o.addEventListener)we||(u=g),void 0===u&&(u=!1),o.addEventListener(e.toString(),s,u);else if(o.attachEvent)o.attachEvent(Fn(e.toString()),s);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(s)}return r}function Qn(o,e,r,s,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Qn(o,e[h],r,s,u);return null}return r=_r(r),o&&o[Bn]?o.P(e,r,Ke(s)?!!s.capture:!!s,u):ir(o,e,r,!0,s,u)}function Rn(o,e,r,s,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)Rn(o,e[h],r,s,u);else s=Ke(s)?!!s.capture:!!s,r=_r(r),o&&o[Bn]?(o=o.i,(e=String(e).toString())in o.g&&-1<(r=Xn(h=o.g[e],r,s,u))&&(Vn(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete o.g[e],o.h--))):o&&(o=Dn(o))&&(e=o.g[e.toString()],o=-1,e&&(o=Xn(e,r,s,u)),(r=-1<o?e[o]:null)&&Er(r))}function Er(o){if("number"!=typeof o&&o&&!o.fa){var e=o.src;if(e&&e[Bn])ur(e.i,o);else{var r=o.type,s=o.proxy;e.removeEventListener?e.removeEventListener(r,s,o.capture):e.detachEvent?e.detachEvent(Fn(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=Dn(e))?(ur(r,o),0==r.h&&(r.src=null,e[un]=null)):Vn(o)}}}function Fn(o){return o in Zt?Zt[o]:Zt[o]="on"+o}function pr(o,e){if(o.fa)o=!0;else{e=new nn(e,this);var r=o.listener,s=o.la||o.src;o.ia&&Er(o),o=r.call(s,e)}return o}function Dn(o){return(o=o[un])instanceof Wn?o:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _r(o){return"function"==typeof o?o:(o[Sn]||(o[Sn]=function(e){return o.handleEvent(e)}),o[Sn])}function Un(){tt.call(this),this.i=new Wn(this),this.S=this,this.J=null}function In(o,e){var r,s=o.J;if(s)for(r=[];s;s=s.J)r.push(s);if(o=o.S,s=e.type||e,"string"==typeof e)e=new Ct(e,o);else if(e instanceof Ct)e.target=e.target||o;else{var u=e;pn(e=new Ct(s,o),u)}if(u=!0,r)for(var h=r.length-1;0<=h;h--){var g=e.g=r[h];u=Pn(g,s,!0,e)&&u}if(u=Pn(g=e.g=o,s,!0,e)&&u,u=Pn(g,s,!1,e)&&u,r)for(h=0;h<r.length;h++)u=Pn(g=e.g=r[h],s,!1,e)&&u}function Pn(o,e,r,s){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.fa&&g.capture==r){var b=g.listener,O=g.la||g.src;g.ia&&ur(o.i,g),u=!1!==b.call(O,s)&&u}}return u&&!s.defaultPrevented}Qe(Un,tt),Un.prototype[Bn]=!0,Un.prototype.removeEventListener=function(o,e,r,s){Rn(this,o,e,r,s)},Un.prototype.N=function(){if(Un.$.N.call(this),this.i){var e,o=this.i;for(e in o.g){for(var r=o.g[e],s=0;s<r.length;s++)Vn(r[s]);delete o.g[e],o.h--}}this.J=null},Un.prototype.O=function(o,e,r,s){return this.i.add(String(o),e,!1,r,s)},Un.prototype.P=function(o,e,r,s){return this.i.add(String(o),e,!0,r,s)};var ar=_e.JSON.stringify;function it(){var o=B;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var yt=new class Tr{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rt,o=>o.reset());class rt{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function de(o){var e=1;o=o.split(":");const r=[];for(;0<e&&o.length;)r.push(o.shift()),e--;return o.length&&r.push(o.join(":")),r}function Ee(o){_e.setTimeout(()=>{throw o},0)}let ne,F=!1,B=new class Ye{constructor(){this.h=this.g=null}add(e,r){const s=yt.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Ie=()=>{const o=_e.Promise.resolve(void 0);ne=()=>{o.then(Le)}};var Le=()=>{for(var o;o=it();){try{o.h.call(o.g)}catch(r){Ee(r)}var e=yt;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}F=!1};function ut(o,e){Un.call(this),this.h=o||1,this.g=e||_e,this.j=Xe(this.qb,this),this.l=Date.now()}function Lt(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}function $t(o,e,r){if("function"==typeof o)r&&(o=Xe(o,r));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Xe(o.handleEvent,o)}return 2147483647<Number(e)?-1:_e.setTimeout(o,e||0)}function sn(o){o.g=$t(()=>{o.g=null,o.i&&(o.i=!1,sn(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}Qe(ut,Un),(Ce=ut.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),In(this,"tick"),this.ga&&(Lt(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){ut.$.N.call(this),Lt(this),delete this.g};class zt extends tt{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sn(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(o){tt.call(this),this.h=o,this.g={}}Qe(Ot,tt);var Tn=[];function lr(o,e,r,s){Array.isArray(r)||(r&&(Tn[0]=r.toString()),r=Tn);for(var u=0;u<r.length;u++){var h=Nn(e,r[u],s||o.handleEvent,!1,o.h||o);if(!h)break;o.g[h.key]=h}}function Lr(o){zn(o.g,function(e,r){this.g.hasOwnProperty(r)&&Er(e)},o),o.g={}}function ci(){this.g=!0}function Br(o,e,r,s){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xt(o,e){if(!o.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(o=0;o<r.length;o++)if(Array.isArray(r[o])){var s=r[o];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<u.length;g++)u[g]=""}}}return ar(r)}catch{return e}}(o,r)+(s?" "+s:"")})}Ot.prototype.N=function(){Ot.$.N.call(this),Lr(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ci.prototype.Ea=function(){this.g=!1},ci.prototype.info=function(){};var _t={},he=null;function ae(){return he=he||new Un}function Ge(o){Ct.call(this,_t.Ta,o)}function re(o){const e=ae();In(e,new Ge(e))}function te(o,e){Ct.call(this,_t.STAT_EVENT,o),this.stat=e}function Ve(o){const e=ae();In(e,new te(e,o))}function St(o,e){Ct.call(this,_t.Ua,o),this.size=e}function Nt(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){o()},e)}_t.Ta="serverreachability",Qe(Ge,Ct),_t.STAT_EVENT="statevent",Qe(te,Ct),_t.Ua="timingevent",Qe(St,Ct);var _n={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gn(){}function Ii(){}Gn.prototype.h=null;var Oo,pi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jn(){Ct.call(this,"d")}function Fi(){Ct.call(this,"c")}function go(){}function Vr(o,e,r,s){this.l=o,this.j=e,this.m=r,this.W=s||1,this.U=new Ot(this),this.P=so,this.V=new ut(o=J?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}Qe(Jn,Ct),Qe(Fi,Ct),Qe(go,Gn),go.prototype.g=function(){return new XMLHttpRequest},go.prototype.i=function(){return{}},Oo=new go;var so=45e3,Bi={},Di={};function Yi(o,e,r){o.L=1,o.A=X(yo(e)),o.u=r,o.S=!0,mo(o,null)}function mo(o,e){o.G=Date.now(),qs(o),o.B=yo(o.A);var r=o.B,s=o.W;Array.isArray(s)||(s=[String(s)]),tn(r.i,"t",s),o.o=0,r=o.l.J,o.h=new gi,o.g=La(o.l,r?e:null,!o.u),0<o.O&&(o.M=new zt(Xe(o.Pa,o,o.g),o.O)),lr(o.U,o.g,"readystatechange",o.nb),e=o.I?Be(o.I):{},o.u?(o.v||(o.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.B,o.v,o.u,e)):(o.v="GET",o.g.ha(o.B,o.v,null,e)),re(),function Jr(o,e,r,s,u,h){o.info(function(){if(o.g)if(h)for(var g="",b=h.split("&"),O=0;O<b.length;O++){var K=b[O].split("=");if(1<K.length){var fe=K[0];K=K[1];var Fe=fe.split("_");g=2<=Fe.length&&"type"==Fe[1]?g+(fe+"=")+K+"&":g+(fe+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+r+"\n"+g})}(o.j,o.v,o.B,o.m,o.W,o.u)}function Zo(o){return!!o.g&&"GET"==o.v&&2!=o.L&&o.l.Ha}function nr(o,e,r){let u,s=!0;for(;!o.J&&o.o<r.length;){if(u=wr(o,r),u==Di){4==e&&(o.s=4,Ve(14),s=!1),Br(o.j,o.m,null,"[Incomplete Response]");break}if(u==Bi){o.s=4,Ve(15),Br(o.j,o.m,r,"[Invalid Chunk]"),s=!1;break}Br(o.j,o.m,u,null),Ho(o,u)}Zo(o)&&0!=o.o&&(o.h.g=o.h.g.slice(o.o),o.o=0),4!=e||0!=r.length||o.h.h||(o.s=1,Ve(16),s=!1),o.i=o.i&&s,s?0<r.length&&!o.ba&&(o.ba=!0,(e=o.l).g==o&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),rs(e),e.M=!0,Ve(11))):(Br(o.j,o.m,r,"[Invalid Chunked Response]"),ti(o),vo(o))}function wr(o,e){var r=o.o,s=e.indexOf("\n",r);return-1==s?Di:(r=Number(e.substring(r,s)),isNaN(r)?Bi:(s+=1)+r>e.length?Di:(e=e.slice(s,s+r),o.o=s+r,e))}function qs(o){o.Y=Date.now()+o.P,Li(o,o.P)}function Li(o,e){if(null!=o.C)throw Error("WatchDog timer not null");o.C=Nt(Xe(o.lb,o),e)}function es(o){o.C&&(_e.clearTimeout(o.C),o.C=null)}function vo(o){0==o.l.H||o.J||fl(o.l,o)}function ti(o){es(o);var e=o.M;e&&"function"==typeof e.sa&&e.sa(),o.M=null,Lt(o.V),Lr(o.U),o.g&&(e=o.g,o.g=null,e.abort(),e.sa())}function Ho(o,e){try{var r=o.l;if(0!=r.H&&(r.g==o||Ri(r.i,o)))if(!o.K&&Ri(r.i,o)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<o.G))break e;Qs(r),W(r)}No(r),Ve(18)}}else r.Fa=u[1],0<r.Fa-r.V&&37500>u[2]&&r.G&&0==r.A&&!r.v&&(r.v=Nt(Xe(r.ib,r),6e3));if(1>=hi(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Ca(r,11)}else if((o.K||r.g==o)&&Qs(r),!Dt(e))for(u=r.Ja.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(r.V=K[0],K=K[1],2==r.H)if("c"==K[0]){r.K=K[1],r.pa=K[2];const fe=K[3];null!=fe&&(r.ra=fe,r.l.info("VER="+r.ra));const Fe=K[4];null!=Fe&&(r.Ga=Fe,r.l.info("SVER="+r.Ga));const ht=K[5];null!=ht&&"number"==typeof ht&&0<ht&&(r.L=s=1.5*ht,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Vt=o.g;if(Vt){const wn=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wn){var h=s.i;h.g||-1==wn.indexOf("spdy")&&-1==wn.indexOf("quic")&&-1==wn.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(xi(h,h.h),h.h=null))}if(s.F){const xn=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;xn&&(s.Da=xn,S(s.I,s.F,xn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-o.G,r.l.info("Handshake RTT: "+r.S+"ms"));var g=o;if((s=r).wa=Ul(s,s.J?s.pa:null,s.Y),g.K){jr(s.i,g);var b=g,O=s.L;O&&b.setTimeout(O),b.C&&(es(b),qs(b)),s.g=g}else gr(s);0<r.j.length&&ve(r)}else"stop"!=K[0]&&"close"!=K[0]||Ca(r,7);else 3==r.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Ca(r,7):Aa(r):"noop"!=K[0]&&r.h&&r.h.Aa(K),r.A=0)}re()}catch{}}function ko(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(ge(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var r=function _o(o){if(o.ta&&"function"==typeof o.ta)return o.ta();if(!o.Z||"function"!=typeof o.Z){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(ge(o)||"string"==typeof o){var e=[];o=o.length;for(var r=0;r<o;r++)e.push(r);return e}e=[],r=0;for(const s in o)e[r++]=s;return e}}}(o),s=function On(o){if(o.Z&&"function"==typeof o.Z)return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(ge(o)){for(var e=[],r=o.length,s=0;s<r;s++)e.push(o[s]);return e}for(s in e=[],r=0,o)e[r++]=o[s];return e}(o),u=s.length,h=0;h<u;h++)e.call(void 0,s[h],r&&r[h],o)}(Ce=Vr.prototype).setTimeout=function(o){this.P=o},Ce.nb=function(o){o=o.target;const e=this.M;e&&3==uo(o)?e.l():this.Pa(o)},Ce.Pa=function(o){try{if(o==this.g)e:{const fe=uo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>fe)&&(3!=fe||J||this.g&&(this.h.h||this.g.ja()||Fo(this.g)))){this.J||4!=fe||7==e||re(),es(this);var r=this.g.da();this.ca=r;t:if(Zo(this)){var s=Fo(this.g);o="";var u=s.length,h=4==uo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),vo(this);var g="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,o+=this.h.i.decode(s[e],{stream:h&&e==u-1});s.length=0,this.h.g+=o,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==r,function or(o,e,r,s,u,h,g){o.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+h+" "+g})}(this.j,this.v,this.B,this.m,this.W,fe,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,O=this.g;if((b=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dt(b)){var K=b;break t}}K=null}if(!(r=K)){this.i=!1,this.s=3,Ve(12),ti(this),vo(this);break e}Br(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ho(this,r)}this.S?(nr(this,fe,g),J&&this.i&&3==fe&&(lr(this.U,this.V,"tick",this.mb),this.V.start())):(Br(this.j,this.m,g,null),Ho(this,g)),4==fe&&ti(this),this.i&&!this.J&&(4==fe?fl(this.l,this):(this.i=!1,qs(this)))}else(function Vl(o){const e={};o=(o.g&&2<=uo(o)&&o.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<o.length;s++){if(Dt(o[s]))continue;var r=de(o[s]);const u=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const h=e[u]||[];e[u]=h,h.push(r)}!function gt(o,e){for(const r in o)e.call(void 0,o[r],r,o)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<g.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),ti(this),vo(this)}}}catch{}},Ce.mb=function(){if(this.g){var o=uo(this.g),e=this.g.ja();this.o<e.length&&(es(this),nr(this,o,e),this.i&&4!=o&&qs(this))}},Ce.cancel=function(){this.J=!0,ti(this)},Ce.lb=function(){this.C=null;const o=Date.now();0<=o-this.Y?(function Ti(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(re(),Ve(17)),ti(this),this.s=2,vo(this)):Li(this,this.Y-o)};var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof ao){this.h=o.h,ro(this,o.j),this.s=o.s,this.g=o.g,To(this,o.m),this.l=o.l;var e=o.i,r=new Je;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),wi(this,r),this.o=o.o}else o&&(e=String(o).match(ji))?(this.h=!1,ro(this,e[1]||"",!0),this.s=me(e[2]||""),this.g=me(e[3]||"",!0),To(this,e[4]),this.l=me(e[5]||"",!0),wi(this,e[6]||"",!0),this.o=me(e[7]||"")):(this.h=!1,this.i=new Je(null,this.h))}function yo(o){return new ao(o)}function ro(o,e,r){o.j=r?me(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function To(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function wi(o,e,r){e instanceof Je?(o.i=e,function Mn(o,e){e&&!o.j&&(jt(o),o.i=null,o.g.forEach(function(r,s){var u=s.toLowerCase();s!=u&&(Yt(this,s),tn(this,u,r))},o)),o.j=e}(o.i,o.h)):(r||(e=x(e,He)),o.i=new Je(e,o.h))}function S(o,e,r){o.i.set(e,r)}function X(o){return S(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function me(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function x(o,e,r){return"string"==typeof o?(o=encodeURI(o).replace(e,Ae),r&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ae(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}ao.prototype.toString=function(){var o=[],e=this.j;e&&o.push(x(e,P,!0),":");var r=this.g;return(r||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(x(e,P,!0),"@"),o.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&o.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&o.push("/"),o.push(x(r,"/"==r.charAt(0)?$e:oe,!0))),(r=this.i.toString())&&o.push("?",r),(r=this.o)&&o.push("#",x(r,vt)),o.join("")};var P=/[#\/\?@]/g,oe=/[#\?:]/g,$e=/[#\?]/g,He=/[#\?@]/g,vt=/#/g;function Je(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function jt(o){o.g||(o.g=new Map,o.h=0,o.i&&function la(o,e){if(o){o=o.split("&");for(var r=0;r<o.length;r++){var s=o[r].indexOf("="),u=null;if(0<=s){var h=o[r].substring(0,s);u=o[r].substring(s+1)}else h=o[r];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(o.i,function(e,r){o.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Yt(o,e){jt(o),e=Cn(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function qt(o,e){return jt(o),e=Cn(o,e),o.g.has(e)}function tn(o,e,r){Yt(o,e),0<r.length&&(o.i=null,o.g.set(Cn(o,e),je(r)),o.h+=r.length)}function Cn(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}(Ce=Je.prototype).add=function(o,e){jt(this),this.i=null,o=Cn(this,o);var r=this.g.get(o);return r||this.g.set(o,r=[]),r.push(e),this.h+=1,this},Ce.forEach=function(o,e){jt(this),this.g.forEach(function(r,s){r.forEach(function(u){o.call(e,u,s,this)},this)},this)},Ce.ta=function(){jt(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const u=o[s];for(let h=0;h<u.length;h++)r.push(e[s])}return r},Ce.Z=function(o){jt(this);let e=[];if("string"==typeof o)qt(this,o)&&(e=e.concat(this.g.get(Cn(this,o))));else{o=Array.from(this.g.values());for(let r=0;r<o.length;r++)e=e.concat(o[r])}return e},Ce.set=function(o,e){return jt(this),this.i=null,qt(this,o=Cn(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},Ce.get=function(o,e){return o&&0<(o=this.Z(o)).length?String(o[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const h=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var u=h;""!==g[s]&&(u+="="+encodeURIComponent(String(g[s]))),o.push(u)}}return this.i=o.join("&")};var Kn=class{constructor(o,e){this.g=o,this.map=e}};function jn(o){this.l=o||ni,o=_e.PerformanceNavigationTiming?0<(o=_e.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().dc),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ni=10;function si(o){return!!o.h||!!o.g&&o.g.size>=o.j}function hi(o){return o.h?1:o.g?o.g.size:0}function Ri(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function xi(o,e){o.g?o.g.add(e):o.h=e}function jr(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function Ji(o){if(null!=o.h)return o.i.concat(o.h.F);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const r of o.g.values())e=e.concat(r.F);return e}return je(o.i)}jn.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}};var Ps=class{stringify(o){return _e.JSON.stringify(o,void 0)}parse(o){return _e.JSON.parse(o,void 0)}};function ts(){this.g=new Ps}function Ms(o,e,r){const s=r||"";try{ko(o,function(u,h){let g=u;Ke(u)&&(g=ar(u)),e.push(s+h+"="+encodeURIComponent(g))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function ns(o,e,r,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function ka(o){this.l=o.ec||null,this.j=o.ob||!1}function ua(o,e){Un.call(this),this.F=o,this.u=e,this.m=void 0,this.readyState=Hi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(ka,Gn),ka.prototype.g=function(){return new ua(this.l,this.j)},ka.prototype.i=function(o){return function(){return o}}({}),Qe(ua,Un);var Hi=0;function Ya(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}function lo(o){o.readyState=4,o.l=null,o.j=null,o.A=null,Do(o)}function Do(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(Ce=ua.prototype).open=function(o,e){if(this.readyState!=Hi)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,Do(this)},Ce.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=Hi},Ce.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ya(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?lo(this):Do(this),3==this.readyState&&Ya(this)}},Ce.Za=function(o){this.g&&(this.response=this.responseText=o,lo(this))},Ce.Ya=function(o){this.g&&(this.response=o,lo(this))},Ce.ka=function(){this.g&&lo(this)},Ce.setRequestHeader=function(o,e){this.v.append(o,e)},Ce.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var r=e.next();!r.done;)o.push((r=r.value)[0]+": "+r[1]),r=e.next();return o.join("\r\n")},Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var zi=_e.JSON.parse;function Nr(o){Un.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sr,this.L=this.M=!1}Qe(Nr,Un);var Sr="",Ea=/^https?$/i,dl=["POST","PUT"];function ds(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Xs(o),hs(o)}function Xs(o){o.F||(o.F=!0,In(o,"complete"),In(o,"error"))}function zo(o){if(o.h&&typeof Ze<"u"&&(!o.C[1]||4!=uo(o)||2!=o.da()))if(o.v&&4==uo(o))$t(o.La,0,o);else if(In(o,"readystatechange"),4==uo(o)){o.h=!1;try{const g=o.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===g){var u=String(o.I).match(ji)[1]||null;!u&&_e.self&&_e.self.location&&(u=_e.self.location.protocol.slice(0,-1)),s=!Ea.test(u?u.toLowerCase():"")}r=s}if(r)In(o,"complete"),In(o,"success");else{o.m=6;try{var h=2<uo(o)?o.g.statusText:""}catch{h=""}o.j=h+" ["+o.da()+"]",Xs(o)}}finally{hs(o)}}}function hs(o,e){if(o.g){xs(o);const r=o.g,s=o.C[0]?()=>{}:null;o.g=null,o.C=null,e||In(o,"ready");try{r.onreadystatechange=s}catch{}}}function xs(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(_e.clearTimeout(o.A),o.A=null)}function uo(o){return o.g?o.g.readyState:0}function Fo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case Sr:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(o){let e="";return zn(o,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Cs(o,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=Ns(r),"string"==typeof o?null!=r&&encodeURIComponent(String(r)):S(o,e,r))}function xo(o,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[o]||e}function Ja(o){this.Ga=0,this.j=[],this.l=new ci,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xo("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xo("baseRetryDelayMs",5e3,o),this.hb=xo("retryDelaySeedMs",1e4,o),this.eb=xo("forwardChannelMaxRetries",2,o),this.xa=xo("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new jn(o&&o.concurrentRequestLimit),this.Ja=new ts,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Aa(o){if(k(o),3==o.H){var e=o.W++,r=yo(o.I);if(S(r,"SID",o.K),S(r,"RID",e),S(r,"TYPE","terminate"),en(o,r),(e=new Vr(o,o.l,e)).L=2,e.A=X(yo(r)),r=!1,_e.navigator&&_e.navigator.sendBeacon)try{r=_e.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&_e.Image&&((new Image).src=e.A,r=!0),r||(e.g=La(e.l,null),e.g.ha(e.A)),e.G=Date.now(),qs(e)}Fa(o)}function W(o){o.g&&(rs(o),o.g.cancel(),o.g=null)}function k(o){W(o),o.u&&(_e.clearTimeout(o.u),o.u=null),Qs(o),o.i.cancel(),o.m&&("number"==typeof o.m&&_e.clearTimeout(o.m),o.m=null)}function ve(o){if(!si(o.i)&&!o.m){o.m=!0;var e=o.Na;ne||Ie(),F||(ne(),F=!0),B.add(e,o),o.C=0}}function xe(o,e){var r;r=e?e.m:o.W++;const s=yo(o.I);S(s,"SID",o.K),S(s,"RID",r),S(s,"AID",o.V),en(o,s),o.o&&o.s&&Cs(s,o.o,o.s),r=new Vr(o,o.l,r,o.C+1),null===o.o&&(r.I=o.s),e&&(o.j=e.F.concat(o.j)),e=sr(o,r,1e3),r.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),xi(o.i,r),Yi(r,s,e)}function en(o,e){o.na&&zn(o.na,function(r,s){S(e,s,r)}),o.h&&ko({},function(r,s){S(e,s,r)})}function sr(o,e,r){r=Math.min(o.j.length,r);var s=o.h?Xe(o.h.Va,o.h,o):null;e:{var u=o.j;let h=-1;for(;;){const g=["count="+r];-1==h?0<r?(h=u[0].g,g.push("ofs="+h)):h=0:g.push("ofs="+h);let b=!0;for(let O=0;O<r;O++){let K=u[O].g;const fe=u[O].map;if(K-=h,0>K)h=Math.max(0,u[O].g-100),b=!1;else try{Ms(fe,g,"req"+K+"_")}catch{s&&s(fe)}}if(b){s=g.join("&");break e}}}return o=o.j.splice(0,r),e.F=o,s}function gr(o){if(!o.g&&!o.u){o.ba=1;var e=o.Ma;ne||Ie(),F||(ne(),F=!0),B.add(e,o),o.A=0}}function No(o){return!(o.g||o.u||3<=o.A||(o.ba++,o.u=Nt(Xe(o.Ma,o),pl(o,o.A)),o.A++,0))}function rs(o){null!=o.B&&(_e.clearTimeout(o.B),o.B=null)}function is(o){o.g=new Vr(o,o.l,"rpc",o.ba),null===o.o&&(o.g.I=o.s),o.g.O=0;var e=yo(o.wa);S(e,"RID","rpc"),S(e,"SID",o.K),S(e,"AID",o.V),S(e,"CI",o.G?"0":"1"),!o.G&&o.qa&&S(e,"TO",o.qa),S(e,"TYPE","xmlhttp"),en(o,e),o.o&&o.s&&Cs(e,o.o,o.s),o.L&&o.g.setTimeout(o.L);var r=o.g;o=o.pa,r.L=1,r.A=X(yo(e)),r.u=null,r.S=!0,mo(r,o)}function Qs(o){null!=o.v&&(_e.clearTimeout(o.v),o.v=null)}function fl(o,e){var r=null;if(o.g==e){Qs(o),rs(o),o.g=null;var s=2}else{if(!Ri(o.i,e))return;r=e.F,jr(o.i,e),s=1}if(0!=o.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var u=o.C;In(s=ae(),new St(s,r)),ve(o)}else gr(o);else if(3==(u=e.s)||0==u&&0<e.ca||!(1==s&&function z(o,e){return!(hi(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.j=e.F.concat(o.j),0):1==o.H||2==o.H||o.C>=(o.cb?0:o.eb)||(o.m=Nt(Xe(o.Na,o,e),pl(o,o.C)),o.C++,0)))}(o,e)||2==s&&No(o)))switch(r&&0<r.length&&(e=o.i,e.i=e.i.concat(r)),u){case 1:Ca(o,5);break;case 4:Ca(o,10);break;case 3:Ca(o,6);break;default:Ca(o,2)}}function pl(o,e){let r=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(r*=2),r*e}function Ca(o,e){if(o.l.info("Error code "+e),2==e){var r=null;o.h&&(r=null);var s=Xe(o.pb,o);r||(r=new ao("//www.google.com/images/cleardot.gif"),_e.location&&"http"==_e.location.protocol||ro(r,"https"),X(r)),function Ia(o,e){const r=new ci;if(_e.Image){const s=new Image;s.onload=et(ns,r,s,"TestLoadImage: loaded",!0,e),s.onerror=et(ns,r,s,"TestLoadImage: error",!1,e),s.onabort=et(ns,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=et(ns,r,s,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=o}else e(!1)}(r.toString(),s)}else Ve(2);o.H=0,o.h&&o.h.za(e),Fa(o),k(o)}function Fa(o){if(o.H=0,o.ma=[],o.h){const e=Ji(o.i);(0!=e.length||0!=o.j.length)&&(dt(o.ma,e),dt(o.ma,o.j),o.i.i.length=0,je(o.j),o.j.length=0),o.h.ya()}}function Ul(o,e,r){var s=r instanceof ao?yo(r):new ao(r);if(""!=s.g)e&&(s.g=e+"."+s.g),To(s,s.m);else{var u=_e.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var h=new ao(null);s&&ro(h,s),e&&(h.g=e),u&&To(h,u),r&&(h.l=r),s=h}return e=o.Da,(r=o.F)&&e&&S(s,r,e),S(s,"VER",o.ra),en(o,s),s}function La(o,e,r){if(e&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(o.Ha&&!o.va?new ka({ob:r}):o.va)).Oa(o.J),e}function gl(){}function os(){if(mt&&!(10<=Number(bt)))throw Error("Environmental error: no available transport.")}function cr(o,e){Un.call(this),this.g=new Ja(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(o?o["X-WebChannel-Client-Profile"]=e.Ca:o={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=o,(o=e&&e.cc)&&!Dt(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dt(e)&&(this.g.F=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new io(this)}function Gi(o){Jn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var e=o.__sm__;if(e){e:{for(const r in e){o=r;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Wi(){Fi.call(this),this.status=1}function io(o){this.g=o}function ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ta(o,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(u=0;16>u;++u)s[u]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var h=o.g[3],g=(e=o.g[0])+(h^(r=o.g[1])&((u=o.g[2])^h))+s[0]+3614090360&4294967295;g=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=(r=(u=(h=(e=r+(g<<7&4294967295|g>>>25))+((g=h+(u^e&(r^u))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^h&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(h^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^r&(u^h))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=h+(u^e&(r^u))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^h&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(h^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^r&(u^h))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=h+(u^e&(r^u))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^h&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(h^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^r&(u^h))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=h+(u^e&(r^u))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^h&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(h^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^h&(r^u))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=h+(r^u&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(h^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=r+(h^e&(u^h))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^h&(r^u))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=h+(r^u&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(h^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=r+(h^e&(u^h))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^h&(r^u))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=h+(r^u&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(h^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=r+(h^e&(u^h))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^h&(r^u))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=h+(r^u&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(h^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=r+(h^e&(u^h))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(r^u^h)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^r^u)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=u+(h^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^h^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^u^h)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^r^u)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=u+(h^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^h^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^u^h)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^r^u)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=u+(h^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^h^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^u^h)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^r^u)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=u+(h^e^r)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^h^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(u^(r|~h))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=h+(r^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(h|~r))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=r+(h^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(u^(r|~h))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=h+(r^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(h|~r))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=r+(h^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(u^(r|~h))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=h+(r^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(h|~r))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=r+(h^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((h=(e=r+((g=e+(u^(r|~h))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=h+(r^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((u=h+((g=u+(e^(h|~r))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,o.g[0]=o.g[0]+e&4294967295,o.g[1]=o.g[1]+(u+(g<<21&4294967295|g>>>11))&4294967295,o.g[2]=o.g[2]+u&4294967295,o.g[3]=o.g[3]+h&4294967295}function $r(o,e){this.h=e;for(var r=[],s=!0,u=o.length-1;0<=u;u--){var h=0|o[u];s&&h==e||(r[u]=h,s=!1)}this.g=r}(Ce=Nr.prototype).Oa=function(o){this.M=o},Ce.ha=function(o,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);e=e?e.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Oo.g(),this.C=function di(o){return o.h||(o.h=o.i())}(this.u?this.u:Oo),this.g.onreadystatechange=Xe(this.La,this);try{this.G=!0,this.g.open(e,String(o),!0),this.G=!1}catch(h){return void ds(this,h)}if(o=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)r.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const h of s.keys())r.set(h,s.get(h))}s=Array.from(r.keys()).find(h=>"content-type"==h.toLowerCase()),u=_e.FormData&&o instanceof _e.FormData,!(0<=ze(dl,e))||s||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of r)this.g.setRequestHeader(h,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xs(this),0<this.B&&((this.L=function hl(o){return mt&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.ua,this)):this.A=$t(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(h){ds(this,h)}},Ce.ua=function(){typeof Ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,In(this,"timeout"),this.abort(8))},Ce.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,In(this,"complete"),In(this,"abort"),hs(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hs(this,!0)),Nr.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?zo(this):this.kb())},Ce.kb=function(){zo(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<uo(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),zi(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Ja.prototype).ra=8,Ce.H=1,Ce.Na=function(o){if(this.m)if(this.m=null,1==this.H){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const u=new Vr(this,this.l,o);let h=this.s;if(this.U&&(h?(h=Be(h),pn(h,this.U)):h=this.U),null!==this.o||this.O||(u.I=h,h=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=sr(this,u,e),S(r=yo(this.I),"RID",o),S(r,"CVER",22),this.F&&S(r,"X-HTTP-Session-Id",this.F),en(this,r),h&&(this.O?e="headers="+encodeURIComponent(String(Ns(h)))+"&"+e:this.o&&Cs(r,this.o,h)),xi(this.i,u),this.bb&&S(r,"TYPE","init"),this.P?(S(r,"$req",e),S(r,"SID","null"),u.aa=!0,Yi(u,r,null)):Yi(u,r,e),this.H=2}}else 3==this.H&&(o?xe(this,o):0==this.j.length||si(this.i)||xe(this))},Ce.Ma=function(){if(this.u=null,is(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=Nt(Xe(this.jb,this),o)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ve(10),W(this),is(this))},Ce.ib=function(){null!=this.v&&(this.v=null,W(this),No(this),Ve(19))},Ce.pb=function(o){o?(this.l.info("Successfully pinged google.com"),Ve(2)):(this.l.info("Failed to ping google.com"),Ve(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=gl.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},os.prototype.g=function(o,e){return new cr(o,e)},Qe(cr,Un),cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,e=this.l,r=this.h||void 0;Ve(0),o.Y=e,o.na=r||{},o.G=o.aa,o.I=Ul(o,null,o.Y),ve(o)},cr.prototype.close=function(){Aa(this.g)},cr.prototype.u=function(o){var e=this.g;if("string"==typeof o){var r={};r.__data__=o,o=r}else this.v&&((r={}).__data__=ar(o),o=r);e.j.push(new Kn(e.fb++,o)),3==e.H&&ve(e)},cr.prototype.N=function(){this.g.h=null,delete this.j,Aa(this.g),delete this.g,cr.$.N.call(this)},Qe(Gi,Jn),Qe(Wi,Fi),Qe(io,gl),io.prototype.Ba=function(){In(this.g,"a")},io.prototype.Aa=function(o){In(this.g,new Gi(o))},io.prototype.za=function(o){In(this.g,new Wi)},io.prototype.ya=function(){In(this.g,"b")},Qe(ss,function co(){this.blockSize=-1}),ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ss.prototype.j=function(o,e){void 0===e&&(e=o.length);for(var r=e-this.blockSize,s=this.m,u=this.h,h=0;h<e;){if(0==u)for(;h<=r;)Ta(this,o,h),h+=this.blockSize;if("string"==typeof o){for(;h<e;)if(s[u++]=o.charCodeAt(h++),u==this.blockSize){Ta(this,s),u=0;break}}else for(;h<e;)if(s[u++]=o[h++],u==this.blockSize){Ta(this,s),u=0;break}}this.h=u,this.i+=e},ss.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var e=1;e<o.length-8;++e)o[e]=0;var r=8*this.i;for(e=o.length-8;e<o.length;++e)o[e]=255&r,r/=256;for(this.j(o),o=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)o[r++]=this.g[e]>>>s&255;return o};var fu={};function ml(o){return-128<=o&&128>o?function Wt(o,e){var r=fu;return Object.prototype.hasOwnProperty.call(r,o)?r[o]:r[o]=e(o)}(o,function(e){return new $r([0|e],0>e?-1:0)}):new $r([0|o],0>o?-1:0)}function fs(o){if(isNaN(o)||!isFinite(o))return Go;if(0>o)return Rr(fs(-o));for(var e=[],r=1,s=0;o>=r;s++)e[s]=o/r|0,r*=ca;return new $r(e,0)}var ca=4294967296,Go=ml(0),Da=ml(1),$l=ml(16777216);function Ts(o){if(0!=o.h)return!1;for(var e=0;e<o.g.length;e++)if(0!=o.g[e])return!1;return!0}function Wo(o){return-1==o.h}function Rr(o){for(var e=o.g.length,r=[],s=0;s<e;s++)r[s]=~o.g[s];return new $r(r,~o.h).add(Da)}function Ei(o,e){return o.add(Rr(e))}function Ys(o,e){for(;(65535&o[e])!=o[e];)o[e+1]+=o[e]>>>16,o[e]&=65535,e++}function Ko(o,e){this.g=o,this.h=e}function Va(o,e){if(Ts(e))throw Error("division by zero");if(Ts(o))return new Ko(Go,Go);if(Wo(o))return e=Va(Rr(o),e),new Ko(Rr(e.g),Rr(e.h));if(Wo(e))return e=Va(o,Rr(e)),new Ko(Rr(e.g),e.h);if(30<o.g.length){if(Wo(o)||Wo(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Da,s=e;0>=s.X(o);)r=Ua(r),s=Ua(s);var u=Js(r,1),h=Js(s,1);for(s=Js(s,2),r=Js(r,2);!Ts(s);){var g=h.add(s);0>=g.X(o)&&(u=u.add(r),h=g),s=Js(s,1),r=Js(r,1)}return e=Ei(o,u.R(e)),new Ko(u,e)}for(u=Go;0<=o.X(e);){for(r=Math.max(1,Math.floor(o.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),g=(h=fs(r)).R(e);Wo(g)||0<g.X(o);)g=(h=fs(r-=s)).R(e);Ts(h)&&(h=Da),u=u.add(h),o=Ei(o,g)}return new Ko(u,o)}function Ua(o){for(var e=o.g.length+1,r=[],s=0;s<e;s++)r[s]=o.D(s)<<1|o.D(s-1)>>>31;return new $r(r,o.h)}function Js(o,e){var r=e>>5;e%=32;for(var s=o.g.length-r,u=[],h=0;h<s;h++)u[h]=0<e?o.D(h+r)>>>e|o.D(h+r+1)<<32-e:o.D(h+r);return new $r(u,o.h)}(Ce=$r.prototype).ea=function(){if(Wo(this))return-Rr(this).ea();for(var o=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);o+=(0<=s?s:ca+s)*e,e*=ca}return o},Ce.toString=function(o){if(2>(o=o||10)||36<o)throw Error("radix out of range: "+o);if(Ts(this))return"0";if(Wo(this))return"-"+Rr(this).toString(o);for(var e=fs(Math.pow(o,6)),r=this,s="";;){var u=Va(r,e).g,h=((0<(r=Ei(r,u.R(e))).g.length?r.g[0]:r.h)>>>0).toString(o);if(Ts(r=u))return h+s;for(;6>h.length;)h="0"+h;s=h+s}},Ce.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h},Ce.X=function(o){return Wo(o=Ei(this,o))?-1:Ts(o)?0:1},Ce.abs=function(){return Wo(this)?Rr(this):this},Ce.add=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0,u=0;u<=e;u++){var h=s+(65535&this.D(u))+(65535&o.D(u)),g=(h>>>16)+(this.D(u)>>>16)+(o.D(u)>>>16);s=g>>>16,r[u]=(g&=65535)<<16|(h&=65535)}return new $r(r,-2147483648&r[r.length-1]?-1:0)},Ce.R=function(o){if(Ts(this)||Ts(o))return Go;if(Wo(this))return Wo(o)?Rr(this).R(Rr(o)):Rr(Rr(this).R(o));if(Wo(o))return Rr(this.R(Rr(o)));if(0>this.X($l)&&0>o.X($l))return fs(this.ea()*o.ea());for(var e=this.g.length+o.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<o.g.length;u++){var h=this.D(s)>>>16,g=65535&this.D(s),b=o.D(u)>>>16,O=65535&o.D(u);r[2*s+2*u]+=g*O,Ys(r,2*s+2*u),r[2*s+2*u+1]+=h*O,Ys(r,2*s+2*u+1),r[2*s+2*u+1]+=g*b,Ys(r,2*s+2*u+1),r[2*s+2*u+2]+=h*b,Ys(r,2*s+2*u+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new $r(r,0)},Ce.gb=function(o){return Va(this,o).h},Ce.and=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&o.D(s);return new $r(r,this.h&o.h)},Ce.or=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|o.D(s);return new $r(r,this.h|o.h)},Ce.xor=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^o.D(s);return new $r(r,this.h^o.h)},os.prototype.createWebChannel=os.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,_n.NO_ERROR=0,_n.TIMEOUT=8,_n.HTTP_ERROR=6,Yn.COMPLETE="complete",Ii.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Un.prototype.listen=Un.prototype.O,Nr.prototype.listenOnce=Nr.prototype.P,Nr.prototype.getLastError=Nr.prototype.Sa,Nr.prototype.getLastErrorCode=Nr.prototype.Ia,Nr.prototype.getStatus=Nr.prototype.da,Nr.prototype.getResponseJson=Nr.prototype.Wa,Nr.prototype.getResponseText=Nr.prototype.ja,Nr.prototype.send=Nr.prototype.ha,Nr.prototype.setWithCredentials=Nr.prototype.Oa,ss.prototype.digest=ss.prototype.l,ss.prototype.reset=ss.prototype.reset,ss.prototype.update=ss.prototype.j,$r.prototype.add=$r.prototype.add,$r.prototype.multiply=$r.prototype.R,$r.prototype.modulo=$r.prototype.gb,$r.prototype.compare=$r.prototype.X,$r.prototype.toNumber=$r.prototype.ea,$r.prototype.toString=$r.prototype.toString,$r.prototype.getBits=$r.prototype.D,$r.fromNumber=fs,$r.fromString=function Za(o,e){if(0==o.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==o.charAt(0))return Rr(Za(o.substring(1),e));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=fs(Math.pow(e,8)),s=Go,u=0;u<o.length;u+=8){var h=Math.min(8,o.length-u),g=parseInt(o.substring(u,u+h),e);8>h?(h=fs(Math.pow(e,h)),s=s.R(h).add(fs(g))):s=(s=s.R(r)).add(fs(g))}return s};var vl=ie.createWebChannelTransport=function(){return new os},Bl=ie.getStatEventTarget=function(){return ae()},Os=ie.ErrorCode=_n,qo=ie.EventType=Yn,da=ie.Event=_t,_l=ie.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jl=ie.FetchXmlHttpFactory=ka,wa=ie.WebChannel=Ii,el=ie.XhrIo=Nr,$a=ie.Md5=ss,as=ie.Integer=$r;const ps="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let ks="10.11.1";const oo=new Re.Vy("@firebase/firestore");function gs(){return oo.logLevel}function Pi(o){oo.setLogLevel(o)}function E(o,...e){if(oo.logLevel<=Re.$b.DEBUG){const r=e.map($);oo.debug(`Firestore (${ks}): ${o}`,...r)}}function H(o,...e){if(oo.logLevel<=Re.$b.ERROR){const r=e.map($);oo.error(`Firestore (${ks}): ${o}`,...r)}}function Oe(o,...e){if(oo.logLevel<=Re.$b.WARN){const r=e.map($);oo.warn(`Firestore (${ks}): ${o}`,...r)}}function $(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function ee(o="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+o;throw H(e),new Error(e)}function De(o,e){o||ee()}function Ht(o,e){o||ee()}function Et(o,e){return o}const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends Y.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Cr{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Or{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Zi.UNAUTHENTICATED))}shutdown(){}}class Hr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class eo{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const h=K=>this.i!==u?(u=this.i,r(K)):Promise.resolve();let g=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new Zn,e.enqueueRetryable(()=>h(this.currentUser))};const b=()=>{const K=g;e.enqueueRetryable((0,c.A)(function*(){yield K.promise,yield h(s.currentUser)}))},O=K=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(K=>O(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?O(K):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new Zn)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(De("string"==typeof s.accessToken),new Cr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(null===e||"string"==typeof e),new Zi(e)}}class zr{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gn{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new zr(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ln{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ai{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=h=>{null!=h.error&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,E("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(De("string"==typeof r.token),this.R=r.token,new Ln(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mi(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<o;s++)r[s]=Math.floor(256*Math.random());return r}class to{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=mi(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[h]%62))}return s}}function dr(o,e){return o<e?-1:o>e?1:0}function li(o,e,r){return o.length===e.length&&o.every((s,u)=>r(s,e[u]))}function wo(o){return o+"\0"}class Dr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Bt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Bt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Bt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Dr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dr(this.nanoseconds,e.nanoseconds):dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new Dr(0,0))}static max(){return new an(new Dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xo{constructor(e,r,s){void 0===r?r=0:r>e.length&&ee(),void 0===s?s=e.length-r:s>e.length-r&&ee(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Xo.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xo?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const h=e.get(u),g=r.get(u);if(h<g)return-1;if(h>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Pr extends Xo{construct(e,r,s){return new Pr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Bt(It.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new Pr(r)}static emptyPath(){return new Pr([])}}const yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Xo{construct(e,r,s){return new mr(e,r,s)}static isValidIdentifier(e){return yl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const h=()=>{if(0===s.length)throw new Bt(It.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new Bt(It.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Bt(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,u+=2}else"`"===b?(g=!g,u++):"."!==b||g?(s+=b,u++):(h(),u++)}if(h(),g)throw new Bt(It.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(r)}static emptyPath(){return new mr([])}}class En{constructor(e){this.path=e}static fromPath(e){return new En(Pr.fromString(e))}static fromName(e){return new En(Pr.fromString(e).popFirst(5))}static empty(){return new En(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Pr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new En(new Pr(e.slice()))}}class Fs{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function Ls(o){return o.fields.find(e=>2===e.kind)}function Zs(o){return o.fields.filter(e=>2!==e.kind)}Fs.UNKNOWN_ID=-1;class bo{constructor(e,r){this.fieldPath=e,this.kind=r}}class Lo{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Lo(0,Zr.min())}}function Ar(o,e){const r=o.toTimestamp().seconds,s=o.toTimestamp().nanoseconds+1,u=an.fromTimestamp(1e9===s?new Dr(r+1,0):new Dr(r,s));return new Zr(u,En.empty(),e)}function Hl(o){return new Zr(o.readTime,o.key,-1)}class Zr{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Zr(an.min(),En.empty(),-1)}static max(){return new Zr(an.max(),En.empty(),-1)}}function Vo(o,e){let r=o.readTime.compareTo(e.readTime);return 0!==r?r:(r=En.comparator(o.documentKey,e.documentKey),0!==r?r:dr(o.largestBatchId,e.largestBatchId))}const Ui="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ea{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ai(o){return zl.apply(this,arguments)}function zl(){return zl=(0,c.A)(function*(o){if(o.code!==It.FAILED_PRECONDITION||o.message!==Ui)throw o;E("LocalStore","Unexpectedly lost primary lease")}),zl.apply(this,arguments)}class At{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new At((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof At?r:At.resolve(r)}catch(r){return At.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):At.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):At.reject(r)}static resolve(e){return new At((r,s)=>{r(e)})}static reject(e){return new At((r,s)=>{s(e)})}static waitFor(e){return new At((r,s)=>{let u=0,h=0,g=!1;e.forEach(b=>{++u,b.next(()=>{++h,g&&h===u&&r()},O=>s(O))}),g=!0,h===u&&r()})}static or(e){let r=At.resolve(!1);for(const s of e)r=r.next(u=>u?At.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,h)=>{s.push(r.call(this,u,h))}),this.waitFor(s)}static mapArray(e,r){return new At((s,u)=>{const h=e.length,g=new Array(h);let b=0;for(let O=0;O<h;O++){const K=O;r(e[K]).next(fe=>{g[K]=fe,++b,b===h&&s(g)},fe=>u(fe))}})}static doWhile(e,r){return new At((s,u)=>{const h=()=>{!0===e()?r().next(()=>{h()},u):s()};h()})}}class Io{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Zn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new So(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=tl(s.target.error);this.V.reject(new So(e,u))}}static open(e,r,s,u){try{return new Io(r,e.transaction(u,s))}catch(h){throw new So(r,h)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ls(r)}}class ms{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ms.S((0,Y.ZQ)())&&H("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),Eo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Y.zW)())return!1;if(ms.C())return!0;const e=(0,Y.ZQ)(),r=ms.S(e),s=0<r&&r<10,u=Vs(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||h)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,c.A)(function*(){return r.db||(E("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=g=>{s(g.target.result)},h.onblocked=()=>{u(new So(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=g=>{const b=g.target.error;u("VersionError"===b.name?new Bt(It.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Bt(It.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new So(e,b))},h.onupgradeneeded=g=>{E("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.O(g.target.result,h.transaction,g.oldVersion,r.version).next(()=>{E("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var h=this;return(0,c.A)(function*(){const g="readonly"===r;let b=0;for(;;){++b;try{h.db=yield h.M(e);const O=Io.open(h.db,e,g?"readonly":"readwrite",s),K=u(O).next(fe=>(O.g(),fe)).catch(fe=>(O.abort(fe),At.reject(fe))).toPromise();return K.catch(()=>{}),yield O.m,K}catch(O){const K=O,fe="FirebaseError"!==K.name&&b<3;if(E("SimpleDb","Transaction failed with error:",K.message,"Retrying:",fe),h.close(),!fe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Vs(o){const e=o.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class El{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Eo(this.B.delete())}}class So extends Bt{constructor(e,r){super(It.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Us(o){return"IndexedDbTransactionError"===o.name}class ls{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(E("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Eo(s)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),Eo(this.store.add(e))}get(e){return Eo(this.store.get(e)).next(r=>(void 0===r&&(r=null),E("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),Eo(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),Eo(this.store.count())}U(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const h=u.getAll(s.range);return new At((g,b)=>{h.onerror=O=>{b(O.target.error)},h.onsuccess=O=>{g(O.target.result)}})}{const h=this.cursor(s),g=[];return this.W(h,(b,O)=>{g.push(O)}).next(()=>g)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new At((u,h)=>{s.onerror=g=>{h(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}j(e,r){E("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const u=this.cursor(s);return this.W(u,(h,g,b)=>b.delete())}J(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.W(u,r)}Y(e){const r=this.cursor({});return new At((s,u)=>{r.onerror=h=>{const g=tl(h.target.error);u(g)},r.onsuccess=h=>{const g=h.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():s()}):s()}})}W(e,r){const s=[];return new At((u,h)=>{e.onerror=g=>{h(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void u();const O=new El(b),K=r(b.primaryKey,b.value,O);if(K instanceof At){const fe=K.catch(Fe=>(O.done(),At.reject(Fe)));s.push(fe)}O.isDone?u():null===O.K?b.continue():b.continue(O.K)}}).next(()=>At.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Eo(o){return new At((e,r)=>{o.onsuccess=s=>{e(s.target.result)},o.onerror=s=>{const u=tl(s.target.error);r(u)}})}let Ba=!1;function tl(o){const e=ms.S((0,Y.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(r)>=0){const s=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ba||(Ba=!0,setTimeout(()=>{throw s},0)),s}}return o}class pu{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;E("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.A)(function*(){r.task=null;try{E("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Us(s)?E("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Ai(s)}yield r.X(6e4)}))}}class ta{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let u=r,h=!0;return At.doWhile(()=>!0===h&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return E("IndexBackfiller",`Processing collection: ${g}`),this.ne(e,g,u).next(b=>{u-=b,s.add(g)});h=!1})).next(()=>r-u)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(h=>{const g=h.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.re(u,h)).next(b=>(E("IndexBackfiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,r,b))).next(()=>g.size)}))}re(e,r){let s=e;return r.changes.forEach((u,h)=>{const g=Hl(h);Vo(g,s)>0&&(s=g)}),new Zr(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Qo=(()=>{class o{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return o.oe=-1,o})();function nl(o){return null==o}function Gl(o){return 0===o&&1/o==-1/0}function hc(o){return"number"==typeof o&&Number.isInteger(o)&&!Gl(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function us(o){let e="";for(let r=0;r<o.length;r++)e.length>0&&(e=I(e)),e=qh(o.get(r),e);return I(e)}function qh(o,e){let r=e;const s=o.length;for(let u=0;u<s;u++){const h=o.charAt(u);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function I(o){return o+"\x01\x01"}function D(o){const e=o.length;if(De(e>=2),2===e)return De("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Pr.emptyPath();const r=e-2,s=[];let u="";for(let h=0;h<e;){const g=o.indexOf("\x01",h);switch((g<0||g>r)&&ee(),o.charAt(g+1)){case"\x01":const b=o.substring(h,g);let O;0===u.length?O=b:(u+=b,O=u,u=""),s.push(O);break;case"\x10":u+=o.substring(h,g),u+="\0";break;case"\x11":u+=o.substring(h,g+1);break;default:ee()}h=g+2}return new Pr(s)}const M=["userId","batchId"];function w(o,e){return[o,us(e)]}function L(o,e,r){return[o,us(e),r]}const le={},Te=["prefixPath","collectionGroup","readTime","documentId"],Tt=["prefixPath","collectionGroup","documentId"],on=["collectionGroup","readTime","prefixPath","documentId"],Ft=["canonicalId","targetId"],kn=["targetId","path"],rr=["path","targetId"],Ni=["collectionId","parent"],ri=["indexId","uid"],Ki=["uid","sequenceNumber"],na=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Al=["indexId","uid","orderedDocumentKey"],Cl=["userId","collectionPath","documentId"],Uo=["userId","collectionPath","largestBatchId"],ba=["userId","collectionGroup","largestBatchId"],Mu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fa=[...Mu,"documentOverlays"],Kc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ds=Kc,ja=[...Ds,"indexConfiguration","indexState","indexEntries"],xu=ja;class Tl extends ea{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ao(o,e){const r=Et(o);return ms.F(r._e,e)}function Hd(o){let e=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e++;return e}function Gr(o,e){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e(r,o[r])}function Nu(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class Wr{constructor(e,r){this.comparator=e,this.root=r||$o.EMPTY}insert(e,r){return new Wr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$o.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$o.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ho(this.root,e,this.comparator,!0)}}class ho{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?s(e.key,r):1,r&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $o{constructor(e,r,s,u,h){this.key=e,this.value=r,this.color=null!=s?s:$o.RED,this.left=null!=u?u:$o.EMPTY,this.right=null!=h?h:$o.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,h){return new $o(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return $o.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return $o.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$o.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,r,s,u,h){return this}insert(e,r,s){return new $o(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Dl(this.data.getIterator())}getIteratorFrom(e){return new Dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new vi(this.comparator);return r.data=e,r}}class Dl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ro(o){return o.hasNext()?o.getNext():void 0}class vs{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new vs([])}unionWith(e){let r=new vi(mr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new vs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return li(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class gu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function zd(){return typeof atob<"u"}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new gu("Invalid base64 string: "+h):h}}(e);return new bi(r)}static fromUint8Array(e){const r=function(u){let h="";for(let g=0;g<u.length;++g)h+=String.fromCharCode(u[g]);return h}(e);return new bi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(o){if(De(!!o),"string"==typeof o){let e=0;const r=fc.exec(o);if(De(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(o);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:no(o.seconds),nanos:no(o.nanos)}}function no(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function $s(o){return"string"==typeof o?bi.fromBase64String(o):bi.fromUint8Array(o)}function Sa(o){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==o?void 0:o.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ha(o){const e=o.mapValue.fields.__previous_value__;return Sa(e)?Ha(e):e}function Bs(o){const e=pa(o.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}class Ou{constructor(e,r,s,u,h,g,b,O,K){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=O,this.useFetchStreams=K}}class js{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}const fr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wl={nullValue:"NULL_VALUE"};function za(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Sa(o)?4:ii(o)?9007199254740991:10:ee()}function Ra(o,e){if(o===e)return!0;const r=za(o);if(r!==za(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Bs(o).isEqual(Bs(e));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const g=pa(u.timestampValue),b=pa(h.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return h=e,$s(o.bytesValue).isEqual($s(h.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(u,h){return no(u.geoPointValue.latitude)===no(h.geoPointValue.latitude)&&no(u.geoPointValue.longitude)===no(h.geoPointValue.longitude)}(o,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return no(u.integerValue)===no(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const g=no(u.doubleValue),b=no(h.doubleValue);return g===b?Gl(g)===Gl(b):isNaN(g)&&isNaN(b)}return!1}(o,e);case 9:return li(o.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(u,h){const g=u.mapValue.fields||{},b=h.mapValue.fields||{};if(Hd(g)!==Hd(b))return!1;for(const O in g)if(g.hasOwnProperty(O)&&(void 0===b[O]||!Ra(g[O],b[O])))return!1;return!0}(o,e);default:return ee()}var h}function Wl(o,e){return void 0!==(o.values||[]).find(r=>Ra(r,e))}function Ga(o,e){if(o===e)return 0;const r=za(o),s=za(e);if(r!==s)return dr(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return dr(o.booleanValue,e.booleanValue);case 2:return function(h,g){const b=no(h.integerValue||h.doubleValue),O=no(g.integerValue||g.doubleValue);return b<O?-1:b>O?1:b===O?0:isNaN(b)?isNaN(O)?0:-1:1}(o,e);case 3:return ku(o.timestampValue,e.timestampValue);case 4:return ku(Bs(o),Bs(e));case 5:return dr(o.stringValue,e.stringValue);case 6:return function(h,g){const b=$s(h),O=$s(g);return b.compareTo(O)}(o.bytesValue,e.bytesValue);case 7:return function(h,g){const b=h.split("/"),O=g.split("/");for(let K=0;K<b.length&&K<O.length;K++){const fe=dr(b[K],O[K]);if(0!==fe)return fe}return dr(b.length,O.length)}(o.referenceValue,e.referenceValue);case 8:return function(h,g){const b=dr(no(h.latitude),no(g.latitude));return 0!==b?b:dr(no(h.longitude),no(g.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(h,g){const b=h.values||[],O=g.values||[];for(let K=0;K<b.length&&K<O.length;++K){const fe=Ga(b[K],O[K]);if(fe)return fe}return dr(b.length,O.length)}(o.arrayValue,e.arrayValue);case 10:return function(h,g){if(h===fr.mapValue&&g===fr.mapValue)return 0;if(h===fr.mapValue)return 1;if(g===fr.mapValue)return-1;const b=h.fields||{},O=Object.keys(b),K=g.fields||{},fe=Object.keys(K);O.sort(),fe.sort();for(let Fe=0;Fe<O.length&&Fe<fe.length;++Fe){const ht=dr(O[Fe],fe[Fe]);if(0!==ht)return ht;const Vt=Ga(b[O[Fe]],K[fe[Fe]]);if(0!==Vt)return Vt}return dr(O.length,fe.length)}(o.mapValue,e.mapValue);default:throw ee()}}function ku(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return dr(o,e);const r=pa(o),s=pa(e),u=dr(r.seconds,s.seconds);return 0!==u?u:dr(r.nanos,s.nanos)}function ra(o){return Fu(o)}function Fu(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(r){const s=pa(r);return`time(${s.seconds},${s.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?$s(o.bytesValue).toBase64():"referenceValue"in o?En.fromName(o.referenceValue).toString():"geoPointValue"in o?function(r){return`geo(${r.latitude},${r.longitude})`}(o.geoPointValue):"arrayValue"in o?function(r){let s="[",u=!0;for(const h of r.values||[])u?u=!1:s+=",",s+=Fu(h);return s+"]"}(o.arrayValue):"mapValue"in o?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of s)h?h=!1:u+=",",u+=`${g}:${Fu(r.fields[g])}`;return u+"}"}(o.mapValue):ee()}function bl(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function Kl(o){return!!o&&"integerValue"in o}function rl(o){return!!o&&"arrayValue"in o}function Xt(o){return!!o&&"nullValue"in o}function Kr(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Sl(o){return!!o&&"mapValue"in o}function ql(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return Gr(o.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ql(s)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ql(o.arrayValue.values[r]);return e}return Object.assign({},o)}function ii(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function mu(o){return"nullValue"in o?wl:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?bl(js.empty(),En.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:ee()}function il(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?bl(js.empty(),En.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?fr:ee()}function Po(o,e){const r=Ga(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function Rl(o,e){const r=Ga(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class Mo{constructor(e){this.value=e}static empty(){return new Mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Sl(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(r)}setAll(e){let r=mr.emptyPath(),s={},u=[];e.forEach((g,b)=>{if(!r.isImmediateParentOf(b)){const O=this.getFieldsMap(r);this.applyChanges(O,s,u),s={},u=[],r=b.popLast()}g?s[b.lastSegment()]=ql(g):u.push(b.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,u)}delete(e){const r=this.field(e.popLast());Sl(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];Sl(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Gr(r,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Mo(ql(this.value))}}function pc(o){const e=[];return Gr(o.fields,(r,s)=>{const u=new mr([r]);if(Sl(s)){const h=pc(s.mapValue).fields;if(0===h.length)e.push(u);else for(const g of h)e.push(u.child(g))}else e.push(u)}),new vs(e)}class qi{constructor(e,r,s,u,h,g,b){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=h,this.data=g,this.documentState=b}static newInvalidDocument(e){return new qi(e,0,an.min(),an.min(),an.min(),Mo.empty(),0)}static newFoundDocument(e,r,s,u){return new qi(e,1,r,an.min(),s,u,0)}static newNoDocument(e,r){return new qi(e,2,r,an.min(),an.min(),Mo.empty(),0)}static newUnknownDocument(e,r){return new qi(e,3,r,an.min(),an.min(),Mo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(an.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pa{constructor(e,r){this.position=e,this.inclusive=r}}function cs(o,e,r){let s=0;for(let u=0;u<o.position.length;u++){const h=e[u],g=o.position[u];if(s=h.field.isKeyField()?En.comparator(En.fromName(g.referenceValue),r.key):Ga(g,r.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function ma(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!Ra(o.position[r],e.position[r]))return!1;return!0}class ol{constructor(e,r="asc"){this.field=e,this.dir=r}}function ia(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class Hs{}class ei extends Hs{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new R(e,r,s):"array-contains"===r?new be(e,s):"in"===r?new at(e,s):"not-in"===r?new Gt(e,s):"array-contains-any"===r?new Jt(e,s):new ei(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new _(e,s):new U(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Ga(r,this.value)):null!==r&&za(this.value)===za(r)&&this.matchesComparison(Ga(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Hs{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new _i(e,r)}matches(e){return Xl(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xl(o){return"and"===o.op}function gc(o){return"or"===o.op}function Ql(o){return mc(o)&&Xl(o)}function mc(o){for(const e of o.filters)if(e instanceof _i)return!1;return!0}function Pl(o){if(o instanceof ei)return o.field.canonicalString()+o.op.toString()+ra(o.value);if(Ql(o))return o.filters.map(e=>Pl(e)).join(",");{const e=o.filters.map(r=>Pl(r)).join(",");return`${o.op}(${e})`}}function Lu(o,e){return o instanceof ei?(s=o,(u=e)instanceof ei&&s.op===u.op&&s.field.isEqual(u.field)&&Ra(s.value,u.value)):o instanceof _i?function(s,u){return u instanceof _i&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((h,g,b)=>h&&Lu(g,u.filters[b]),!0)}(o,e):void ee();var s,u}function qc(o,e){const r=o.filters.concat(e);return _i.create(r,o.op)}function vc(o){return o instanceof ei?`${(r=o).field.canonicalString()} ${r.op} ${ra(r.value)}`:o instanceof _i?function(r){return r.op.toString()+" {"+r.getFilters().map(vc).join(" ,")+"}"}(o):"Filter";var r}class R extends ei{constructor(e,r,s){super(e,r,s),this.key=En.fromName(s.referenceValue)}matches(e){const r=En.comparator(e.key,this.key);return this.matchesComparison(r)}}class _ extends ei{constructor(e,r){super(e,"in",r),this.keys=G(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class U extends ei{constructor(e,r){super(e,"not-in",r),this.keys=G(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function G(o,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>En.fromName(s.referenceValue))}class be extends ei{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return rl(r)&&Wl(r.arrayValue,this.value)}}class at extends ei{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Wl(this.value.arrayValue,r)}}class Gt extends ei{constructor(e,r){super(e,"not-in",r)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Wl(this.value.arrayValue,r)}}class Jt extends ei{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!rl(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}class cn{constructor(e,r=null,s=[],u=[],h=null,g=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=g,this.endAt=b,this.ue=null}}function An(o,e=null,r=[],s=[],u=null,h=null,g=null){return new cn(o,e,r,s,u,h,g)}function er(o){const e=Et(o);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Pl(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),nl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ra(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ra(s)).join(",")),e.ue=r}return e.ue}function kr(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<o.orderBy.length;r++)if(!ia(o.orderBy[r],e.orderBy[r]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let r=0;r<o.filters.length;r++)if(!Lu(o.filters[r],e.filters[r]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!ma(o.startAt,e.startAt)&&ma(o.endAt,e.endAt)}function yi(o){return En.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function fi(o,e){return o.filters.filter(r=>r instanceof ei&&r.field.isEqual(e))}function Si(o,e,r){let s=wl,u=!0;for(const h of fi(o,e)){let g=wl,b=!0;switch(h.op){case"<":case"<=":g=mu(h.value);break;case"==":case"in":case">=":g=h.value;break;case">":g=h.value,b=!1;break;case"!=":case"not-in":g=wl}Po({value:s,inclusive:u},{value:g,inclusive:b})<0&&(s=g,u=b)}if(null!==r)for(let h=0;h<o.orderBy.length;++h)if(o.orderBy[h].field.isEqual(e)){const g=r.position[h];Po({value:s,inclusive:u},{value:g,inclusive:r.inclusive})<0&&(s=g,u=r.inclusive);break}return{value:s,inclusive:u}}function Oi(o,e,r){let s=fr,u=!0;for(const h of fi(o,e)){let g=fr,b=!0;switch(h.op){case">=":case">":g=il(h.value),b=!1;break;case"==":case"in":case"<=":g=h.value;break;case"<":g=h.value,b=!1;break;case"!=":case"not-in":g=fr}Rl({value:s,inclusive:u},{value:g,inclusive:b})>0&&(s=g,u=b)}if(null!==r)for(let h=0;h<o.orderBy.length;++h)if(o.orderBy[h].field.isEqual(e)){const g=r.position[h];Rl({value:s,inclusive:u},{value:g,inclusive:r.inclusive})>0&&(s=g,u=r.inclusive);break}return{value:s,inclusive:u}}class Mr{constructor(e,r=null,s=[],u=[],h=null,g="F",b=null,O=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=g,this.startAt=b,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function qr(o,e,r,s,u,h,g,b){return new Mr(o,e,r,s,u,h,g,b)}function $i(o){return new Mr(o)}function Xi(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Ir(o){return null!==o.collectionGroup}function ki(o){const e=Et(o);if(null===e.ce){e.ce=[];const r=new Set;for(const h of e.explicitOrderBy)e.ce.push(h),r.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new vi(mr.comparator);return g.filters.forEach(O=>{O.getFlattenedFilters().forEach(K=>{K.isInequality()&&(b=b.add(K.field))})}),b})(e).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||e.ce.push(new ol(h,s))}),r.has(mr.keyField().canonicalString())||e.ce.push(new ol(mr.keyField(),s))}return e.ce}function Xr(o){const e=Et(o);return e.le||(e.le=function sl(o,e){if("F"===o.limitType)return An(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(u=>new ol(u.field,"desc"===u.dir?"asc":"desc"));const r=o.endAt?new Pa(o.endAt.position,o.endAt.inclusive):null,s=o.startAt?new Pa(o.startAt.position,o.startAt.inclusive):null;return An(o.path,o.collectionGroup,e,o.filters,o.limit,r,s)}}(e,ki(o))),e.le}function oa(o,e){const r=o.filters.concat([e]);return new Mr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),r,o.limit,o.limitType,o.startAt,o.endAt)}function Yl(o,e,r){return new Mr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,r,o.startAt,o.endAt)}function Ml(o,e){return kr(Xr(o),Xr(e))&&o.limitType===e.limitType}function Jl(o){return`${er(Xr(o))}|lt:${o.limitType}`}function vu(o){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>vc(u)).join(", ")}]`),nl(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(g=u).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>ra(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>ra(u)).join(",")),`Target(${s})`}(Xr(o))}; limitType=${o.limitType})`}function al(o,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):En.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(o,e)&&function(s,u){for(const h of ki(s))if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(o,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(o,e)&&(u=e,!((s=o).startAt&&!function(g,b,O){const K=cs(g,b,O);return g.inclusive?K<=0:K<0}(s.startAt,ki(s),u)||s.endAt&&!function(g,b,O){const K=cs(g,b,O);return g.inclusive?K>=0:K>0}(s.endAt,ki(s),u)));var s,u}function Gd(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function Wd(o){return(e,r)=>{let s=!1;for(const u of ki(o)){const h=$p(u,e,r);if(0!==h)return h;s=s||u.field.isKeyField()}return 0}}function $p(o,e,r){const s=o.field.isKeyField()?En.comparator(e.key,r.key):function(h,g,b){const O=g.data.field(h),K=b.data.field(h);return null!==O&&null!==K?Ga(O,K):ee()}(o.field,e,r);switch(o.dir){case"asc":return s;case"desc":return-1*s;default:return ee()}}class Zl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,h]of s)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(r,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return Nu(this.inner)}size(){return this.innerSize}}const $m=new Wr(En.comparator);function ws(){return $m}const Vu=new Wr(En.comparator);function Uu(...o){let e=Vu;for(const r of o)e=e.insert(r.key,r);return e}function $u(o){let e=Vu;return o.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ma(){return A()}function _c(){return A()}function A(){return new Zl(o=>o.toString(),(o,e)=>o.isEqual(e))}const p=new Wr(En.comparator),v=new vi(En.comparator);function C(...o){let e=v;for(const r of o)e=e.add(r);return e}const q=new vi(dr);function ye(){return q}function pt(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function Ut(o){return{integerValue:""+o}}function ln(o,e){return hc(e)?Ut(e):pt(o,e)}class $n{constructor(){this._=void 0}}function hr(o,e,r){return o instanceof sa?function(u,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Sa(h)&&(h=Ha(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(r,e):o instanceof Wa?Xc(o,e):o instanceof xl?Bu(o,e):function(u,h){const g=bs(u,h),b=Qc(g)+Qc(u.Pe);return Kl(g)&&Kl(u.Pe)?Ut(b):pt(u.serializer,b)}(o,e)}function oi(o,e,r){return o instanceof Wa?Xc(o,e):o instanceof xl?Bu(o,e):r}function bs(o,e){return o instanceof va?Kl(s=e)||(h=s)&&"doubleValue"in h?e:{integerValue:0}:null;var s,h}class sa extends $n{}class Wa extends $n{constructor(e){super(),this.elements=e}}function Xc(o,e){const r=Yc(e);for(const s of o.elements)r.some(u=>Ra(u,s))||r.push(s);return{arrayValue:{values:r}}}class xl extends $n{constructor(e){super(),this.elements=e}}function Bu(o,e){let r=Yc(e);for(const s of o.elements)r=r.filter(u=>!Ra(u,s));return{arrayValue:{values:r}}}class va extends $n{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Qc(o){return no(o.integerValue||o.doubleValue)}function Yc(o){return rl(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class _u{constructor(e,r){this.field=e,this.transform=r}}class yu{constructor(e,r){this.version=e,this.transformResults=r}}class Fr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class yc{}function Xh(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new Zc(o.key,Fr.none()):new Ic(o.key,o.data,Fr.none());{const r=o.data,s=Mo.empty();let u=new vi(mr.comparator);for(let h of e.fields)if(!u.has(h)){let g=r.field(h);null===g&&h.length>1&&(h=h.popLast(),g=r.field(h)),null===g?s.delete(h):s.set(h,g),u=u.add(h)}return new Nl(o.key,s,new vs(u.toArray()),Fr.none())}}function vy(o,e,r){o instanceof Ic?function(u,h,g){const b=u.value.clone(),O=Bp(u.fieldTransforms,h,g.transformResults);b.setAll(O),h.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(o,e,r):o instanceof Nl?function(u,h,g){if(!ju(u.precondition,h))return void h.convertToUnknownDocument(g.version);const b=Bp(u.fieldTransforms,h,g.transformResults),O=h.data;O.setAll(Kd(u)),O.setAll(b),h.convertToFoundDocument(g.version,O).setHasCommittedMutations()}(o,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Jc(o,e,r,s){return o instanceof Ic?function(h,g,b,O){if(!ju(h.precondition,g))return b;const K=h.value.clone(),fe=jm(h.fieldTransforms,O,g);return K.setAll(fe),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null}(o,e,r,s):o instanceof Nl?function(h,g,b,O){if(!ju(h.precondition,g))return b;const K=jm(h.fieldTransforms,O,g),fe=g.data;return fe.setAll(Kd(h)),fe.setAll(K),g.convertToFoundDocument(g.version,fe).setHasLocalMutations(),null===b?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Fe=>Fe.field))}(o,e,r,s):(b=r,ju(o.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function Qh(o,e){let r=null;for(const s of o.fieldTransforms){const u=e.data.field(s.field),h=bs(s.transform,u||null);null!=h&&(null===r&&(r=Mo.empty()),r.set(s.field,h))}return r||null}function Bm(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=o.fieldTransforms)&&void 0===u||s&&u&&li(s,u,(h,g)=>function eu(o,e){return o.field.isEqual(e.field)&&(u=e.transform,(s=o.transform)instanceof Wa&&u instanceof Wa||s instanceof xl&&u instanceof xl?li(s.elements,u.elements,Ra):s instanceof va&&u instanceof va?Ra(s.Pe,u.Pe):s instanceof sa&&u instanceof sa);var s,u}(h,g))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var s,u}class Ic extends yc{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Nl extends yc{constructor(e,r,s,u,h=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Kd(o){const e=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=o.data.field(r);e.set(r,s)}}),e}function Bp(o,e,r){const s=new Map;De(o.length===r.length);for(let u=0;u<r.length;u++){const h=o[u],g=h.transform,b=e.data.field(h.field);s.set(h.field,oi(g,b,r[u]))}return s}function jm(o,e,r){const s=new Map;for(const u of o){const h=u.transform,g=r.data.field(u.field);s.set(u.field,hr(h,g,e))}return s}class Zc extends yc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jp extends yc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yh{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&vy(h,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Jc(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Jc(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=_c();return this.mutations.forEach(u=>{const h=e.get(u.key),g=h.overlayedDocument;let b=this.applyToLocalView(g,h.mutatedFields);b=r.has(u.key)?null:b;const O=Xh(g,b);null!==O&&s.set(u.key,O),g.isValidDocument()||g.convertToNoDocument(an.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),C())}isEqual(e){return this.batchId===e.batchId&&li(this.mutations,e.mutations,(r,s)=>Bm(r,s))&&li(this.baseMutations,e.baseMutations,(r,s)=>Bm(r,s))}}class Hp{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){De(e.mutations.length===s.length);let u=function(){return p}();const h=e.mutations;for(let g=0;g<h.length;g++)u=u.insert(h[g].key,s[g].version);return new Hp(e,r,s,u)}}class Jh{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yy{constructor(e,r){this.count=e,this.unchangedNames=r}}var _s,Ci;function zp(o){switch(o){default:return ee();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0}}function xa(o){if(void 0===o)return H("GRPC error has no .code"),It.UNKNOWN;switch(o){case _s.OK:return It.OK;case _s.CANCELLED:return It.CANCELLED;case _s.UNKNOWN:return It.UNKNOWN;case _s.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case _s.INTERNAL:return It.INTERNAL;case _s.UNAVAILABLE:return It.UNAVAILABLE;case _s.UNAUTHENTICATED:return It.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case _s.NOT_FOUND:return It.NOT_FOUND;case _s.ALREADY_EXISTS:return It.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return It.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case _s.ABORTED:return It.ABORTED;case _s.OUT_OF_RANGE:return It.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return It.UNIMPLEMENTED;case _s.DATA_LOSS:return It.DATA_LOSS;default:return ee()}}(Ci=_s||(_s={}))[Ci.OK=0]="OK",Ci[Ci.CANCELLED=1]="CANCELLED",Ci[Ci.UNKNOWN=2]="UNKNOWN",Ci[Ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ci[Ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ci[Ci.NOT_FOUND=5]="NOT_FOUND",Ci[Ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ci[Ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ci[Ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ci[Ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ci[Ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ci[Ci.ABORTED=10]="ABORTED",Ci[Ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ci[Ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ci[Ci.INTERNAL=13]="INTERNAL",Ci[Ci.UNAVAILABLE=14]="UNAVAILABLE",Ci[Ci.DATA_LOSS=15]="DATA_LOSS";function Wp(){return new TextEncoder}const sE=new as([4294967295,4294967295],0);function Zh(o){const e=Wp().encode(o),r=new $a;return r.update(e),new Uint8Array(r.digest())}function tu(o){const e=new DataView(o.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new as([r,s],0),new as([u,h],0)]}class ef{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new nu(`Invalid padding: ${r}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new nu(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new nu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=as.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(as.fromNumber(s)));return 1===u.compare(sE)&&(u=new as([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Zh(e),[s,u]=tu(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,u,h);if(!this.de(g))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),g=new ef(h,u,r);return s.forEach(b=>g.insert(b)),g}insert(e){if(0===this.Ie)return;const r=Zh(e),[s,u]=tu(r);for(let h=0;h<this.hashCount;h++){const g=this.Ee(s,u,h);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qd{constructor(e,r,s,u,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new qd(an.min(),u,new Wr(dr),ws(),C())}}class Xd{constructor(e,r,s,u,h){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Xd(s,r,C(),C(),C())}}class Qd{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Iy{constructor(e,r){this.targetId=e,this.me=r}}class Ey{constructor(e,r,s=bi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Ay{constructor(){this.fe=0,this.ge=Hm(),this.pe=bi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=C(),r=C(),s=C();return this.ge.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:ee()}}),new Xd(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Hm()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aE{constructor(e){this.Le=e,this.Be=new Map,this.ke=ws(),this.qe=Cy(),this.Qe=new Wr(dr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const h=u.target;if(yi(h))if(0===s){const g=new En(h.path);this.Ue(r,g,qi.newNoDocument(g,an.min()))}else De(1===s);else{const g=this.Ye(r);if(g!==s){const b=this.Ze(e),O=b?this.Xe(b,e,g):1;0!==O&&(this.je(r),this.Qe=this.Qe.insert(r,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=r;let g,b;try{g=$s(s).toUint8Array()}catch(O){if(O instanceof gu)return Oe("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{b=new ef(g,u,h)}catch(O){return Oe(O instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===b.Ie?null:b}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(h=>{const g=this.Le.tt(),b=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;e.mightContain(b)||(this.Ue(r,h,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((h,g)=>{const b=this.Je(g);if(b){if(h.current&&yi(b.target)){const O=new En(b.target.path);null!==this.ke.get(O)||this.it(g,O)||this.Ue(g,O,qi.newNoDocument(O,e))}h.be&&(r.set(g,h.Ce()),h.ve())}});let s=C();this.qe.forEach((h,g)=>{let b=!0;g.forEachWhile(O=>{const K=this.Je(O);return!K||"TargetPurposeLimboResolution"===K.purpose||(b=!1,!1)}),b&&(s=s.add(h))}),this.ke.forEach((h,g)=>g.setReadTime(e));const u=new qd(e,r,this.Qe,this.ke,s);return this.ke=ws(),this.qe=Cy(),this.Qe=new Wr(dr),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ay,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new vi(dr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||E("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ay),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Cy(){return new Wr(En.comparator)}function Hm(){return new Wr(En.comparator)}const ed={asc:"ASCENDING",desc:"DESCENDING"},Yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zm={and:"AND",or:"OR"};class Ty{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Jd(o,e){return o.useProto3Json||nl(e)?e:{value:e}}function _a(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gm(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function Kp(o,e){return _a(o,e.toTimestamp())}function Co(o){return De(!!o),an.fromTimestamp(function(r){const s=pa(r);return new Dr(s.seconds,s.nanos)}(o))}function qp(o,e){return tf(o,e).canonicalString()}function tf(o,e){const r=(u=o,new Pr(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Xp(o){const e=Pr.fromString(o);return De(ev(e)),e}function Hu(o,e){return qp(o.databaseId,e.path)}function Ka(o,e){const r=Xp(e);if(r.get(1)!==o.databaseId.projectId)throw new Bt(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new Bt(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new En(Km(r))}function nf(o,e){return qp(o.databaseId,e)}function Wm(o){const e=Xp(o);return 4===e.length?Pr.emptyPath():Km(e)}function Qp(o){return new Pr(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Km(o){return De(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Yp(o,e,r){return{name:Hu(o,e),fields:r.value.mapValue.fields}}function qm(o,e,r){const s=Ka(o,e.name),u=Co(e.updateTime),h=e.createTime?Co(e.createTime):an.min(),g=new Mo({mapValue:{fields:e.fields}}),b=qi.newFoundDocument(s,u,h,g);return r&&b.setHasCommittedMutations(),r?b.setHasCommittedMutations():b}function Ec(o,e){let r;if(e instanceof Ic)r={update:Yp(o,e.key,e.value)};else if(e instanceof Zc)r={delete:Hu(o,e.key)};else if(e instanceof Nl)r={update:Yp(o,e.key,e.data),updateMask:by(e.fieldMask)};else{if(!(e instanceof jp))return ee();r={verify:Hu(o,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(h,g){const b=g.transform;if(b instanceof sa)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Wa)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof xl)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof va)return{fieldPath:g.field.canonicalString(),increment:b.Pe};throw ee()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Kp(o,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:ee()),r;var h}function rf(o,e){const r=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Fr.updateTime(Co(h.updateTime)):void 0!==h.exists?Fr.exists(h.exists):Fr.none():Fr.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(g,b){let O=null;"setToServerValue"in b?(De("REQUEST_TIME"===b.setToServerValue),O=new sa):"appendMissingElements"in b?O=new Wa(b.appendMissingElements.values||[]):"removeAllFromArray"in b?O=new xl(b.removeAllFromArray.values||[]):"increment"in b?O=new va(g,b.increment):ee();const K=mr.fromServerFormat(b.fieldPath);return new _u(K,O)}(o,u)):[];var h;if(e.update){const u=Ka(o,e.update.name),h=new Mo({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new vs((e.updateMask.fieldPaths||[]).map(fe=>mr.fromServerFormat(fe)));return new Nl(u,h,g,r,s)}return new Ic(u,h,r,s)}if(e.delete){const u=Ka(o,e.delete);return new Zc(u,r)}if(e.verify){const u=Ka(o,e.verify);return new jp(u,r)}return ee()}function zs(o,e){return{documents:[nf(o,e.path)]}}function Ac(o,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=nf(o,u);const h=function(K){if(0!==K.length)return Zm(_i.create(K,"and"))}(e.filters);h&&(r.structuredQuery.where=h);const g=function(K){if(0!==K.length)return K.map(fe=>{return{field:zu((ht=fe).field),direction:Ym(ht.dir)};var ht})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const b=Jd(o,e.limit);return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:u};var K}function Zp(o){let e=Wm(o.parent);const r=o.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){De(1===s);const fe=r.from[0];fe.allDescendants?u=fe.collectionId:e=e.child(fe.collectionId)}let h=[];r.where&&(h=function(Fe){const ht=Qm(Fe);return ht instanceof _i&&Ql(ht)?ht.getFilters():[ht]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(ht=>{return new ol(Cc((wn=ht).field),function(bn){switch(bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wn.direction));var wn}));let b=null;r.limit&&(b=function(Fe){let ht;return ht="object"==typeof Fe?Fe.value:Fe,nl(ht)?null:ht}(r.limit));let O=null;var Fe;r.startAt&&(O=new Pa((Fe=r.startAt).values||[],!!Fe.before));let K=null;return r.endAt&&(K=function(Fe){return new Pa(Fe.values||[],!Fe.before)}(r.endAt)),qr(e,u,g,h,b,"F",O,K)}function Qm(o){return void 0!==o.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Cc(r.unaryFilter.field);return ei.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Cc(r.unaryFilter.field);return ei.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Cc(r.unaryFilter.field);return ei.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Cc(r.unaryFilter.field);return ei.create(g,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(o):void 0!==o.fieldFilter?ei.create(Cc((r=o).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==o.compositeFilter?function(r){return _i.create(r.compositeFilter.filters.map(s=>Qm(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ee()}}(r.compositeFilter.op))}(o):ee();var r}function Ym(o){return ed[o]}function wy(o){return Yd[o]}function Jm(o){return zm[o]}function zu(o){return{fieldPath:o.canonicalString()}}function Cc(o){return mr.fromServerFormat(o.fieldPath)}function Zm(o){return o instanceof ei?function(r){if("=="===r.op){if(Kr(r.value))return{unaryFilter:{field:zu(r.field),op:"IS_NAN"}};if(Xt(r.value))return{unaryFilter:{field:zu(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Kr(r.value))return{unaryFilter:{field:zu(r.field),op:"IS_NOT_NAN"}};if(Xt(r.value))return{unaryFilter:{field:zu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(r.field),op:wy(r.op),value:r.value}}}(o):o instanceof _i?function(r){const s=r.getFilters().map(u=>Zm(u));return 1===s.length?s[0]:{compositeFilter:{op:Jm(r.op),filters:s}}}(o):ee()}function by(o){const e=[];return o.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ev(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class Iu{constructor(e,r,s,u,h=an.min(),g=an.min(),b=bi.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=O}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eg{constructor(e){this.ut=e}}function tg(o,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Tc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Hu(h=o.ut,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:_a(h,g.version.toTimestamp()),createTime:_a(h,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Gu(e.version)};else{if(!e.isUnknownDocument())return ee();s.unknownDocument={path:r.path.toArray(),version:Gu(e.version)}}var h,g;return s}function Tc(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function Gu(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(o){const e=new Dr(o.seconds,o.nanoseconds);return an.fromTimestamp(e)}function Ku(o,e){const r=(e.baseMutations||[]).map(h=>rf(o.ut,h));for(let h=0;h<e.mutations.length-1;++h)h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(e.mutations[h].updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h);const s=e.mutations.map(h=>rf(o.ut,h)),u=Dr.fromMillis(e.localWriteTimeMs);return new Yh(e.batchId,u,r,s)}function td(o){const e=Wu(o.readTime),r=void 0!==o.lastLimboFreeSnapshotVersion?Wu(o.lastLimboFreeSnapshotVersion):an.min();let s;return s=void 0!==o.query.documents?(De(1===(h=o.query).documents.length),Xr($i(Wm(h.documents[0])))):function(h){return Xr(Zp(h))}(o.query),new Iu(s,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,r,bi.fromBase64String(o.resumeToken));var h}function nv(o,e){const r=Gu(e.snapshotVersion),s=Gu(e.lastLimboFreeSnapshotVersion);let u;u=yi(e.target)?zs(o.ut,e.target):Ac(o.ut,e.target)._t;const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:er(e.target),readTime:r,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function ng(o){const e=Zp({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Yl(e,e.limit,"L"):e}function rg(o,e){return new Jh(e.largestBatchId,rf(o.ut,e.overlayMutation))}function rv(o,e){const r=e.path.lastSegment();return[o,us(e.path.popLast()),r]}function ig(o,e,r,s){return{indexId:o,uid:e,sequenceNumber:r,readTime:Gu(s.readTime),documentKey:us(s.documentKey.path),largestBatchId:s.largestBatchId}}class lE{getBundleMetadata(e,r){return og(e).get(r).next(s=>{if(s)return{id:(h=s).bundleId,createTime:Wu(h.createTime),version:h.version};var h})}saveBundleMetadata(e,r){return og(e).put({bundleId:(u=r).id,createTime:Gu(Co(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return iv(e).get(r).next(s=>{if(s)return{name:(h=s).name,query:ng(h.bundledQuery),readTime:Wu(h.readTime)};var h})}saveNamedQuery(e,r){return iv(e).put({name:(u=r).name,readTime:Gu(Co(u.readTime)),bundledQuery:u.bundledQuery});var u}}function og(o){return Ao(o,"bundles")}function iv(o){return Ao(o,"namedQueries")}class sf{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new sf(e,r.uid||"")}getOverlay(e,r){return af(e).get(rv(this.userId,r)).next(s=>s?rg(this.serializer,s):null)}getOverlays(e,r){const s=Ma();return At.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&s.set(u,h)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((h,g)=>{const b=new Jh(r,g);u.push(this.lt(e,b))}),At.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(g=>u.add(us(g.getCollectionPath())));const h=[];return u.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);h.push(af(e).j("collectionPathOverlayIndex",b))}),At.waitFor(h)}getOverlaysForCollection(e,r,s){const u=Ma(),h=us(r),g=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,Number.POSITIVE_INFINITY],!0);return af(e).U("collectionPathOverlayIndex",g).next(b=>{for(const O of b){const K=rg(this.serializer,O);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const h=Ma();let g;const b=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return af(e).J({index:"collectionGroupOverlayIndex",range:b},(O,K,fe)=>{const Fe=rg(this.serializer,K);h.size()<u||Fe.largestBatchId===g?(h.set(Fe.getKey(),Fe),g=Fe.largestBatchId):fe.done()}).next(()=>h)}lt(e,r){return af(e).put(function(u,h,g){const[b,O,K]=rv(h,g.mutation.key);return{userId:h,collectionPath:O,documentId:K,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Ec(u.ut,g.mutation)}}(this.serializer,this.userId,r))}}function af(o){return Ao(o,"documentOverlays")}class Dc{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(no(e.integerValue));else if("doubleValue"in e){const s=no(e.doubleValue);isNaN(s)?this.Tt(r,13):(this.Tt(r,15),Gl(s)?r.Et(0):r.Et(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Tt(r,20),"string"==typeof s&&(s=pa(s)),r.dt(`${s.seconds||""}`),r.Et(s.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt($s(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(r,45),r.Et(s.latitude||0),r.Et(s.longitude||0)}else"mapValue"in e?ii(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):ee()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const s=e.fields||{};this.Tt(r,55);for(const u of Object.keys(s))this.At(u,r),this.Pt(s[u],r)}yt(e,r){const s=e.values||[];this.Tt(r,50);for(const u of s)this.Pt(u,r)}ft(e,r){this.Tt(r,37),En.fromName(e).path.forEach(s=>{this.Tt(r,60),this.wt(s,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function ov(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function lf(o){const e=64-function(s){let u=0;for(let h=0;h<8;++h){const g=ov(255&s[h]);if(u+=g,8!==g)break}return u}(o);return Math.ceil(e/8)}Dc.St=new Dc;class Sy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Dt(s.value),s=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const u=r.codePointAt(0);this.Dt(240|u>>>18),this.Dt(128|63&u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u)}}this.Ct()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Nt(e){const r=this.Lt(e),s=lf(r);this.Bt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}kt(e){const r=this.Lt(e),s=lf(r);this.Bt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(h){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,h,!1),new Uint8Array(g.buffer)}(e),s=!!(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class qu{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class sv{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Zd{constructor(){this.Wt=new Sy,this.Gt=new qu(this.Wt),this.zt=new sv(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Xu{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Xu(this.indexId,this.documentKey,this.arrayValue,s)}}function ru(o,e){let r=o.indexId-e.indexId;return 0!==r?r:(r=Ry(o.arrayValue,e.arrayValue),0!==r?r:(r=Ry(o.directionalValue,e.directionalValue),0!==r?r:En.comparator(o.documentKey,e.documentKey)))}function Ry(o,e){for(let r=0;r<o.length&&r<e.length;++r){const s=o[r]-e[r];if(0!==s)return s}return o.length-e.length}class Py{constructor(e){this.Jt=new vi((r,s)=>mr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(De(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=Ls(e);if(void 0!==r&&!this.tn(r))return!1;const s=Zs(e);let u=new Set,h=0,g=0;for(;h<s.length&&this.tn(s[h]);++h)u=u.add(s[h].fieldPath.canonicalString());if(h===s.length)return!0;if(this.Jt.size>0){const b=this.Jt.getIterator().getNext();if(!u.has(b.field.canonicalString())){const O=s[h];if(!this.nn(b,O)||!this.rn(this.Yt[g++],O))return!1}++h}for(;h<s.length;++h)if(g>=this.Yt.length||!this.rn(this.Yt[g++],s[h]))return!1;return!0}sn(){if(this.Xt)return null;let e=new vi(mr.comparator);const r=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new bo(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new bo(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new bo(s.field,"asc"===s.dir?0:1)));return new Fs(Fs.UNKNOWN_ID,this.collectionId,r,Lo.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function av(o){var e,r;if(De(o instanceof ei||o instanceof _i),o instanceof ei){if(o instanceof at){const u=(null===(r=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(h=>ei.create(o.field,"==",h)))||[];return _i.create(u,"or")}return o}const s=o.filters.map(u=>av(u));return _i.create(s,o.op)}function My(o){if(0===o.getFilters().length)return[];const e=nd(av(o));return De(xy(e)),sg(e)||lv(e)?[e]:e.getFilters()}function sg(o){return o instanceof ei}function lv(o){return o instanceof _i&&Ql(o)}function xy(o){return sg(o)||lv(o)||function(r){if(r instanceof _i&&gc(r)){for(const s of r.getFilters())if(!sg(s)&&!lv(s))return!1;return!0}return!1}(o)}function nd(o){if(De(o instanceof ei||o instanceof _i),o instanceof ei)return o;if(1===o.filters.length)return nd(o.filters[0]);const e=o.filters.map(s=>nd(s));let r=_i.create(e,o.op);return r=rd(r),xy(r)?r:(De(r instanceof _i),De(Xl(r)),De(r.filters.length>1),r.filters.reduce((s,u)=>ag(s,u)))}function ag(o,e){let r;return De(o instanceof ei||o instanceof _i),De(e instanceof ei||e instanceof _i),r=o instanceof ei?e instanceof ei?_i.create([o,e],"and"):uf(o,e):e instanceof ei?uf(e,o):function(u,h){if(De(u.filters.length>0&&h.filters.length>0),Xl(u)&&Xl(h))return qc(u,h.getFilters());const g=gc(u)?u:h,b=gc(u)?h:u,O=g.filters.map(K=>ag(K,b));return _i.create(O,"or")}(o,e),rd(r)}function uf(o,e){if(Xl(e))return qc(e,o.getFilters());{const r=e.filters.map(s=>ag(o,s));return _i.create(r,"or")}}function rd(o){if(De(o instanceof ei||o instanceof _i),o instanceof ei)return o;const e=o.getFilters();if(1===e.length)return rd(e[0]);if(mc(o))return o;const r=e.map(u=>rd(u)),s=[];return r.forEach(u=>{u instanceof ei?s.push(u):u instanceof _i&&(u.op===o.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:_i.create(s,o.op)}class id{constructor(){this.on=new od}addToCollectionParentIndex(e,r){return this.on.add(r),At.resolve()}getCollectionParents(e,r){return At.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return At.resolve()}deleteFieldIndex(e,r){return At.resolve()}deleteAllFieldIndexes(e){return At.resolve()}createTargetIndexes(e,r){return At.resolve()}getDocumentsMatchingTarget(e,r){return At.resolve(null)}getIndexType(e,r){return At.resolve(0)}getFieldIndexes(e,r){return At.resolve([])}getNextCollectionGroupToUpdate(e){return At.resolve(null)}getMinOffset(e,r){return At.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,r){return At.resolve(Zr.min())}updateCollectionGroup(e,r,s){return At.resolve()}updateIndexEntries(e,r){return At.resolve()}}class od{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new vi(Pr.comparator),h=!u.has(s);return this.index[r]=u.add(s),h}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new vi(Pr.comparator)).toArray()}}const wc=new Uint8Array(0);class sd{constructor(e,r){this.databaseId=r,this._n=new od,this.an=new Zl(s=>er(s),(s,u)=>kr(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const h={collectionId:s,parent:us(u)};return ad(e).put(h)}return At.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[wo(r),""],!1,!0);return ad(e).U(u).next(h=>{for(const g of h){if(g.collectionId!==r)break;s.push(D(g.parent))}return s})}addFieldIndex(e,r){const s=bc(e),u={indexId:(b=r).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var b;delete u.indexId;const h=s.add(u);if(r.indexState){const g=Eu(e);return h.next(b=>{g.put(ig(b,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return h.next()}deleteFieldIndex(e,r){const s=bc(e),u=Eu(e),h=Ol(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=bc(e),s=Ol(e),u=Eu(e);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(e,r){return At.forEach(this.un(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const h=new Py(s).sn();if(null!=h)return this.addFieldIndex(e,h)}}))}getDocumentsMatchingTarget(e,r){const s=Ol(e);let u=!0;const h=new Map;return At.forEach(this.un(r),g=>this.cn(e,g).next(b=>{u&&(u=!!b),h.set(g,b)})).next(()=>{if(u){let g=C();const b=[];return At.forEach(h,(O,K)=>{var yr;E("IndexedDbIndexManager",`Using index ${yr=O,`id=${yr.indexId}|cg=${yr.collectionGroup}|f=${yr.fields.map(Qr=>`${Qr.fieldPath}:${Qr.kind}`).join(",")}`} to execute ${er(r)}`);const fe=function(yr,Qr){const po=Ls(Qr);if(void 0===po)return null;for(const Qi of fi(yr,po.fieldPath))switch(Qi.op){case"array-contains-any":return Qi.value.arrayValue.values||[];case"array-contains":return[Qi.value]}return null}(K,O),Fe=function(yr,Qr){const po=new Map;for(const Qi of Zs(Qr))for(const ys of fi(yr,Qi.fieldPath))switch(ys.op){case"==":case"in":po.set(Qi.fieldPath.canonicalString(),ys.value);break;case"not-in":case"!=":return po.set(Qi.fieldPath.canonicalString(),ys.value),Array.from(po.values())}return null}(K,O),ht=function(yr,Qr){const po=[];let Qi=!0;for(const ys of Zs(Qr)){const ul=0===ys.kind?Si(yr,ys.fieldPath,yr.startAt):Oi(yr,ys.fieldPath,yr.startAt);po.push(ul.value),Qi&&(Qi=ul.inclusive)}return new Pa(po,Qi)}(K,O),Vt=function(yr,Qr){const po=[];let Qi=!0;for(const ys of Zs(Qr)){const ul=0===ys.kind?Oi(yr,ys.fieldPath,yr.endAt):Si(yr,ys.fieldPath,yr.endAt);po.push(ul.value),Qi&&(Qi=ul.inclusive)}return new Pa(po,Qi)}(K,O),wn=this.ln(O,K,ht),xn=this.ln(O,K,Vt),bn=this.hn(O,K,Fe),vr=this.Pn(O.indexId,fe,wn,ht.inclusive,xn,Vt.inclusive,bn);return At.forEach(vr,Ur=>s.G(Ur,r.limit).next(yr=>{yr.forEach(Qr=>{const po=En.fromSegments(Qr.documentKey);g.has(po)||(g=g.add(po),b.push(po))})}))}).next(()=>b)}return At.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:My(_i.create(e.filters,"and")).map(s=>An(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,s,u,h,g,b){const O=(null!=r?r.length:1)*Math.max(s.length,h.length),K=O/(null!=r?r.length:1),fe=[];for(let Fe=0;Fe<O;++Fe){const ht=r?this.In(r[Fe/K]):wc,Vt=this.Tn(e,ht,s[Fe%K],u),wn=this.En(e,ht,h[Fe%K],g),xn=b.map(bn=>this.Tn(e,ht,bn,!0));fe.push(...this.createRange(Vt,wn,xn))}return fe}Tn(e,r,s,u){const h=new Xu(e,En.empty(),r,s);return u?h:h.Ht()}En(e,r,s,u){const h=new Xu(e,En.empty(),r,s);return u?h.Ht():h}cn(e,r){const s=new Py(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{let g=null;for(const b of h)s.en(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,r){let s=2;const u=this.un(r);return At.forEach(u,h=>this.cn(e,h).next(g=>{g?0!==s&&g.fields.length<function(O){let K=new vi(mr.comparator),fe=!1;for(const Fe of O.filters)for(const ht of Fe.getFlattenedFilters())ht.field.isKeyField()||("array-contains"===ht.op||"array-contains-any"===ht.op?fe=!0:K=K.add(ht.field));for(const Fe of O.orderBy)Fe.field.isKeyField()||(K=K.add(Fe.field));return K.size+(fe?1:0)}(h)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}dn(e,r){const s=new Zd;for(const u of Zs(e)){const h=r.data.field(u.fieldPath);if(null==h)return null;const g=s.jt(u.kind);Dc.St.ht(h,g)}return s.Ut()}In(e){const r=new Zd;return Dc.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const s=new Zd;return Dc.St.ht(bl(this.databaseId,r),s.jt(function(h){const g=Zs(h);return 0===g.length?0:g[g.length-1].kind}(e))),s.Ut()}hn(e,r,s){if(null===s)return[];let u=[];u.push(new Zd);let h=0;for(const g of Zs(e)){const b=s[h++];for(const O of u)if(this.Rn(r,g.fieldPath)&&rl(b))u=this.Vn(u,g,b);else{const K=O.jt(g.kind);Dc.St.ht(b,K)}}return this.mn(u)}ln(e,r,s){return this.hn(e,r,s.position)}mn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Ut();return r}Vn(e,r,s){const u=[...e],h=[];for(const g of s.arrayValue.values||[])for(const b of u){const O=new Zd;O.seed(b.Ut()),Dc.St.ht(g,O.jt(r.kind)),h.push(O)}return h}Rn(e,r){return!!e.filters.find(s=>s instanceof ei&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=bc(e),u=Eu(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(h=>{const g=[];return At.forEach(h,b=>u.get([b.indexId,this.uid]).next(O=>{g.push(function(fe,Fe){const ht=Fe?new Lo(Fe.sequenceNumber,new Zr(Wu(Fe.readTime),new En(D(Fe.documentKey)),Fe.largestBatchId)):Lo.empty(),Vt=fe.fields.map(([wn,xn])=>new bo(mr.fromServerFormat(wn),xn));return new Fs(fe.indexId,fe.collectionGroup,Vt,ht)}(b,O))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const h=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:dr(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=bc(e),h=Eu(e);return this.fn(e).next(g=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(b=>At.forEach(b,O=>h.put(ig(O.indexId,this.uid,g,s)))))}updateIndexEntries(e,r){const s=new Map;return At.forEach(r,(u,h)=>{const g=s.get(u.collectionGroup);return(g?At.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(b=>(s.set(u.collectionGroup,b),At.forEach(b,O=>this.gn(e,u,O).next(K=>{const fe=this.pn(h,O);return K.isEqual(fe)?At.resolve():this.yn(e,h,O,K,fe)}))))})}wn(e,r,s,u){return Ol(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.An(s,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,s,u){return Ol(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.An(s,r.key),r.key.path.toArray()])}gn(e,r,s){const u=Ol(e);let h=new vi(ru);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,r)])},(g,b)=>{h=h.add(new Xu(s.indexId,r,b.arrayValue,b.directionalValue))}).next(()=>h)}pn(e,r){let s=new vi(ru);const u=this.dn(r,e);if(null==u)return s;const h=Ls(r);if(null!=h){const g=e.data.field(h.fieldPath);if(rl(g))for(const b of g.arrayValue.values||[])s=s.add(new Xu(r.indexId,e.key,this.In(b),u))}else s=s.add(new Xu(r.indexId,e.key,wc,u));return s}yn(e,r,s,u,h){E("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(O,K,fe,Fe,ht){const Vt=O.getIterator(),wn=K.getIterator();let xn=Ro(Vt),bn=Ro(wn);for(;xn||bn;){let vr=!1,Ur=!1;if(xn&&bn){const yr=fe(xn,bn);yr<0?Ur=!0:yr>0&&(vr=!0)}else null!=xn?Ur=!0:vr=!0;vr?(Fe(bn),bn=Ro(wn)):Ur?(ht(xn),xn=Ro(Vt)):(xn=Ro(Vt),bn=Ro(wn))}}(u,h,ru,b=>{g.push(this.wn(e,r,s,b))},b=>{g.push(this.Sn(e,r,s,b))}),At.waitFor(g)}fn(e){let r=1;return Eu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,h)=>{h.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,b)=>ru(g,b)).filter((g,b,O)=>!b||0!==ru(g,O[b-1]));const u=[];u.push(e);for(const g of s){const b=ru(g,e),O=ru(g,r);if(0===b)u[0]=e.Ht();else if(b>0&&O<0)u.push(g),u.push(g.Ht());else if(O>0)break}u.push(r);const h=[];for(let g=0;g<u.length;g+=2){if(this.bn(u[g],u[g+1]))return[];h.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,wc,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,wc,[]]))}return h}bn(e,r){return ru(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(ld)}getMinOffset(e,r){return At.mapArray(this.un(r),s=>this.cn(e,s).next(u=>u||ee())).next(ld)}}function ad(o){return Ao(o,"collectionParents")}function Ol(o){return Ao(o,"indexEntries")}function bc(o){return Ao(o,"indexConfiguration")}function Eu(o){return Ao(o,"indexState")}function ld(o){De(0!==o.length);let e=o[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<o.length;s++){const u=o[s].indexState.offset;Vo(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Zr(e.readTime,e.documentKey,r)}const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ud(o,e,r){const s=o.store("mutations"),u=o.store("documentMutations"),h=[],g=IDBKeyRange.only(r.batchId);let b=0;const O=s.J({range:g},(fe,Fe,ht)=>(b++,ht.delete()));h.push(O.next(()=>{De(1===b)}));const K=[];for(const fe of r.mutations){const Fe=L(e,fe.key.path,r.batchId);h.push(u.delete(Fe)),K.push(fe.key)}return At.waitFor(h).next(()=>K)}function cf(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw ee();e=o.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class eh{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Dn={}}static ct(e,r,s,u){De(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new eh(h,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qu(e).J({index:"userMutationsIndex",range:s},(u,h,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const h=Yu(e),g=Qu(e);return g.add({}).next(b=>{De("number"==typeof b);const O=new Yh(b,r,s,u),K=function(Vt,wn,xn){const bn=xn.baseMutations.map(Ur=>Ec(Vt.ut,Ur)),vr=xn.mutations.map(Ur=>Ec(Vt.ut,Ur));return{userId:wn,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:bn,mutations:vr}}(this.serializer,this.userId,O),fe=[];let Fe=new vi((ht,Vt)=>dr(ht.canonicalString(),Vt.canonicalString()));for(const ht of u){const Vt=L(this.userId,ht.key.path,b);Fe=Fe.add(ht.key.path.popLast()),fe.push(g.put(K)),fe.push(h.put(Vt,le))}return Fe.forEach(ht=>{fe.push(this.indexManager.addToCollectionParentIndex(e,ht))}),e.addOnCommittedListener(()=>{this.Dn[b]=O.keys()}),At.waitFor(fe).next(()=>O)})}lookupMutationBatch(e,r){return Qu(e).get(r).next(s=>s?(De(s.userId===this.userId),Ku(this.serializer,s)):null)}Cn(e,r){return this.Dn[r]?At.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Dn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let h=null;return Qu(e).J({index:"userMutationsIndex",range:u},(g,b,O)=>{b.userId===this.userId&&(De(b.batchId>=s),h=Ku(this.serializer,b)),O.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Qu(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,h,g)=>{s=h.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qu(e).U("userMutationsIndex",r).next(s=>s.map(u=>Ku(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=w(this.userId,r.path),u=IDBKeyRange.lowerBound(s),h=[];return Yu(e).J({range:u},(g,b,O)=>{const[K,fe,Fe]=g,ht=D(fe);if(K===this.userId&&r.path.isEqual(ht))return Qu(e).get(Fe).next(Vt=>{if(!Vt)throw ee();De(Vt.userId===this.userId),h.push(Ku(this.serializer,Vt))});O.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new vi(dr);const u=[];return r.forEach(h=>{const g=w(this.userId,h.path),b=IDBKeyRange.lowerBound(g),O=Yu(e).J({range:b},(K,fe,Fe)=>{const[ht,Vt,wn]=K,xn=D(Vt);ht===this.userId&&h.path.isEqual(xn)?s=s.add(wn):Fe.done()});u.push(O)}),At.waitFor(u).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,h=w(this.userId,s),g=IDBKeyRange.lowerBound(h);let b=new vi(dr);return Yu(e).J({range:g},(O,K,fe)=>{const[Fe,ht,Vt]=O,wn=D(ht);Fe===this.userId&&s.isPrefixOf(wn)?wn.length===u&&(b=b.add(Vt)):fe.done()}).next(()=>this.vn(e,b))}vn(e,r){const s=[],u=[];return r.forEach(h=>{u.push(Qu(e).get(h).next(g=>{if(null===g)throw ee();De(g.userId===this.userId),s.push(Ku(this.serializer,g))}))}),At.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return ud(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),At.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return At.resolve();const s=IDBKeyRange.lowerBound(function(g){return[g]}(this.userId)),u=[];return Yu(e).J({range:s},(h,g,b)=>{if(h[0]===this.userId){const O=D(h[1]);u.push(O)}else b.done()}).next(()=>{De(0===u.length)})})}containsKey(e,r){return uv(e,this.userId,r)}Mn(e){return lg(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uv(o,e,r){const s=w(e,r.path),u=s[1],h=IDBKeyRange.lowerBound(s);let g=!1;return Yu(o).J({range:h,H:!0},(b,O,K)=>{const[fe,Fe,ht]=b;fe===e&&Fe===u&&(g=!0),K.done()}).next(()=>g)}function Qu(o){return Ao(o,"mutations")}function Yu(o){return Ao(o,"documentMutations")}function lg(o){return Ao(o,"mutationQueues")}class Sc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Sc(0)}static Nn(){return new Sc(-1)}}class Oy{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const s=new Sc(r.highestTargetId);return r.highestTargetId=s.next(),this.Bn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>an.fromTimestamp(new Dr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Ln(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Bn(e,u)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.qn(r,s),this.Bn(e,s))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>iu(e).delete(r.targetId)).next(()=>this.Ln(e)).next(s=>(De(s.targetCount>0),s.targetCount-=1,this.Bn(e,s)))}removeTargets(e,r,s){let u=0;const h=[];return iu(e).J((g,b)=>{const O=td(b);O.sequenceNumber<=r&&null===s.get(O.targetId)&&(u++,h.push(this.removeTargetData(e,O)))}).next(()=>At.waitFor(h)).next(()=>u)}forEachTarget(e,r){return iu(e).J((s,u)=>{const h=td(u);r(h)})}Ln(e){return ug(e).get("targetGlobalKey").next(r=>(De(null!==r),r))}Bn(e,r){return ug(e).put("targetGlobalKey",r)}kn(e,r){return iu(e).put(nv(this.serializer,r))}qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const s=er(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let h=null;return iu(e).J({range:u,index:"queryTargetsIndex"},(g,b,O)=>{const K=td(b);kr(r,K.target)&&(h=K,O.done())}).next(()=>h)}addMatchingKeys(e,r,s){const u=[],h=ou(e);return r.forEach(g=>{const b=us(g.path);u.push(h.put({targetId:s,path:b})),u.push(this.referenceDelegate.addReference(e,s,g))}),At.waitFor(u)}removeMatchingKeys(e,r,s){const u=ou(e);return At.forEach(r,h=>{const g=us(h.path);return At.waitFor([u.delete([s,g]),this.referenceDelegate.removeReference(e,s,h)])})}removeMatchingKeysForTargetId(e,r){const s=ou(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=ou(e);let h=C();return u.J({range:s,H:!0},(g,b,O)=>{const K=D(g[1]),fe=new En(K);h=h.add(fe)}).next(()=>h)}containsKey(e,r){const s=us(r.path),u=IDBKeyRange.bound([s],[wo(s)],!1,!0);let h=0;return ou(e).J({index:"documentTargetsIndex",H:!0,range:u},([g,b],O,K)=>{0!==g&&(h++,K.done())}).next(()=>h>0)}ot(e,r){return iu(e).get(r).next(s=>s?td(s):null)}}function iu(o){return Ao(o,"targets")}function ug(o){return Ao(o,"targetGlobal")}function ou(o){return Ao(o,"targetDocuments")}function cv([o,e],[r,s]){const u=dr(o,r);return 0===u?dr(e,s):u}class uE{constructor(e){this.Qn=e,this.buffer=new vi(cv),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();cv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ky{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;E("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.A)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Us(s)?E("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ai(s)}yield r.Gn(3e5)}))}}class th{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return At.resolve(Qo.oe);const s=new uE(r);return this.zn.forEachTarget(e,u=>s.Un(u.sequenceNumber)).next(()=>this.zn.Hn(e,u=>s.Un(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.zn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(Ny)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let s,u,h,g,b,O,K;const fe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),u=this.params.maximumSequenceNumbersToCollect):u=Fe,g=Date.now(),this.nthSequenceNumber(e,u))).next(Fe=>(s=Fe,b=Date.now(),this.removeTargets(e,s,r))).next(Fe=>(h=Fe,O=Date.now(),this.removeOrphanedDocuments(e,s))).next(Fe=>(K=Date.now(),gs()<=Re.$b.DEBUG&&E("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-fe}ms\n\tDetermined least recently used ${u} in `+(b-g)+`ms\n\tRemoved ${h} targets in `+(O-b)+`ms\n\tRemoved ${Fe} documents in `+(K-O)+`ms\nTotal Duration: ${K-fe}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:Fe})))}}class df{constructor(e,r){this.db=e,this.garbageCollector=function dv(o,e){return new th(o,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Yn(e){let r=0;return this.Hn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(s,u)=>r(u))}addReference(e,r,s){return cd(e,s)}removeReference(e,r,s){return cd(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return cd(e,r)}Xn(e,r){return function(u,h){let g=!1;return lg(u).Y(b=>uv(u,b,h).next(O=>(O&&(g=!0),At.resolve(!O)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Zn(e,(g,b)=>{if(b<=r){const O=this.Xn(e,g).next(K=>{if(!K)return h++,s.getEntry(e,g).next(()=>(s.removeEntry(g,an.min()),ou(e).delete([0,us(g.path)])))});u.push(O)}}).next(()=>At.waitFor(u)).next(()=>s.apply(e)).next(()=>h)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return cd(e,r)}Zn(e,r){const s=ou(e);let u,h=Qo.oe;return s.J({index:"documentTargetsIndex"},([g,b],{path:O,sequenceNumber:K})=>{0===g?(h!==Qo.oe&&r(new En(D(u)),h),h=K,u=O):h=Qo.oe}).next(()=>{h!==Qo.oe&&r(new En(D(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cd(o,e){return ou(o).put((u=o.currentSequenceNumber,{targetId:0,path:us(e.path),sequenceNumber:u}));var u}class hv{constructor(){this.changes=new Zl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?At.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ju(e).put(s)}removeEntry(e,r,s){return Ju(e).delete(function(h,g){const b=h.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Tc(g),b[b.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.er(e,s)))}getEntry(e,r){let s=qi.newInvalidDocument(r);return Ju(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dd(r))},(u,h)=>{s=this.tr(r,h)}).next(()=>s)}nr(e,r){let s={size:0,document:qi.newInvalidDocument(r)};return Ju(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dd(r))},(u,h)=>{s={document:this.tr(r,h),size:cf(h)}}).next(()=>s)}getEntries(e,r){let s=ws();return this.rr(e,r,(u,h)=>{const g=this.tr(u,h);s=s.insert(u,g)}).next(()=>s)}ir(e,r){let s=ws(),u=new Wr(En.comparator);return this.rr(e,r,(h,g)=>{const b=this.tr(h,g);s=s.insert(h,b),u=u.insert(h,cf(g))}).next(()=>({documents:s,sr:u}))}rr(e,r,s){if(r.isEmpty())return At.resolve();let u=new vi(rh);r.forEach(O=>u=u.add(O));const h=IDBKeyRange.bound(dd(u.first()),dd(u.last())),g=u.getIterator();let b=g.getNext();return Ju(e).J({index:"documentKeyIndex",range:h},(O,K,fe)=>{const Fe=En.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;b&&rh(b,Fe)<0;)s(b,null),b=g.getNext();b&&b.isEqual(Fe)&&(s(b,K),b=g.hasNext()?g.getNext():null),b?fe.$(dd(b)):fe.done()}).next(()=>{for(;b;)s(b,null),b=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,h){const g=r.path,b=[g.popLast().toArray(),g.lastSegment(),Tc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],O=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ju(e).U(IDBKeyRange.bound(b,O,!0)).next(K=>{null==h||h.incrementDocumentReadCount(K.length);let fe=ws();for(const Fe of K){const ht=this.tr(En.fromSegments(Fe.prefixPath.concat(Fe.collectionGroup,Fe.documentId)),Fe);ht.isFoundDocument()&&(al(r,ht)||u.has(ht.key))&&(fe=fe.insert(ht.key,ht))}return fe})}getAllFromCollectionGroup(e,r,s,u){let h=ws();const g=cg(r,s),b=cg(r,Zr.max());return Ju(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(O,K,fe)=>{const Fe=this.tr(En.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);h=h.insert(Fe.key,Fe),h.size===u&&fe.done()}).next(()=>h)}newChangeBuffer(e){return new ff(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return nh(e).get("remoteDocumentGlobalKey").next(r=>(De(!!r),r))}er(e,r){return nh(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const s=function tv(o,e){let r;if(e.document)r=qm(o.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=En.fromSegments(e.noDocument.path),u=Wu(e.noDocument.readTime);r=qi.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{const s=En.fromSegments(e.unknownDocument.path),u=Wu(e.unknownDocument.version);r=qi.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const h=new Dr(u[0],u[1]);return an.fromTimestamp(h)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(an.min()))return s}return qi.newInvalidDocument(e)}}function hf(o){return new fv(o)}class ff extends hv{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new Zl(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new vi((h,g)=>dr(h.canonicalString(),g.canonicalString()));return this.changes.forEach((h,g)=>{const b=this.ar.get(h);if(r.push(this._r.removeEntry(e,h,b.readTime)),g.isValidDocument()){const O=tg(this._r.serializer,g);u=u.add(h.path.popLast());const K=cf(O);s+=K-b.size,r.push(this._r.addEntry(e,h,O))}else if(s-=b.size,this.trackRemovals){const O=tg(this._r.serializer,g.convertToNoDocument(an.min()));r.push(this._r.addEntry(e,h,O))}}),u.forEach(h=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,h))}),r.push(this._r.updateMetadata(e,s)),At.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(s=>(this.ar.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:s,sr:u})=>(u.forEach((h,g)=>{this.ar.set(h,{size:g,readTime:s.get(h).readTime})}),s))}}function nh(o){return Ao(o,"remoteDocumentGlobal")}function Ju(o){return Ao(o,"remoteDocumentsV14")}function dd(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cg(o,e){const r=e.documentKey.path.toArray();return[o,Tc(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function rh(o,e){const r=o.path.toArray(),s=e.path.toArray();let u=0;for(let h=0;h<r.length-2&&h<s.length-2;++h)if(u=dr(r[h],s[h]),u)return u;return u=dr(r.length,s.length),u||(u=dr(r[r.length-2],s[s.length-2]),u||dr(r[r.length-1],s[s.length-1]))}class dg{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Rc{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Jc(s.mutation,u,vs.empty(),Dr.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,C()).next(()=>s))}getLocalViewOfDocuments(e,r,s=C()){const u=Ma();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(h=>{let g=Uu();return h.forEach((b,O)=>{g=g.insert(b,O.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Ma();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,C()))}populateOverlays(e,r,s){const u=[];return s.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((g,b)=>{r.set(g,b)})})}computeViews(e,r,s,u){let h=ws();const g=A(),b=A();return r.forEach((O,K)=>{const fe=s.get(K.key);u.has(K.key)&&(void 0===fe||fe.mutation instanceof Nl)?h=h.insert(K.key,K):void 0!==fe?(g.set(K.key,fe.mutation.getFieldMask()),Jc(fe.mutation,K,fe.mutation.getFieldMask(),Dr.now())):g.set(K.key,vs.empty())}),this.recalculateAndSaveOverlays(e,h).next(O=>(O.forEach((K,fe)=>g.set(K,fe)),r.forEach((K,fe)=>{var Fe;return b.set(K,new dg(fe,null!==(Fe=g.get(K))&&void 0!==Fe?Fe:null))}),b))}recalculateAndSaveOverlays(e,r){const s=A();let u=new Wr((g,b)=>g-b),h=C();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const b of g)b.keys().forEach(O=>{const K=r.get(O);if(null===K)return;let fe=s.get(O)||vs.empty();fe=b.applyToLocalView(K,fe),s.set(O,fe);const Fe=(u.get(b.batchId)||C()).add(O);u=u.insert(b.batchId,Fe)})}).next(()=>{const g=[],b=u.getReverseIterator();for(;b.hasNext();){const O=b.getNext(),K=O.key,fe=O.value,Fe=_c();fe.forEach(ht=>{if(!h.has(ht)){const Vt=Xh(r.get(ht),s.get(ht));null!==Vt&&Fe.set(ht,Vt),h=h.add(ht)}}),g.push(this.documentOverlayCache.saveOverlays(e,K,Fe))}return At.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return En.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ir(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var g}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(h=>{const g=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-h.size):At.resolve(Ma());let b=-1,O=h;return g.next(K=>At.forEach(K,(fe,Fe)=>(b<Fe.largestBatchId&&(b=Fe.largestBatchId),h.get(fe)?At.resolve():this.remoteDocumentCache.getEntry(e,fe).next(ht=>{O=O.insert(fe,ht)}))).next(()=>this.populateOverlays(e,K,h)).next(()=>this.computeViews(e,O,K,C())).next(fe=>({batchId:b,changes:$u(fe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new En(r)).next(s=>{let u=Uu();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const h=r.collectionGroup;let g=Uu();return this.indexManager.getCollectionParents(e,h).next(b=>At.forEach(b,O=>{const K=(Fe=r,ht=O.child(h),new Mr(ht,null,Fe.explicitOrderBy.slice(),Fe.filters.slice(),Fe.limit,Fe.limitType,Fe.startAt,Fe.endAt));var Fe,ht;return this.getDocumentsMatchingCollectionQuery(e,K,s,u).next(fe=>{fe.forEach((Fe,ht)=>{g=g.insert(Fe,ht)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,h,u))).next(g=>{h.forEach((O,K)=>{const fe=K.getKey();null===g.get(fe)&&(g=g.insert(fe,qi.newInvalidDocument(fe)))});let b=Uu();return g.forEach((O,K)=>{const fe=h.get(O);void 0!==fe&&Jc(fe.mutation,K,vs.empty(),Dr.now()),al(r,K)&&(b=b.insert(O,K))}),b})}}class Fy{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return At.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(u=r).id,version:u.version,createTime:Co(u.createTime)}),At.resolve();var u}getNamedQuery(e,r){return At.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(u=r).name,query:ng(u.bundledQuery),readTime:Co(u.readTime)}),At.resolve();var u}}class Ly{constructor(){this.overlays=new Wr(En.comparator),this.lr=new Map}getOverlay(e,r){return At.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ma();return At.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&s.set(u,h)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,h)=>{this.lt(e,r,h)}),At.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.lr.get(s);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.lr.delete(s)),At.resolve()}getOverlaysForCollection(e,r,s){const u=Ma(),h=r.length+1,g=new En(r.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const O=b.getNext().value,K=O.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===h&&O.largestBatchId>s&&u.set(O.getKey(),O)}return At.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let h=new Wr((K,fe)=>K-fe);const g=this.overlays.getIterator();for(;g.hasNext();){const K=g.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>s){let fe=h.get(K.largestBatchId);null===fe&&(fe=Ma(),h=h.insert(K.largestBatchId,fe)),fe.set(K.getKey(),K)}}const b=Ma(),O=h.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((K,fe)=>b.set(K,fe)),!(b.size()>=u)););return At.resolve(b)}lt(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const g=this.lr.get(u.largestBatchId).delete(s.key);this.lr.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new Jh(r,s));let h=this.lr.get(r);void 0===h&&(h=C(),this.lr.set(r,h)),this.lr.set(r,h.add(s.key))}}class pv{constructor(){this.hr=new vi(Yo.Pr),this.Ir=new vi(Yo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const s=new Yo(e,r);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.dr(new Yo(e,r))}Ar(e,r){e.forEach(s=>this.removeReference(s,r))}Rr(e){const r=new En(new Pr([])),s=new Yo(r,e),u=new Yo(r,e+1),h=[];return this.Ir.forEachInRange([s,u],g=>{this.dr(g),h.push(g.key)}),h}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new En(new Pr([])),s=new Yo(r,e),u=new Yo(r,e+1);let h=C();return this.Ir.forEachInRange([s,u],g=>{h=h.add(g.key)}),h}containsKey(e){const r=new Yo(e,0),s=this.hr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Yo{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return En.comparator(e.key,r.key)||dr(e.gr,r.gr)}static Tr(e,r){return dr(e.gr,r.gr)||En.comparator(e.key,r.key)}}class hg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new vi(Yo.Pr)}checkEmpty(e){return At.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const h=this.pr;this.pr++;const g=new Yh(h,r,s,u);this.mutationQueue.push(g);for(const b of u)this.yr=this.yr.add(new Yo(b.key,h)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return At.resolve(g)}lookupMutationBatch(e,r){return At.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.Sr(r+1),h=u<0?0:u;return At.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Yo(r,0),u=new Yo(r,Number.POSITIVE_INFINITY),h=[];return this.yr.forEachInRange([s,u],g=>{const b=this.wr(g.gr);h.push(b)}),At.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new vi(dr);return r.forEach(u=>{const h=new Yo(u,0),g=new Yo(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([h,g],b=>{s=s.add(b.gr)})}),At.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let h=s;En.isDocumentKey(h)||(h=h.child(""));const g=new Yo(new En(h),0);let b=new vi(dr);return this.yr.forEachWhile(O=>{const K=O.key.path;return!!s.isPrefixOf(K)&&(K.length===u&&(b=b.add(O.gr)),!0)},g),At.resolve(this.br(b))}br(e){const r=[];return e.forEach(s=>{const u=this.wr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){De(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return At.forEach(r.mutations,u=>{const h=new Yo(u.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,r){const s=new Yo(r,0),u=this.yr.firstAfterOrEqual(s);return At.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return At.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class gv{constructor(e){this.Cr=e,this.docs=new Wr(En.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),h=u?u.size:0,g=this.Cr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return At.resolve(s?s.document.mutableCopy():qi.newInvalidDocument(r))}getEntries(e,r){let s=ws();return r.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():qi.newInvalidDocument(u))}),At.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let h=ws();const g=r.path,b=new En(g.child("")),O=this.docs.getIteratorFrom(b);for(;O.hasNext();){const{key:K,value:{document:fe}}=O.getNext();if(!g.isPrefixOf(K.path))break;K.path.length>g.length+1||Vo(Hl(fe),s)<=0||(u.has(fe.key)||al(r,fe))&&(h=h.insert(fe.key,fe.mutableCopy()))}return At.resolve(h)}getAllFromCollectionGroup(e,r,s,u){ee()}vr(e,r){return At.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new mv(this)}getSize(e){return At.resolve(this.size)}}class mv extends hv{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this._r.addEntry(e,u)):this._r.removeEntry(s)}),At.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class vv{constructor(e){this.persistence=e,this.Fr=new Zl(r=>er(r),kr),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Mr=0,this.Or=new pv,this.targetCount=0,this.Nr=Sc.On()}forEachTarget(e,r){return this.Fr.forEach((s,u)=>r(u)),At.resolve()}getLastRemoteSnapshotVersion(e){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return At.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Mr&&(this.Mr=r),At.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new Sc(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,At.resolve()}updateTargetData(e,r){return this.kn(r),At.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,At.resolve()}removeTargets(e,r,s){let u=0;const h=[];return this.Fr.forEach((g,b)=>{b.sequenceNumber<=r&&null===s.get(b.targetId)&&(this.Fr.delete(g),h.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),At.waitFor(h).next(()=>u)}getTargetCount(e){return At.resolve(this.targetCount)}getTargetData(e,r){const s=this.Fr.get(r)||null;return At.resolve(s)}addMatchingKeys(e,r,s){return this.Or.Er(r,s),At.resolve()}removeMatchingKeys(e,r,s){this.Or.Ar(r,s);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(g=>{h.push(u.markPotentiallyOrphaned(e,g))}),At.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),At.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Or.mr(r);return At.resolve(s)}containsKey(e,r){return At.resolve(this.Or.containsKey(r))}}class pf{constructor(e,r){this.Lr={},this.overlays={},this.Br=new Qo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new vv(this),this.indexManager=new id,this.remoteDocumentCache=new gv(s=>this.referenceDelegate.Qr(s)),this.serializer=new eg(r),this.Kr=new Fy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Ly,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Lr[e.toKey()];return s||(s=new hg(r,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,s){E("MemoryPersistence","Starting transaction:",e);const u=new Vy(this.Br.next());return this.referenceDelegate.$r(),s(u).next(h=>this.referenceDelegate.Ur(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Wr(e,r){return At.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,r)))}}class Vy extends ea{constructor(e){super(),this.currentSequenceNumber=e}}class gf{constructor(e){this.persistence=e,this.Gr=new pv,this.zr=null}static jr(e){return new gf(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,r,s){return this.Gr.addReference(s,r),this.Hr.delete(s.toString()),At.resolve()}removeReference(e,r,s){return this.Gr.removeReference(s,r),this.Hr.add(s.toString()),At.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),At.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(u=>this.Hr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(h=>this.Hr.add(h.toString()))}).next(()=>s.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Hr,s=>{const u=En.fromPath(s);return this.Jr(e,u).next(h=>{h||r.removeEntry(u,an.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(s=>{s?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return At.or([()=>At.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class Uy{constructor(e){this.serializer=e}O(e,r,s,u){const h=new Io("createOrUpgrade",r);var O;s<1&&u>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M,{unique:!0}),O.createObjectStore("documentMutations"),_v(e),function(O){O.createObjectStore("remoteDocuments")}(e));let g=At.resolve();return s<3&&u>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),_v(e)),g=g.next(()=>function(O){const K=O.store("targetGlobal"),fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",fe)}(h))),s<4&&u>=4&&(0!==s&&(g=g.next(()=>function(O,K){return K.store("mutations").U().next(fe=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M,{unique:!0});const Fe=K.store("mutations"),ht=fe.map(Vt=>Fe.put(Vt));return At.waitFor(ht)})}(e,h))),g=g.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(g=g.next(()=>this.Zr(h))),s<6&&u>=6&&(g=g.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(h)))),s<7&&u>=7&&(g=g.next(()=>this.ei(h))),s<8&&u>=8&&(g=g.next(()=>this.ti(e,h))),s<9&&u>=9&&(g=g.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(g=g.next(()=>this.ni(h))),s<11&&u>=11&&(g=g.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(g=g.next(()=>{!function(O){const K=O.createObjectStore("documentOverlays",{keyPath:Cl});K.createIndex("collectionPathOverlayIndex",Uo,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",ba,{unique:!1})}(e)})),s<13&&u>=13&&(g=g.next(()=>function(O){const K=O.createObjectStore("remoteDocumentsV14",{keyPath:Te});K.createIndex("documentKeyIndex",Tt),K.createIndex("collectionGroupIndex",on)}(e)).next(()=>this.ri(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(g=g.next(()=>this.ii(e,h))),s<15&&u>=15&&(g=g.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:ri}).createIndex("sequenceNumberIndex",Ki,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:na}).createIndex("documentKeyIndex",Al,{unique:!1})}(e))),s<16&&u>=16&&(g=g.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),g}Xr(e){let r=0;return e.store("remoteDocuments").J((s,u)=>{r+=cf(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(u=>At.forEach(u,h=>{const g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",g).next(b=>At.forEach(b,O=>{De(O.userId===h.userId);const K=Ku(this.serializer,O);return ud(e,h.userId,K).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return s.J((g,b)=>{const O=new Pr(g),K=[0,us(O)];h.push(r.get(K).next(fe=>fe?At.resolve():r.put({targetId:0,path:us(O),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>At.waitFor(h))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:Ni});const s=r.store("collectionParents"),u=new od,h=g=>{if(u.add(g)){const b=g.lastSegment(),O=g.popLast();return s.put({collectionId:b,parent:us(O)})}};return r.store("remoteDocuments").J({H:!0},(g,b)=>{const O=new Pr(g);return h(O.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([g,b,O],K)=>{const fe=D(b);return h(fe.popLast())}))}ni(e){const r=e.store("targets");return r.J((s,u)=>{const h=td(u),g=nv(this.serializer,h);return r.put(g)})}ri(e,r){const s=r.store("remoteDocuments"),u=[];return s.J((h,g)=>{const b=r.store("remoteDocumentsV14"),O=(Fe=g,Fe.document?new En(Pr.fromString(Fe.document.name).popFirst(5)):Fe.noDocument?En.fromSegments(Fe.noDocument.path):Fe.unknownDocument?En.fromSegments(Fe.unknownDocument.path):ee()).path.toArray(),K={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var Fe;u.push(b.put(K))}).next(()=>At.waitFor(u))}ii(e,r){const s=r.store("mutations"),u=hf(this.serializer),h=new pf(gf.jr,this.serializer.ut);return s.U().next(g=>{const b=new Map;return g.forEach(O=>{var K;let fe=null!==(K=b.get(O.userId))&&void 0!==K?K:C();Ku(this.serializer,O).keys().forEach(Fe=>fe=fe.add(Fe)),b.set(O.userId,fe)}),At.forEach(b,(O,K)=>{const fe=new Zi(K),Fe=sf.ct(this.serializer,fe),ht=h.getIndexManager(fe),Vt=eh.ct(fe,this.serializer,ht,h.referenceDelegate);return new Rc(u,Vt,Fe,ht).recalculateAndSaveOverlaysForDocumentKeys(new Tl(r,Qo.oe),O).next()})})}}function _v(o){o.createObjectStore("targetDocuments",{keyPath:kn}).createIndex("documentTargetsIndex",rr,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ft,{unique:!0}),o.createObjectStore("targetGlobal")}const su="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Pc{constructor(e,r,s,u,h,g,b,O,K,fe,Fe=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.si=h,this.window=g,this.document=b,this.oi=K,this._i=fe,this.ai=Fe,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=ht=>Promise.resolve(),!Pc.D())throw new Bt(It.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new df(this,u),this.Ii=r+"main",this.serializer=new eg(O),this.Ti=new ms(this.Ii,this.ai,new Uy(this.serializer)),this.qr=new Oy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hf(this.serializer),this.Kr=new lE,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===fe&&H("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(It.FAILED_PRECONDITION,su);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new Qo(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var s=(0,c.A)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,c.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(Us(e))return E("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return E("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return ih(e).get("owner").next(r=>At.resolve(this.wi(r)))}Si(e){return fg(e).delete(this.clientId)}bi(){var e=this;return(0,c.A)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Ao(s,"clientMetadata");return u.U().next(h=>{const g=e.Ci(h,18e5),b=h.filter(O=>-1===g.indexOf(O));return At.forEach(b,O=>u.delete(O.clientId)).next(()=>b)})}).catch(()=>[]);if(e.Ei)for(const s of r)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?At.resolve(!0):ih(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new Bt(It.FAILED_PRECONDITION,su);return!1}}return!(!this.networkEnabled||!this.inForeground)||fg(e).U().next(s=>void 0===this.Ci(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&E("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.A)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Tl(r,Qo.oe);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(s=>this.Di(s.updateTimeMs,r)&&!this.Fi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>fg(e).U().next(r=>this.Ci(r,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return eh.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sd(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return sf.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,s){E("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",h=16===(O=this.ai)?xu:15===O?ja:14===O?Ds:13===O?Kc:12===O?fa:11===O?Mu:void ee();var O;let g;return this.Ti.runTransaction(e,u,h,b=>(g=new Tl(b,this.Br?this.Br.next():Qo.oe),"readwrite-primary"===r?this.fi(g).next(O=>!!O||this.gi(g)).next(O=>{if(!O)throw H(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Bt(It.FAILED_PRECONDITION,Ui);return s(g)}).next(O=>this.yi(g).next(()=>O)):this.Bi(g).next(()=>s(g)))).then(b=>(g.raiseOnCommittedEvent(),b))}Bi(e){return ih(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Bt(It.FAILED_PRECONDITION,su)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ih(e).put("owner",r)}static D(){return ms.D()}pi(e){const r=ih(e);return r.get("owner").next(s=>this.wi(s)?(E("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):At.resolve())}Di(e,r){const s=Date.now();return!(e<s-r||e>s&&(H(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,Y.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const s=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return E("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return H("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){H("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ih(o){return Ao(o,"owner")}function fg(o){return Ao(o,"clientMetadata")}function yv(o,e){let r=o.projectId;return o.isDefaultDatabase||(r+="."+o.database),"firestore/"+e+"/"+r+"/"}class Iv{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.ki=s,this.qi=u}static Qi(e,r){let s=C(),u=C();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Iv(e,r.fromCache,s,u)}}class cE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $y{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=(0,Y.nr)()?8:Vs((0,Y.ZQ)())>0?6:4}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,s,u){const h={result:null};return this.zi(e,r).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.ji(e,r,u,s).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new cE;return this.Hi(e,r,g).next(b=>{if(h.result=b,this.$i)return this.Ji(e,r,g,b.size)})}).next(()=>h.result)}Ji(e,r,s,u){return s.documentReadCount<this.Ui?(gs()<=Re.$b.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",vu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),At.resolve()):(gs()<=Re.$b.DEBUG&&E("QueryEngine","Query:",vu(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Wi*u?(gs()<=Re.$b.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",vu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(r))):At.resolve())}zi(e,r){if(Xi(r))return At.resolve(null);let s=Xr(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Yl(r,null,"F"),s=Xr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const g=C(...h);return this.Gi.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,s).next(O=>{const K=this.Yi(r,b);return this.Zi(r,K,g,O.readTime)?this.zi(e,Yl(r,null,"F")):this.Xi(e,K,r,O)}))})))}ji(e,r,s,u){return Xi(r)||u.isEqual(an.min())?At.resolve(null):this.Gi.getDocuments(e,s).next(h=>{const g=this.Yi(r,h);return this.Zi(r,g,s,u)?At.resolve(null):(gs()<=Re.$b.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),vu(r)),this.Xi(e,g,r,Ar(u,-1)).next(b=>b))})}Yi(e,r){let s=new vi(Wd(e));return r.forEach((u,h)=>{al(e,h)&&(s=s.add(h))}),s}Zi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Hi(e,r,s){return gs()<=Re.$b.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",vu(r)),this.Gi.getDocumentsMatchingQuery(e,r,Zr.min(),s)}Xi(e,r,s,u){return this.Gi.getDocumentsMatchingQuery(e,s,u).next(h=>(r.forEach(g=>{h=h.insert(g.key,g)}),h))}}class Ev{constructor(e,r,s,u){this.persistence=e,this.es=r,this.serializer=u,this.ts=new Wr(dr),this.ns=new Zl(h=>er(h),kr),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rc(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function Av(o,e,r,s){return new Ev(o,e,r,s)}function Cv(o,e){return pg.apply(this,arguments)}function pg(){return pg=(0,c.A)(function*(o,e){const r=Et(o);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,r.os(e),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const g=[],b=[];let O=C();for(const K of u){g.push(K.batchId);for(const fe of K.mutations)O=O.add(fe.key)}for(const K of h){b.push(K.batchId);for(const fe of K.mutations)O=O.add(fe.key)}return r.localDocuments.getDocuments(s,O).next(K=>({_s:K,removedBatchIds:g,addedBatchIds:b}))})})}),pg.apply(this,arguments)}function vf(o){const e=Et(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function hd(o,e,r){let s=C(),u=C();return r.forEach(h=>s=s.add(h)),e.getEntries(o,s).next(h=>{let g=ws();return r.forEach((b,O)=>{const K=h.get(b);O.isFoundDocument()!==K.isFoundDocument()&&(u=u.add(b)),O.isNoDocument()&&O.version.isEqual(an.min())?(e.removeEntry(b,O.readTime),g=g.insert(b,O)):!K.isValidDocument()||O.version.compareTo(K.version)>0||0===O.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(O),g=g.insert(b,O)):E("LocalStore","Ignoring outdated watch update for ",b,". Current version:",K.version," Watch version:",O.version)}),{us:g,cs:u}})}function Tv(o,e){const r=Et(o);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Mc(o,e){const r=Et(o);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.qr.getTargetData(s,e).next(h=>h?(u=h,At.resolve(u)):r.qr.allocateTargetId(s).next(g=>(u=new Iu(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ts.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ts=r.ts.insert(s.targetId,s),r.ns.set(e,s.targetId)),s})}function xc(o,e,r){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,c.A)(function*(o,e,r){const s=Et(o),u=s.ts.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",h,g=>s.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Us(g))throw g;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ts=s.ts.remove(e),s.ns.delete(u.target)}),Dv.apply(this,arguments)}function gg(o,e,r){const s=Et(o);let u=an.min(),h=C();return s.persistence.runTransaction("Execute query","readwrite",g=>function(O,K,fe){const Fe=Et(O),ht=Fe.ns.get(fe);return void 0!==ht?At.resolve(Fe.ts.get(ht)):Fe.qr.getTargetData(K,fe)}(s,g,Xr(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(g,b.targetId).next(O=>{h=O})}).next(()=>s.es.getDocumentsMatchingQuery(g,e,r?u:an.min(),r?h:C())).next(b=>(yf(s,Gd(e),b),{documents:b,ls:h})))}function jy(o,e){const r=Et(o),s=Et(r.qr),u=r.ts.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",h=>s.ot(h,e).next(g=>g?g.target:null))}function _f(o,e){const r=Et(o),s=r.rs.get(e)||an.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.ss.getAllFromCollectionGroup(u,e,Ar(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(yf(r,e,u),u))}function yf(o,e,r){let s=o.rs.get(e)||an.min();r.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),o.rs.set(e,s)}function wv(){return wv=(0,c.A)(function*(o,e,r,s){const u=Et(o);let h=C(),g=ws();for(const K of r){const fe=e.hs(K.metadata.name);K.document&&(h=h.add(fe));const Fe=e.Ps(K);Fe.setReadTime(e.Is(K.metadata.readTime)),g=g.insert(fe,Fe)}const b=u.ss.newChangeBuffer({trackRemovals:!0}),O=yield Mc(u,(fe=s,Xr($i(Pr.fromString(`__bundle__/docs/${fe}`)))));var fe;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>hd(K,b,g).next(fe=>(b.apply(K),fe)).next(fe=>u.qr.removeMatchingKeysForTargetId(K,O.targetId).next(()=>u.qr.addMatchingKeys(K,h,O.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(K,fe.us,fe.cs)).next(()=>fe.us)))}),wv.apply(this,arguments)}function bv(o,e){return mg.apply(this,arguments)}function mg(){return mg=(0,c.A)(function*(o,e,r=C()){const s=yield Mc(o,Xr(ng(e.bundledQuery))),u=Et(o);return u.persistence.runTransaction("Save named query","readwrite",h=>{const g=Co(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return u.Kr.saveNamedQuery(h,e);const b=s.withResumeToken(bi.EMPTY_BYTE_STRING,g);return u.ts=u.ts.insert(b.targetId,b),u.qr.updateTargetData(h,b).next(()=>u.qr.removeMatchingKeysForTargetId(h,s.targetId)).next(()=>u.qr.addMatchingKeys(h,r,s.targetId)).next(()=>u.Kr.saveNamedQuery(h,e))})}),mg.apply(this,arguments)}function Sv(o,e){return`firestore_clients_${o}_${e}`}function Rv(o,e,r){let s=`firestore_mutations_${o}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function vg(o,e){return`firestore_targets_${o}_${e}`}class If{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Ts(e,r,s){const u=JSON.parse(s);let h,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(h=new Bt(u.error.code,u.error.message))),g?new If(e,r,u.state,h):(H("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fd{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Ts(e,r){const s=JSON.parse(r);let u,h="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(u=new Bt(s.error.code,s.error.message))),h?new fd(e,s.state,u):(H("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,h=ye();for(let g=0;u&&g<s.activeTargetIds.length;++g)u=hc(s.activeTargetIds[g]),h=h.add(s.activeTargetIds[g]);return u?new oh(e,h):(H("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class _g{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new _g(r.clientId,r.onlineState):(H("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yg{constructor(){this.activeTargetIds=ye()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ef{constructor(e,r,s,u,h){this.window=e,this.si=r,this.persistenceKey=s,this.Rs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Wr(dr),this.started=!1,this.ps=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ys=Sv(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new yg),this.Ss=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.A)(function*(){const r=yield e.syncEngine.Li();for(const u of r){if(u===e.Rs)continue;const h=e.getItem(Sv(e.persistenceKey,u));if(h){const g=oh.Ts(u,h);g&&(e.gs=e.gs.insert(g.clientId,g))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const u=e.Ms(s);u&&e.xs(u)}for(const u of e.ps)e.fs(u);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,s){this.Ns(e,r,s),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(vg(this.persistenceKey,e));if(s){const u=fd.Ts(e,s);u&&(r=u.state)}}return this.Bs.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vg(this.persistenceKey,e))}updateQueryState(e,r,s){this.ks(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Ls(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return E("SharedClientState","READ",e,r),r}setItem(e,r){E("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){E("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(E("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void H("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==s.key)if(r.Ss.test(s.key)){if(null==s.newValue){const u=r.Ks(s.key);return r.$s(u,null)}{const u=r.Us(s.key,s.newValue);if(u)return r.$s(u.clientId,u)}}else if(r.bs.test(s.key)){if(null!==s.newValue){const u=r.Ws(s.key,s.newValue);if(u)return r.Gs(u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.zs(s.key,s.newValue);if(u)return r.js(u)}}else if(s.key===r.Cs){if(null!==s.newValue){const u=r.Ms(s.newValue);if(u)return r.xs(u)}}else if(s.key===r.ws){const u=function(g){let b=Qo.oe;if(null!=g)try{const O=JSON.parse(g);De("number"==typeof O),b=O}catch(O){H("SharedClientState","Failed to read sequence number from WebStorage",O)}return b}(s.newValue);u!==Qo.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.vs){const u=r.Hs(s.newValue);yield Promise.all(u.map(h=>r.syncEngine.Js(h)))}}else r.ps.push(s)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,r,s){const u=new If(this.currentUser,e,r,s),h=Rv(this.persistenceKey,this.currentUser,e);this.setItem(h,u.Es())}Ls(e){const r=Rv(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,s){const u=vg(this.persistenceKey,e),h=new fd(e,r,s);this.setItem(u,h.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const s=this.Ks(e);return oh.Ts(s,r)}Ws(e,r){const s=this.bs.exec(e),u=Number(s[1]);return If.Ts(new Zi(void 0!==s[2]?s[2]:null),u,r)}zs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return fd.Ts(u,r)}Ms(e){return _g.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,c.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);E("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const s=r?this.gs.insert(e,r):this.gs.remove(e),u=this.Os(this.gs),h=this.Os(s),g=[],b=[];return h.forEach(O=>{u.has(O)||g.push(O)}),u.forEach(O=>{h.has(O)||b.push(O)}),this.syncEngine.Xs(g,b).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=ye();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class sh{constructor(){this.eo=new yg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,s){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new yg,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hy{ro(e){}shutdown(){}}class Af{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cf=null;function Zu(){return null===Cf?Cf=268435456+Math.round(2147483648*Math.random()):Cf++,"0x"+Cf.toString(16)}const zy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gy{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const Rs="WebChannelConnection";class Pv extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.yo=s+"://"+r.host,this.wo=`projects/${u}/databases/${h}`,this.So="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${h}`}get bo(){return!1}Do(r,s,u,h,g){const b=Zu(),O=this.Co(r,s.toUriEncodedString());E("RestConnection",`Sending RPC '${r}' ${b}:`,O,u);const K={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(K,h,g),this.Fo(r,O,K,u).then(fe=>(E("RestConnection",`Received RPC '${r}' ${b}: `,fe),fe),fe=>{throw Oe("RestConnection",`RPC '${r}' ${b} failed with error: `,fe,"url: ",O,"request:",u),fe})}Mo(r,s,u,h,g,b){return this.Do(r,s,u,h,g)}vo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+ks,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,g)=>r[g]=h),u&&u.headers.forEach((h,g)=>r[g]=h)}Co(r,s){return`${this.yo}/v1/${s}:${zy[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,r,s,u){const h=Zu();return new Promise((g,b)=>{const O=new el;O.setWithCredentials(!0),O.listenOnce(qo.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Os.NO_ERROR:const fe=O.getResponseJson();E(Rs,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(fe)),g(fe);break;case Os.TIMEOUT:E(Rs,`RPC '${e}' ${h} timed out`),b(new Bt(It.DEADLINE_EXCEEDED,"Request time out"));break;case Os.HTTP_ERROR:const Fe=O.getStatus();if(E(Rs,`RPC '${e}' ${h} failed with status:`,Fe,"response text:",O.getResponseText()),Fe>0){let ht=O.getResponseJson();Array.isArray(ht)&&(ht=ht[0]);const Vt=null==ht?void 0:ht.error;if(Vt&&Vt.status&&Vt.message){const wn=function(bn){const vr=bn.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(vr)>=0?vr:It.UNKNOWN}(Vt.status);b(new Bt(wn,Vt.message))}else b(new Bt(It.UNKNOWN,"Server responded with status "+O.getStatus()))}else b(new Bt(It.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{E(Rs,`RPC '${e}' ${h} completed.`)}});const K=JSON.stringify(u);E(Rs,`RPC '${e}' ${h} sending request:`,u),O.send(r,"POST",K,s,15)})}xo(e,r,s){const u=Zu(),h=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=vl(),b=Bl(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(O.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(O.xmlHttpFactory=new jl({})),this.vo(O.initMessageHeaders,r,s),O.encodeInitMessageHeaders=!0;const fe=h.join("");E(Rs,`Creating RPC '${e}' stream ${u}: ${fe}`,O);const Fe=g.createWebChannel(fe,O);let ht=!1,Vt=!1;const wn=new Gy({co:bn=>{Vt?E(Rs,`Not sending because RPC '${e}' stream ${u} is closed:`,bn):(ht||(E(Rs,`Opening RPC '${e}' stream ${u} transport.`),Fe.open(),ht=!0),E(Rs,`RPC '${e}' stream ${u} sending:`,bn),Fe.send(bn))},lo:()=>Fe.close()}),xn=(bn,vr,Ur)=>{bn.listen(vr,yr=>{try{Ur(yr)}catch(Qr){setTimeout(()=>{throw Qr},0)}})};return xn(Fe,wa.EventType.OPEN,()=>{Vt||(E(Rs,`RPC '${e}' stream ${u} transport opened.`),wn.Vo())}),xn(Fe,wa.EventType.CLOSE,()=>{Vt||(Vt=!0,E(Rs,`RPC '${e}' stream ${u} transport closed`),wn.fo())}),xn(Fe,wa.EventType.ERROR,bn=>{Vt||(Vt=!0,Oe(Rs,`RPC '${e}' stream ${u} transport errored:`,bn),wn.fo(new Bt(It.UNAVAILABLE,"The operation could not be completed")))}),xn(Fe,wa.EventType.MESSAGE,bn=>{var vr;if(!Vt){const Ur=bn.data[0];De(!!Ur);const Qr=Ur.error||(null===(vr=Ur[0])||void 0===vr?void 0:vr.error);if(Qr){E(Rs,`RPC '${e}' stream ${u} received error:`,Qr);const po=Qr.status;let Qi=function(gp){const Im=_s[gp];if(void 0!==Im)return xa(Im)}(po),ys=Qr.message;void 0===Qi&&(Qi=It.INTERNAL,ys="Unknown error status: "+po+" with message "+Qr.message),Vt=!0,wn.fo(new Bt(Qi,ys)),Fe.close()}else E(Rs,`RPC '${e}' stream ${u} received:`,Ur),wn.po(Ur)}}),xn(b,da.STAT_EVENT,bn=>{bn.stat===_l.PROXY?E(Rs,`RPC '${e}' stream ${u} detected buffering proxy`):bn.stat===_l.NOPROXY&&E(Rs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{wn.mo()},0),wn}}function Mv(){return typeof window<"u"?window:null}function Tf(){return typeof document<"u"?document:null}function ah(o){return new Ty(o,!0)}class Ig{constructor(e,r,s=1e3,u=1.5,h=6e4){this.si=e,this.timerId=r,this.Oo=s,this.No=u,this.Lo=h,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const r=Math.floor(this.Bo+this.$o()),s=Math.max(0,Date.now()-this.qo),u=Math.max(0,r-s);u>0&&E("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Bo} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class Eg{constructor(e,r,s,u,h,g,b,O){this.si=e,this.Wo=s,this.Go=u,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=O,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Ig(e,r)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return(0,c.A)(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return(0,c.A)(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,r){var s=this;return(0,c.A)(function*(){s.i_(),s.s_(),s.Jo.cancel(),s.zo++,4!==e?s.Jo.reset():r&&r.code===It.RESOURCE_EXHAUSTED?(H(r.toString()),H("Using maximum backoff delay to prevent overloading the backend."),s.Jo.Qo()):r&&r.code===It.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.o_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Eo(r)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),r=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.zo===r&&this.a_(s,u)},s=>{e(()=>{const u=new Bt(It.UNKNOWN,"Fetching auth token failed: "+s.message);return this.u_(u)})})}a_(e,r){const s=this.__(this.zo);this.stream=this.c_(e,r),this.stream.ho(()=>{s(()=>this.listener.ho())}),this.stream.Io(()=>{s(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(u=>{s(()=>this.u_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Xo(){var e=this;this.state=5,this.Jo.Ko((0,c.A)(function*(){e.state=0,e.start()}))}u_(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return r=>{this.si.enqueueAndForget(()=>this.zo===e?r():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hE extends Eg{constructor(e,r,s,u,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,g),this.serializer=h}c_(e,r){return this.connection.xo("Listen",e,r)}onMessage(e){this.Jo.reset();const r=function Na(o,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:ee(),u=e.targetChange.targetIds||[],h=function(K,fe){return K.useProto3Json?(De(void 0===fe||"string"==typeof fe),bi.fromBase64String(fe||"")):(De(void 0===fe||fe instanceof Buffer||fe instanceof Uint8Array),bi.fromUint8Array(fe||new Uint8Array))}(o,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(K){const fe=void 0===K.code?It.UNKNOWN:xa(K.code);return new Bt(fe,K.message||"")}(g);r=new Ey(s,u,h,b||null)}else if("documentChange"in e){const s=e.documentChange,u=Ka(o,s.document.name),h=Co(s.document.updateTime),g=s.document.createTime?Co(s.document.createTime):an.min(),b=new Mo({mapValue:{fields:s.document.fields}}),O=qi.newFoundDocument(u,h,g,b);r=new Qd(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,u=Ka(o,s.document),h=s.readTime?Co(s.readTime):an.min(),g=qi.newNoDocument(u,h);r=new Qd([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,u=Ka(o,s.document);r=new Qd([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return ee();{const s=e.filter,{count:u=0,unchangedNames:h}=s,g=new yy(u,h);r=new Iy(s.targetId,g)}}var K;return r}(this.serializer,e),s=function(h){if(!("targetChange"in h))return an.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?an.min():g.readTime?Co(g.readTime):an.min()}(e);return this.listener.l_(r,s)}h_(e){const r={};r.database=Qp(this.serializer),r.addTarget=function(h,g){let b;const O=g.target;if(b=yi(O)?{documents:zs(h,O)}:{query:Ac(h,O)._t},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=Gm(h,g.resumeToken);const K=Jd(h,g.expectedCount);null!==K&&(b.expectedCount=K)}else if(g.snapshotVersion.compareTo(an.min())>0){b.readTime=_a(h,g.snapshotVersion.toTimestamp());const K=Jd(h,g.expectedCount);null!==K&&(b.expectedCount=K)}return b}(this.serializer,e);const s=function Xm(o,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.r_(r)}P_(e){const r={};r.database=Qp(this.serializer),r.removeTarget=e,this.r_(r)}}class fE extends Eg{constructor(e,r,s,u,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,g),this.serializer=h,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,r){return this.connection.xo("Write",e,r)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const r=function Jp(o,e){return o&&o.length>0?(De(void 0!==e),o.map(r=>function(u,h){let g=Co(u.updateTime?u.updateTime:h);return g.isEqual(an.min())&&(g=Co(h)),new yu(g,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Co(e.commitTime);return this.listener.d_(s,r)}return De(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Qp(this.serializer),this.r_(e)}E_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Ec(this.serializer,s))};this.r_(r)}}class lh extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.V_=!1}m_(){if(this.V_)throw new Bt(It.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,r,s,u){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Do(e,tf(r,s),u,h,g)).catch(h=>{throw"FirebaseError"===h.name?(h.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Bt(It.UNKNOWN,h.toString())})}Mo(e,r,s,u,h){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.connection.Mo(e,tf(r,s),u,g,b,h)).catch(g=>{throw"FirebaseError"===g.name?(g.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Bt(It.UNKNOWN,g.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Ky{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(H(r),this.y_=!1):E("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class xv{constructor(e,r,s,u,h){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=h,this.O_.ro(b=>{s.enqueueAndForget((0,c.A)(function*(){var O;Nc(g)&&(E("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,c.A)(function*(fe){const Fe=Et(fe);Fe.M_.add(4),yield pd(Fe),Fe.N_.set("Unknown"),Fe.M_.delete(4),yield uh(Fe)}),function K(fe){return O.apply(this,arguments)})(g))}))}),this.N_=new Ky(s,u)}}function uh(o){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,c.A)(function*(o){if(Nc(o))for(const e of o.x_)yield e(!0)}),Cg.apply(this,arguments)}function pd(o){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,c.A)(function*(o){for(const e of o.x_)yield e(!1)}),Tg.apply(this,arguments)}function Df(o,e){const r=Et(o);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),dh(r)?Nv(r):kc(r).Zo()&&ch(r,e))}function gd(o,e){const r=Et(o),s=kc(r);r.F_.delete(e),s.Zo()&&qy(r,e),0===r.F_.size&&(s.Zo()?s.t_():Nc(r)&&r.N_.set("Unknown"))}function ch(o,e){if(o.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const r=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}kc(o).h_(e)}function qy(o,e){o.L_.xe(e),kc(o).P_(e)}function Nv(o){o.L_=new aE({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>o.F_.get(e)||null,tt:()=>o.datastore.serializer.databaseId}),kc(o).start(),o.N_.w_()}function dh(o){return Nc(o)&&!kc(o).Yo()&&o.F_.size>0}function Nc(o){return 0===Et(o).M_.size}function Xy(o){o.L_=void 0}function pE(o){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,c.A)(function*(o){o.N_.set("Online")}),Ov.apply(this,arguments)}function gE(o){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,c.A)(function*(o){o.F_.forEach((e,r)=>{ch(o,e)})}),Dg.apply(this,arguments)}function wf(o,e){return md.apply(this,arguments)}function md(){return md=(0,c.A)(function*(o,e){Xy(o),dh(o)?(o.N_.D_(e),Nv(o)):o.N_.set("Unknown")}),md.apply(this,arguments)}function wg(o,e,r){return bf.apply(this,arguments)}function bf(){return bf=(0,c.A)(function*(o,e,r){if(o.N_.set("Online"),e instanceof Ey&&2===e.state&&e.cause)try{yield(s=(0,c.A)(function*(h,g){const b=g.cause;for(const O of g.targetIds)h.F_.has(O)&&(yield h.remoteSyncer.rejectListen(O,b),h.F_.delete(O),h.L_.removeTarget(O))}),function u(h,g){return s.apply(this,arguments)})(o,e)}catch(s){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield hh(o,s)}else if(e instanceof Qd?o.L_.Ke(e):e instanceof Iy?o.L_.He(e):o.L_.We(e),!r.isEqual(an.min()))try{const s=yield vf(o.localStore);r.compareTo(s)>=0&&(yield function(h,g){const b=h.L_.rt(g);return b.targetChanges.forEach((O,K)=>{if(O.resumeToken.approximateByteSize()>0){const fe=h.F_.get(K);fe&&h.F_.set(K,fe.withResumeToken(O.resumeToken,g))}}),b.targetMismatches.forEach((O,K)=>{const fe=h.F_.get(O);if(!fe)return;h.F_.set(O,fe.withResumeToken(bi.EMPTY_BYTE_STRING,fe.snapshotVersion)),qy(h,O);const Fe=new Iu(fe.target,O,K,fe.sequenceNumber);ch(h,Fe)}),h.remoteSyncer.applyRemoteEvent(b)}(o,r))}catch(s){E("RemoteStore","Failed to raise snapshot:",s),yield hh(o,s)}var s}),bf.apply(this,arguments)}function hh(o,e,r){return bg.apply(this,arguments)}function bg(){return bg=(0,c.A)(function*(o,e,r){if(!Us(e))throw e;o.M_.add(1),yield pd(o),o.N_.set("Offline"),r||(r=()=>vf(o.localStore)),o.asyncQueue.enqueueRetryable((0,c.A)(function*(){E("RemoteStore","Retrying IndexedDB access"),yield r(),o.M_.delete(1),yield uh(o)}))}),bg.apply(this,arguments)}function kv(o,e){return e().catch(r=>hh(o,r,e))}function Oc(o){return ec.apply(this,arguments)}function ec(){return ec=(0,c.A)(function*(o){const e=Et(o),r=au(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;qa(e);)try{const u=yield Tv(e.localStore,s);if(null===u){0===e.v_.length&&r.t_();break}s=u.batchId,Cu(e,u)}catch(u){yield hh(e,u)}Sg(e)&&Qy(e)}),ec.apply(this,arguments)}function qa(o){return Nc(o)&&o.v_.length<10}function Cu(o,e){o.v_.push(e);const r=au(o);r.Zo()&&r.T_&&r.E_(e.mutations)}function Sg(o){return Nc(o)&&!au(o).Yo()&&o.v_.length>0}function Qy(o){au(o).start()}function Yy(o){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,c.A)(function*(o){au(o).R_()}),Fv.apply(this,arguments)}function mE(o){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,c.A)(function*(o){const e=au(o);for(const r of o.v_)e.E_(r.mutations)}),Sf.apply(this,arguments)}function Lv(o,e,r){return Vv.apply(this,arguments)}function Vv(){return Vv=(0,c.A)(function*(o,e,r){const s=o.v_.shift(),u=Hp.from(s,e,r);yield kv(o,()=>o.remoteSyncer.applySuccessfulWrite(u)),yield Oc(o)}),Vv.apply(this,arguments)}function Rf(o,e){return fh.apply(this,arguments)}function fh(){return fh=(0,c.A)(function*(o,e){var r;e&&au(o).T_&&(yield(r=(0,c.A)(function*(u,h){if(zp(b=h.code)&&b!==It.ABORTED){const g=u.v_.shift();au(u).e_(),yield kv(u,()=>u.remoteSyncer.rejectFailedWrite(g.batchId,h)),yield Oc(u)}var b}),function s(u,h){return r.apply(this,arguments)})(o,e)),Sg(o)&&Qy(o)}),fh.apply(this,arguments)}function Pf(o,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,c.A)(function*(o,e){const r=Et(o);r.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");const s=Nc(r);r.M_.add(3),yield pd(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield uh(r)}),Rg.apply(this,arguments)}function tc(o,e){return ph.apply(this,arguments)}function ph(){return ph=(0,c.A)(function*(o,e){const r=Et(o);e?(r.M_.delete(2),yield uh(r)):e||(r.M_.add(2),yield pd(r),r.N_.set("Unknown"))}),ph.apply(this,arguments)}function kc(o){return o.B_||(o.B_=function(r,s,u){const h=Et(r);return h.m_(),new hE(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(o.datastore,o.asyncQueue,{ho:pE.bind(null,o),Io:gE.bind(null,o),Eo:wf.bind(null,o),l_:wg.bind(null,o)}),o.x_.push(function(){var e=(0,c.A)(function*(r){r?(o.B_.e_(),dh(o)?Nv(o):o.N_.set("Unknown")):(yield o.B_.stop(),Xy(o))});return function(r){return e.apply(this,arguments)}}())),o.B_}function au(o){return o.k_||(o.k_=function(r,s,u){const h=Et(r);return h.m_(),new fE(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(o.datastore,o.asyncQueue,{ho:()=>Promise.resolve(),Io:Yy.bind(null,o),Eo:Rf.bind(null,o),A_:mE.bind(null,o),d_:Lv.bind(null,o)}),o.x_.push(function(){var e=(0,c.A)(function*(r){r?(o.k_.e_(),yield Oc(o)):(yield o.k_.stop(),o.v_.length>0&&(E("RemoteStore",`Stopping write stream with ${o.v_.length} pending writes`),o.v_=[]))});return function(r){return e.apply(this,arguments)}}())),o.k_}class vd{constructor(e,r,s,u,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,h){const g=Date.now()+s,b=new vd(e,r,g,u,h);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(It.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(o,e){if(H("AsyncQueue",`${e}: ${o}`),Us(o))return new Bt(It.UNAVAILABLE,`${e}: ${o}`);throw o}class yd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||En.comparator(r.key,s.key):(r,s)=>En.comparator(r.key,s.key),this.keyedMap=Uu(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new yd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new yd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Pg{constructor(){this.q_=new Wr(En.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):ee():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Id{constructor(e,r,s,u,h,g,b,O,K){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=O,this.hasCachedResults=K}static fromInitialDocuments(e,r,s,u,h){const g=[];return r.forEach(b=>{g.push({type:0,doc:b})}),new Id(e,r,yd.emptySet(r),g,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class Jy{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Zy{constructor(){this.queries=new Zl(e=>Jl(e),Ml),this.onlineState="Unknown",this.z_=new Set}}function Mf(o,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,c.A)(function*(o,e){const r=Et(o);let s=3;const u=e.query;let h=r.queries.get(u);h?!h.W_()&&e.G_()&&(s=2):(h=new Jy,s=e.G_()?0:1);try{switch(s){case 0:h.K_=yield r.onListen(u,!0);break;case 1:h.K_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(g){const b=_d(g,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(b)}r.queries.set(u,h),h.U_.push(e),e.j_(r.onlineState),h.K_&&e.H_(h.K_)&&mh(r)}),Fc.apply(this,arguments)}function Ed(o,e){return gh.apply(this,arguments)}function gh(){return gh=(0,c.A)(function*(o,e){const r=Et(o),s=e.query;let u=3;const h=r.queries.get(s);if(h){const g=h.U_.indexOf(e);g>=0&&(h.U_.splice(g,1),0===h.U_.length?u=e.G_()?0:1:!h.W_()&&e.G_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}),gh.apply(this,arguments)}function e0(o,e){const r=Et(o);let s=!1;for(const u of e){const g=r.queries.get(u.query);if(g){for(const b of g.U_)b.H_(u)&&(s=!0);g.K_=u}}s&&mh(r)}function t0(o,e,r){const s=Et(o),u=s.queries.get(e);if(u)for(const h of u.U_)h.onError(r);s.queries.delete(e)}function mh(o){o.z_.forEach(e=>{e.next()})}var xf,nc;(nc=xf||(xf={})).J_="default",nc.Cache="cache";class Nf{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Id(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==xf.Cache}}class Uv{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class $v{constructor(e){this.serializer=e}hs(e){return Ka(this.serializer,e)}Ps(e){return e.metadata.exists?qm(this.serializer,e.document,!1):qi.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Co(e)}}class vE{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vh(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=Pr.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new $v(this.serializer);for(const u of e)if(u.metadata.queries){const h=s.hs(u.metadata.name);for(const g of u.metadata.queries){const b=(r.get(g)||C()).add(h);r.set(g,b)}}return r}complete(){var e=this;return(0,c.A)(function*(){const r=yield function dE(o,e,r,s){return wv.apply(this,arguments)}(e.localStore,new $v(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const u of e.queries)yield bv(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function vh(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class Bv{constructor(e){this.key=e}}class Mg{constructor(e){this.key=e}}class xg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=C(),this.mutatedKeys=C(),this.Ia=Wd(e),this.Ta=new yd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Pg,u=r?r.Ta:this.Ta;let h=r?r.mutatedKeys:this.mutatedKeys,g=u,b=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((fe,Fe)=>{const ht=u.get(fe),Vt=al(this.query,Fe)?Fe:null,wn=!!ht&&this.mutatedKeys.has(ht.key),xn=!!Vt&&(Vt.hasLocalMutations||this.mutatedKeys.has(Vt.key)&&Vt.hasCommittedMutations);let bn=!1;ht&&Vt?ht.data.isEqual(Vt.data)?wn!==xn&&(s.track({type:3,doc:Vt}),bn=!0):this.Ra(ht,Vt)||(s.track({type:2,doc:Vt}),bn=!0,(O&&this.Ia(Vt,O)>0||K&&this.Ia(Vt,K)<0)&&(b=!0)):!ht&&Vt?(s.track({type:0,doc:Vt}),bn=!0):ht&&!Vt&&(s.track({type:1,doc:ht}),bn=!0,(O||K)&&(b=!0)),bn&&(Vt?(g=g.add(Vt),h=xn?h.add(fe):h.delete(fe)):(g=g.delete(fe),h=h.delete(fe)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const fe="F"===this.query.limitType?g.last():g.first();g=g.delete(fe.key),h=h.delete(fe.key),s.track({type:1,doc:fe})}return{Ta:g,Aa:s,Zi:b,mutatedKeys:h}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const h=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const g=e.Aa.Q_();g.sort((fe,Fe)=>function(Vt,wn){const xn=bn=>{switch(bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return xn(Vt)-xn(wn)}(fe.type,Fe.type)||this.Ia(fe.doc,Fe.doc)),this.Va(s),u=null!=u&&u;const b=r&&!u?this.ma():[],O=0===this.Pa.size&&this.current&&!u?1:0,K=O!==this.ha;return this.ha=O,0!==g.length||K?{snapshot:new Id(this.query,e.Ta,h,g,e.mutatedKeys,0===O,K,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:b}:{fa:b}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Pg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=C(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Mg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Bv(s))}),r}pa(e){this.la=e.ls,this.Pa=C();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Id.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class jv{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Ng{constructor(e){this.key=e,this.wa=!1}}class Hv{constructor(e,r,s,u,h,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Sa={},this.ba=new Zl(b=>Jl(b),Ml),this.Da=new Map,this.Ca=new Set,this.va=new Wr(En.comparator),this.Fa=new Map,this.Ma=new pv,this.xa={},this.Oa=new Map,this.Na=Sc.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Of(o,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,c.A)(function*(o,e,r=!0){const s=Ch(o);let u;const h=s.ba.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ya()):u=yield Ad(s,e,r,!0),u}),Lc.apply(this,arguments)}function zv(o,e){return _h.apply(this,arguments)}function _h(){return _h=(0,c.A)(function*(o,e){const r=Ch(o);yield Ad(r,e,!0,!1)}),_h.apply(this,arguments)}function Ad(o,e,r,s){return kf.apply(this,arguments)}function kf(){return kf=(0,c.A)(function*(o,e,r,s){const u=yield Mc(o.localStore,Xr(e)),h=u.targetId,g=r?o.sharedClientState.addLocalQueryTarget(h):"not-current";let b;return s&&(b=yield yh(o,e,h,"current"===g,u.resumeToken)),o.isPrimaryClient&&r&&Df(o.remoteStore,u),b}),kf.apply(this,arguments)}function yh(o,e,r,s,u){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,c.A)(function*(o,e,r,s,u){o.Ba=(Fe,ht,Vt)=>{return(wn=(0,c.A)(function*(bn,vr,Ur,yr){let Qr=vr.view.da(Ur);Qr.Zi&&(Qr=yield gg(bn.localStore,vr.query,!1).then(({documents:ul})=>vr.view.da(ul,Qr)));const po=yr&&yr.targetChanges.get(vr.targetId),Qi=yr&&null!=yr.targetMismatches.get(vr.targetId),ys=vr.view.applyChanges(Qr,bn.isPrimaryClient,po,Qi);return Eh(bn,vr.targetId,ys.fa),ys.snapshot}),function xn(bn,vr,Ur,yr){return wn.apply(this,arguments)})(o,Fe,ht,Vt);var wn};const h=yield gg(o.localStore,e,!0),g=new xg(e,h.ls),b=g.da(h.documents),O=Xd.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==o.onlineState,u),K=g.applyChanges(b,o.isPrimaryClient,O);Eh(o,r,K.fa);const fe=new jv(e,r,g);return o.ba.set(e,fe),o.Da.has(r)?o.Da.get(r).push(e):o.Da.set(r,[e]),K.snapshot}),Cd.apply(this,arguments)}function n0(o,e,r){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,c.A)(function*(o,e,r){const s=Et(o),u=s.ba.get(e),h=s.Da.get(u.targetId);if(h.length>1)return s.Da.set(u.targetId,h.filter(g=>!Ml(g,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield xc(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&gd(s.remoteStore,u.targetId),ic(s,u.targetId)}).catch(Ai))):(ic(s,u.targetId),yield xc(s.localStore,u.targetId,!0))}),Ff.apply(this,arguments)}function r0(o,e){return Og.apply(this,arguments)}function Og(){return Og=(0,c.A)(function*(o,e){const r=Et(o),s=r.ba.get(e),u=r.Da.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),gd(r.remoteStore,s.targetId))}),Og.apply(this,arguments)}function Lf(){return Lf=(0,c.A)(function*(o,e,r){const s=zg(o);try{const u=yield function(g,b){const O=Et(g),K=Dr.now(),fe=b.reduce((Vt,wn)=>Vt.add(wn.key),C());let Fe,ht;return O.persistence.runTransaction("Locally write mutations","readwrite",Vt=>{let wn=ws(),xn=C();return O.ss.getEntries(Vt,fe).next(bn=>{wn=bn,wn.forEach((vr,Ur)=>{Ur.isValidDocument()||(xn=xn.add(vr))})}).next(()=>O.localDocuments.getOverlayedDocuments(Vt,wn)).next(bn=>{Fe=bn;const vr=[];for(const Ur of b){const yr=Qh(Ur,Fe.get(Ur.key).overlayedDocument);null!=yr&&vr.push(new Nl(Ur.key,yr,pc(yr.value.mapValue),Fr.exists(!0)))}return O.mutationQueue.addMutationBatch(Vt,K,vr,b)}).next(bn=>{ht=bn;const vr=bn.applyToLocalDocumentSet(Fe,xn);return O.documentOverlayCache.saveOverlays(Vt,bn.batchId,vr)})}).then(()=>({batchId:ht.batchId,changes:$u(Fe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(g,b,O){let K=g.xa[g.currentUser.toKey()];K||(K=new Wr(dr)),K=K.insert(b,O),g.xa[g.currentUser.toKey()]=K}(s,u.batchId,r),yield Tu(s,u.changes),yield Oc(s.remoteStore)}catch(u){const h=_d(u,"Failed to persist write");r.reject(h)}}),Lf.apply(this,arguments)}function kg(o,e){return xr.apply(this,arguments)}function xr(){return xr=(0,c.A)(function*(o,e){const r=Et(o);try{const s=yield function Au(o,e){const r=Et(o),s=e.snapshotVersion;let u=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=r.ss.newChangeBuffer({trackRemovals:!0});u=r.ts;const b=[];e.targetChanges.forEach((fe,Fe)=>{const ht=u.get(Fe);if(!ht)return;b.push(r.qr.removeMatchingKeys(h,fe.removedDocuments,Fe).next(()=>r.qr.addMatchingKeys(h,fe.addedDocuments,Fe)));let Vt=ht.withSequenceNumber(h.currentSequenceNumber);var xn,bn,vr;null!==e.targetMismatches.get(Fe)?Vt=Vt.withResumeToken(bi.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):fe.resumeToken.approximateByteSize()>0&&(Vt=Vt.withResumeToken(fe.resumeToken,s)),u=u.insert(Fe,Vt),bn=Vt,vr=fe,(0===(xn=ht).resumeToken.approximateByteSize()||bn.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&b.push(r.qr.updateTargetData(h,Vt))});let O=ws(),K=C();if(e.documentUpdates.forEach(fe=>{e.resolvedLimboDocuments.has(fe)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(h,fe))}),b.push(hd(h,g,e.documentUpdates).next(fe=>{O=fe.us,K=fe.cs})),!s.isEqual(an.min())){const fe=r.qr.getLastRemoteSnapshotVersion(h).next(Fe=>r.qr.setTargetsMetadata(h,h.currentSequenceNumber,s));b.push(fe)}return At.waitFor(b).next(()=>g.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,O,K)).next(()=>O)}).then(h=>(r.ts=u,h))}(r.localStore,e);e.targetChanges.forEach((u,h)=>{const g=r.Fa.get(h);g&&(De(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.wa=!0:u.modifiedDocuments.size>0?De(g.wa):u.removedDocuments.size>0&&(De(g.wa),g.wa=!1))}),yield Tu(r,s,e)}catch(s){yield Ai(s)}}),xr.apply(this,arguments)}function Fg(o,e,r){const s=Et(o);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ba.forEach((h,g)=>{const b=g.view.j_(e);b.snapshot&&u.push(b.snapshot)}),function(g,b){const O=Et(g);O.onlineState=b;let K=!1;O.queries.forEach((fe,Fe)=>{for(const ht of Fe.U_)ht.j_(b)&&(K=!0)}),K&&mh(O)}(s.eventManager,e),u.length&&s.Sa.l_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Gv(o,e,r){return rc.apply(this,arguments)}function rc(){return rc=(0,c.A)(function*(o,e,r){const s=Et(o);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Fa.get(e),h=u&&u.key;if(h){let g=new Wr(En.comparator);g=g.insert(h,qi.newNoDocument(h,an.min()));const b=C().add(h),O=new qd(an.min(),new Map,new Wr(dr),g,b);yield kg(s,O),s.va=s.va.remove(h),s.Fa.delete(e),Ah(s)}else yield xc(s.localStore,e,!1).then(()=>ic(s,e,r)).catch(Ai)}),rc.apply(this,arguments)}function Wv(o,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,c.A)(function*(o,e){const r=Et(o),s=e.batch.batchId;try{const u=yield function By(o,e){const r=Et(o);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=r.ss.newChangeBuffer({trackRemovals:!0});return function(b,O,K,fe){const Fe=K.batch,ht=Fe.keys();let Vt=At.resolve();return ht.forEach(wn=>{Vt=Vt.next(()=>fe.getEntry(O,wn)).next(xn=>{const bn=K.docVersions.get(wn);De(null!==bn),xn.version.compareTo(bn)<0&&(Fe.applyToRemoteDocument(xn,K),xn.isValidDocument()&&(xn.setReadTime(K.commitVersion),fe.addEntry(xn)))})}),Vt.next(()=>b.mutationQueue.removeMutationBatch(O,Fe))}(r,s,e,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let O=C();for(let K=0;K<b.mutationResults.length;++K)b.mutationResults[K].transformResults.length>0&&(O=O.add(b.batch.mutations[K].key));return O}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);Uf(r,s,null),Vc(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Tu(r,u)}catch(u){yield Ai(u)}}),Vf.apply(this,arguments)}function s0(o,e,r){return Td.apply(this,arguments)}function Td(){return Td=(0,c.A)(function*(o,e,r){const s=Et(o);try{const u=yield function(g,b){const O=Et(g);return O.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let fe;return O.mutationQueue.lookupMutationBatch(K,b).next(Fe=>(De(null!==Fe),fe=Fe.keys(),O.mutationQueue.removeMutationBatch(K,Fe))).next(()=>O.mutationQueue.performConsistencyCheck(K)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(K,fe,b)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,fe)).next(()=>O.localDocuments.getDocuments(K,fe))})}(s.localStore,e);Uf(s,e,r),Vc(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Tu(s,u)}catch(u){yield Ai(u)}}),Td.apply(this,arguments)}function Ih(){return Ih=(0,c.A)(function*(o,e){const r=Et(o);Nc(r.remoteStore)||E("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const b=Et(g);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>b.mutationQueue.getHighestUnacknowledgedBatchId(O))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Oa.get(s)||[];u.push(e),r.Oa.set(s,u)}catch(s){const u=_d(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Ih.apply(this,arguments)}function Vc(o,e){(o.Oa.get(e)||[]).forEach(r=>{r.resolve()}),o.Oa.delete(e)}function Uf(o,e,r){const s=Et(o);let u=s.xa[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(r?h.reject(r):h.resolve(),u=u.remove(e)),s.xa[s.currentUser.toKey()]=u}}function ic(o,e,r=null){o.sharedClientState.removeLocalQueryTarget(e);for(const s of o.Da.get(e))o.ba.delete(s),r&&o.Sa.ka(s,r);o.Da.delete(e),o.isPrimaryClient&&o.Ma.Rr(e).forEach(s=>{o.Ma.containsKey(s)||$f(o,s)})}function $f(o,e){o.Ca.delete(e.path.canonicalString());const r=o.va.get(e);null!==r&&(gd(o.remoteStore,r),o.va=o.va.remove(e),o.Fa.delete(r),Ah(o))}function Eh(o,e,r){for(const s of r)s instanceof Bv?(o.Ma.addReference(s.key,e),Kv(o,s)):s instanceof Mg?(E("SyncEngine","Document no longer in limbo: "+s.key),o.Ma.removeReference(s.key,e),o.Ma.containsKey(s.key)||$f(o,s.key)):ee()}function Kv(o,e){const r=e.key,s=r.path.canonicalString();o.va.get(r)||o.Ca.has(s)||(E("SyncEngine","New document in limbo: "+r),o.Ca.add(s),Ah(o))}function Ah(o){for(;o.Ca.size>0&&o.va.size<o.maxConcurrentLimboResolutions;){const e=o.Ca.values().next().value;o.Ca.delete(e);const r=new En(Pr.fromString(e)),s=o.Na.next();o.Fa.set(s,new Ng(r)),o.va=o.va.insert(r,s),Df(o.remoteStore,new Iu(Xr($i(r.path)),s,"TargetPurposeLimboResolution",Qo.oe))}}function Tu(o,e,r){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,c.A)(function*(o,e,r){const s=Et(o),u=[],h=[],g=[];var b;s.ba.isEmpty()||(s.ba.forEach((b,O)=>{g.push(s.Ba(O,e,r).then(K=>{if((K||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,null!=K&&K.fromCache?"not-current":"current"),K){u.push(K);const fe=Iv.Qi(O.targetId,K);h.push(fe)}}))}),yield Promise.all(g),s.Sa.l_(u),yield(b=(0,c.A)(function*(K,fe){const Fe=Et(K);try{yield Fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ht=>At.forEach(fe,Vt=>At.forEach(Vt.ki,wn=>Fe.persistence.referenceDelegate.addReference(ht,Vt.targetId,wn)).next(()=>At.forEach(Vt.qi,wn=>Fe.persistence.referenceDelegate.removeReference(ht,Vt.targetId,wn)))))}catch(ht){if(!Us(ht))throw ht;E("LocalStore","Failed to update sequence numbers: "+ht)}for(const ht of fe){const Vt=ht.targetId;if(!ht.fromCache){const wn=Fe.ts.get(Vt),bn=wn.withLastLimboFreeSnapshotVersion(wn.snapshotVersion);Fe.ts=Fe.ts.insert(Vt,bn)}}}),function O(K,fe){return b.apply(this,arguments)})(s.localStore,h))}),Lg.apply(this,arguments)}function a0(o,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,c.A)(function*(o,e){const r=Et(o);if(!r.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());const s=yield Cv(r.localStore,e);r.currentUser=e,(h=r).Oa.forEach(b=>{b.forEach(O=>{O.reject(new Bt(It.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Tu(r,s._s)}var h}),Bf.apply(this,arguments)}function l0(o,e){const r=Et(o),s=r.Fa.get(e);if(s&&s.wa)return C().add(s.key);{let u=C();const h=r.Da.get(e);if(!h)return u;for(const g of h){const b=r.ba.get(g);u=u.unionWith(b.view.Ea)}return u}}function u0(o,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,c.A)(function*(o,e){const r=Et(o),s=yield gg(r.localStore,e.query,!0),u=e.view.pa(s);return r.isPrimaryClient&&Eh(r,e.targetId,u.fa),u}),Vg.apply(this,arguments)}function c0(o,e){return jf.apply(this,arguments)}function jf(){return jf=(0,c.A)(function*(o,e){const r=Et(o);return _f(r.localStore,e).then(s=>Tu(r,s))}),jf.apply(this,arguments)}function qv(o,e,r,s){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,c.A)(function*(o,e,r,s){const u=Et(o),h=yield function(b,O){const K=Et(b),fe=Et(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Fe=>fe.Cn(Fe,O).next(ht=>ht?K.localDocuments.getDocuments(Fe,ht):At.resolve(null)))}(u.localStore,e);var O;null!==h?("pending"===r?yield Oc(u.remoteStore):"acknowledged"===r||"rejected"===r?(Uf(u,e,s||null),Vc(u,e),O=e,Et(Et(u.localStore).mutationQueue).Fn(O)):ee(),yield Tu(u,h)):E("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ug.apply(this,arguments)}function aa(){return aa=(0,c.A)(function*(o,e){const r=Et(o);if(Ch(r),zg(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield Xv(r,s.toArray());r.La=!0,yield tc(r.remoteStore,!0);for(const h of u)Df(r.remoteStore,h)}else if(!1===e&&!1!==r.La){const s=[];let u=Promise.resolve();r.Da.forEach((h,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):u=u.then(()=>(ic(r,g),xc(r.localStore,g,!0))),gd(r.remoteStore,g)}),yield u,yield Xv(r,s),function(g){const b=Et(g);b.Fa.forEach((O,K)=>{gd(b.remoteStore,K)}),b.Ma.Vr(),b.Fa=new Map,b.va=new Wr(En.comparator)}(r),r.La=!1,yield tc(r.remoteStore,!1)}}),aa.apply(this,arguments)}function Xv(o,e,r){return $g.apply(this,arguments)}function $g(){return $g=(0,c.A)(function*(o,e,r){const s=Et(o),u=[],h=[];for(const g of e){let b;const O=s.Da.get(g);if(O&&0!==O.length){b=yield Mc(s.localStore,Xr(O[0]));for(const K of O){const fe=s.ba.get(K),Fe=yield u0(s,fe);Fe.snapshot&&h.push(Fe.snapshot)}}else{const K=yield jy(s.localStore,g);b=yield Mc(s.localStore,K),yield yh(s,h0(K),g,!1,b.resumeToken)}u.push(b)}return s.Sa.l_(h),u}),$g.apply(this,arguments)}function h0(o){return qr(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Bg(o){return r=Et(o).localStore,Et(Et(r).persistence).Li();var r}function Qv(o,e,r,s){return jg.apply(this,arguments)}function jg(){return jg=(0,c.A)(function*(o,e,r,s){const u=Et(o);if(u.La)return void E("SyncEngine","Ignoring unexpected query state notification.");const h=u.Da.get(e);if(h&&h.length>0)switch(r){case"current":case"not-current":{const g=yield _f(u.localStore,Gd(h[0])),b=qd.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,bi.EMPTY_BYTE_STRING);yield Tu(u,g,b);break}case"rejected":yield xc(u.localStore,e,!0),ic(u,e,s);break;default:ee()}}),jg.apply(this,arguments)}function f0(o,e,r){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,c.A)(function*(o,e,r){const s=Ch(o);if(s.La){for(const u of e){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){E("SyncEngine","Adding an already active target "+u);continue}const h=yield jy(s.localStore,u),g=yield Mc(s.localStore,h);yield yh(s,h0(h),g.targetId,!1,g.resumeToken),Df(s.remoteStore,g)}for(const u of r)s.Da.has(u)&&(yield xc(s.localStore,u,!1).then(()=>{gd(s.remoteStore,u),ic(s,u)}).catch(Ai))}}),Hg.apply(this,arguments)}function Ch(o){const e=Et(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=kg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gv.bind(null,e),e.Sa.l_=e0.bind(null,e.eventManager),e.Sa.ka=t0.bind(null,e.eventManager),e}function zg(o){const e=Et(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s0.bind(null,e),e}class oc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,c.A)(function*(){r.serializer=ah(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Av(this.persistence,new $y,e.initialUser,this.serializer)}createPersistence(e){return new pf(gf.jr,this.serializer)}createSharedClientState(e){return new sh}terminate(){var e=this;return(0,c.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gg extends oc{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield zg(s.Qa.syncEngine),yield Oc(s.Qa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Av(this.persistence,new $y,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new ky(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new ta(r,this.persistence);return new pu(e.asyncQueue,s)}createPersistence(e){const r=yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new Pc(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,Mv(),Tf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new sh}}class Yv extends Gg{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e);const u=s.Qa.syncEngine;s.sharedClientState instanceof Ef&&(s.sharedClientState.syncEngine={Ys:qv.bind(null,u),Zs:Qv.bind(null,u),Xs:f0.bind(null,u),Li:Bg.bind(null,u),Js:c0.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var h=(0,c.A)(function*(g){yield function d0(o,e){return aa.apply(this,arguments)}(s.Qa.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return h.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Mv();if(!Ef.D(r))throw new Bt(It.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ef(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class wd{initialize(e,r){var s=this;return(0,c.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Fg(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=a0.bind(null,s.syncEngine),yield tc(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zy}createDatastore(e){const r=ah(e.databaseInfo.databaseId),s=new Pv(e.databaseInfo);return new lh(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,h=e.asyncQueue,g=r=>Fg(this.syncEngine,r,0),b=Af.D()?new Af:new Hy,new xv(s,u,h,g,b);var s,u,h,g,b}createSyncEngine(e,r){return function(u,h,g,b,O,K,fe){const Fe=new Hv(u,h,g,b,O,K);return fe&&(Fe.La=!0),Fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,c.A)(function*(){var r,s;yield(s=(0,c.A)(function*(h){const g=Et(h);E("RemoteStore","RemoteStore shutting down."),g.M_.add(5),yield pd(g),g.O_.shutdown(),g.N_.set("Unknown")}),function u(h){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Jv(o,e=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<o.byteLength){const s={value:o.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Xa{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):H("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Wg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Zn,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,c.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,c.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,c.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),u=Number(s);isNaN(u)&&e.ja(`length string (${s}) is not valid number`);const h=yield e.Ha(u);return new Uv(JSON.parse(h),r.length+u)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,c.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,c.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class m0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Bt(It.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,c.A)(function*(g,b){const O=Et(g),K={documents:b.map(Vt=>Hu(O.serializer,Vt))},fe=yield O.Mo("BatchGetDocuments",O.serializer.databaseId,Pr.emptyPath(),K,b.length),Fe=new Map;fe.forEach(Vt=>{const wn=function Dy(o,e){return"found"in e?function(s,u){De(!!u.found);const h=Ka(s,u.found.name),g=Co(u.found.updateTime),b=u.found.createTime?Co(u.found.createTime):an.min(),O=new Mo({mapValue:{fields:u.found.fields}});return qi.newFoundDocument(h,g,b,O)}(o,e):"missing"in e?function(s,u){De(!!u.missing),De(!!u.readTime);const h=Ka(s,u.missing),g=Co(u.readTime);return qi.newNoDocument(h,g)}(o,e):ee()}(O.serializer,Vt);Fe.set(wn.key.toString(),wn)});const ht=[];return b.forEach(Vt=>{const wn=Fe.get(Vt.toString());De(!!wn),ht.push(wn)}),ht}),function h(g,b){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const h=En.fromPath(u);e.mutations.push(new jp(h,e.precondition(h)))}),yield(s=(0,c.A)(function*(h,g){const b=Et(h),O={writes:g.map(K=>Ec(b.serializer,K))};yield b.Do("Commit",b.serializer.databaseId,Pr.emptyPath(),O)}),function u(h,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw ee();r=an.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Bt(It.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(an.min())?Fr.exists(!1):Fr.updateTime(r):Fr.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(an.min()))throw new Bt(It.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fr.updateTime(r)}return Fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class v0{constructor(e,r,s,u,h){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=h,this.Za=s.maxAttempts,this.Jo=new Ig(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Jo.Ko((0,c.A)(function*(){const r=new m0(e.datastore),s=e.tu(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.nu(h)}))}).catch(u=>{e.nu(u)})}))}tu(e){try{const r=this.updateFunction(e);return!nl(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!zp(r)}return!1}}class Zv{constructor(e,r,s,u){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=Zi.UNAUTHENTICATED,this.clientId=to.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,c.A)(function*(b){E("FirestoreClient","Received user=",b.uid),yield h.authCredentialListener(b),h.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(E("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(It.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=_d(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Th(o,e){return bd.apply(this,arguments)}function bd(){return bd=(0,c.A)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");const r=o.configuration;yield e.initialize(r);let s=r.initialUser;o.setCredentialChangeListener(function(){var u=(0,c.A)(function*(h){s.isEqual(h)||(yield Cv(e.localStore,h),s=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),bd.apply(this,arguments)}function Dh(o,e){return e_.apply(this,arguments)}function e_(){return e_=(0,c.A)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const r=yield Hf(o);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,o.configuration),o.setCredentialChangeListener(s=>Pf(e.remoteStore,s)),o.setAppCheckTokenChangeListener((s,u)=>Pf(e.remoteStore,u)),o._onlineComponents=e}),e_.apply(this,arguments)}function Kg(o){return"FirebaseError"===o.name?o.code===It.FAILED_PRECONDITION||o.code===It.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function Hf(o){return zf.apply(this,arguments)}function zf(){return zf=(0,c.A)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Th(o,o._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Kg(r))throw r;Oe("Error using user provided cache. Falling back to memory cache: "+r),yield Th(o,new oc)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield Th(o,new oc);return o._offlineComponents}),zf.apply(this,arguments)}function Uc(o){return wh.apply(this,arguments)}function wh(){return wh=(0,c.A)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield Dh(o,o._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield Dh(o,new wd))),o._onlineComponents}),wh.apply(this,arguments)}function lu(o){return Hf(o).then(e=>e.persistence)}function Sd(o){return Hf(o).then(e=>e.localStore)}function t_(o){return Uc(o).then(e=>e.remoteStore)}function bh(o){return Uc(o).then(e=>e.syncEngine)}function uu(o){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,c.A)(function*(o){const e=yield Uc(o),r=e.eventManager;return r.onListen=Of.bind(null,e.syncEngine),r.onUnlisten=n0.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=zv.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=r0.bind(null,e.syncEngine),r}),Gf.apply(this,arguments)}function Pd(o,e,r={}){const s=new Zn;return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(h,g,b,O,K){const fe=new Xa({next:ht=>{g.enqueueAndForget(()=>Ed(h,Fe));const Vt=ht.docs.has(b);!Vt&&ht.fromCache?K.reject(new Bt(It.UNAVAILABLE,"Failed to get document because the client is offline.")):Vt&&ht.fromCache&&O&&"server"===O.source?K.reject(new Bt(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(ht)},error:ht=>K.reject(ht)}),Fe=new Nf($i(b.path),fe,{includeMetadataChanges:!0,ra:!0});return Mf(h,Fe)}(yield uu(o),o.asyncQueue,e,r,s)})),s.promise}function Xg(o,e,r={}){const s=new Zn;return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(h,g,b,O,K){const fe=new Xa({next:ht=>{g.enqueueAndForget(()=>Ed(h,Fe)),ht.fromCache&&"server"===O.source?K.reject(new Bt(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(ht)},error:ht=>K.reject(ht)}),Fe=new Nf(b,fe,{includeMetadataChanges:!0,ra:!0});return Mf(h,Fe)}(yield uu(o),o.asyncQueue,e,r,s)})),s.promise}function o_(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const A0=new Map;function Qg(o,e,r){if(!r)throw new Bt(It.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function s_(o,e,r,s){if(!0===e&&!0===s)throw new Bt(It.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function Yg(o){if(!En.isDocumentKey(o))throw new Bt(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function a_(o){if(En.isDocumentKey(o))throw new Bt(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function Kf(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(s=o).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof o?"a function":ee()}function ui(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Bt(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Kf(o);throw new Bt(It.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return o}function qf(o,e){if(e<=0)throw new Bt(It.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class Jg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=o_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Bt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Bt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Bt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Du{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Or;switch(s.type){case"firstParty":return new gn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Bt(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=A0.get(r);s&&(E("ComponentProvider","Removing Datastore"),A0.delete(r),s.terminate())}(this),Promise.resolve()}}function Md(o,e,r,s={}){var u;const h=(o=ui(o,Du))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&Oe("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),s.mockUserToken){let b,O;if("string"==typeof s.mockUserToken)b=s.mockUserToken,O=Zi.MOCK_USER;else{b=(0,Y.Fy)(s.mockUserToken,null===(u=o._app)||void 0===u?void 0:u.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new Bt(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Zi(K)}o._authCredentials=new Hr(new Cr(b,O))}}class Jo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Bo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bo(this.firestore,e,this._key)}}class cu extends Jo{constructor(e,r,s){super(e,r,$i(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bo(this.firestore,null,new En(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function C0(o,e,...r){if(o=(0,Y.Ku)(o),Qg("collection","path",e),o instanceof Du){const s=Pr.fromString(e,...r);return a_(s),new cu(o,null,s)}{if(!(o instanceof Bo||o instanceof cu))throw new Bt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Pr.fromString(e,...r));return a_(s),new cu(o.firestore,null,s)}}function Xf(o,e){if(o=ui(o,Du),Qg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(It.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jo(o,null,(s=e,new Mr(Pr.emptyPath(),s)));var s}function Qf(o,e,...r){if(o=(0,Y.Ku)(o),1===arguments.length&&(e=to.newId()),Qg("doc","path",e),o instanceof Du){const s=Pr.fromString(e,...r);return Yg(s),new Bo(o,null,new En(s))}{if(!(o instanceof Bo||o instanceof cu))throw new Bt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(Pr.fromString(e,...r));return Yg(s),new Bo(o.firestore,o instanceof cu?o.converter:null,new En(s))}}function T0(o,e){return o=(0,Y.Ku)(o),e=(0,Y.Ku)(e),(o instanceof Bo||o instanceof cu)&&(e instanceof Bo||e instanceof cu)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function l_(o,e){return o=(0,Y.Ku)(o),e=(0,Y.Ku)(e),o instanceof Jo&&e instanceof Jo&&o.firestore===e.firestore&&Ml(o._query,e._query)&&o.converter===e.converter}class _E{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ig(this,"async_queue_retry"),this.hu=()=>{const r=Tf();r&&E("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Jo.Uo()};const e=Tf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=Tf();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Zn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,c.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(r){if(!Us(r))throw r;E("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,H("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const u=vd.createAndSchedule(this,e,r,s,h=>this.Eu(h));return this._u.push(u),u}Pu(){this.au&&ee()}verifyOperationInProgress(){}du(){var e=this;return(0,c.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Zg(o){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const h of["next","error","complete"])if(h in u&&"function"==typeof u[h])return!0;return!1}(o)}class D0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const yE=-1;class fo extends Du{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new _E,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||u_(this),this._firestoreClient.terminate()}}function w0(o,e){const r="object"==typeof o?o:(0,d.getApp)(),s="string"==typeof o?o:e||"(default)",u=(0,d._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=(0,Y.yU)("firestore");h&&Md(u,...h)}return u}function jo(o){return o._firestoreClient||u_(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function u_(o){var e,r,s;const u=o._freezeSettings(),h=(O=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Ou(o._databaseId,O,o._persistenceKey,(fe=u).host,fe.ssl,fe.experimentalForceLongPolling,fe.experimentalAutoDetectLongPolling,o_(fe.experimentalLongPollingOptions),fe.useFetchStreams));var O,fe;o._firestoreClient=new Zv(o._authCredentials,o._appCheckCredentials,o._queue,h),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function em(o,e){f_(o=ui(o,fo));const r=jo(o);if(r._uninitializedComponentsProvider)throw new Bt(It.FAILED_PRECONDITION,"SDK cache is already specified.");Oe("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=o._freezeSettings(),u=new wd;return Yf(r,u,new Gg(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Rh(o){f_(o=ui(o,fo));const e=jo(o);if(e._uninitializedComponentsProvider)throw new Bt(It.FAILED_PRECONDITION,"SDK cache is already specified.");Oe("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=o._freezeSettings(),s=new wd;return Yf(e,s,new Yv(s,r.cacheSizeBytes))}function Yf(o,e,r){const s=new Zn;return o.asyncQueue.enqueue((0,c.A)(function*(){try{yield Th(o,r),yield Dh(o,e),s.resolve()}catch(u){const h=u;if(!Kg(h))throw h;Oe("Error enabling indexeddb cache. Falling back to memory cache: "+h),s.reject(h)}})).then(()=>s.promise)}function Jf(o){if(o._initialized&&!o._terminated)throw new Bt(It.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zn;return o._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(u){if(!ms.D())return Promise.resolve();const h=u+"main";yield ms.delete(h)}),function s(u){return r.apply(this,arguments)})(yv(o._databaseId,o._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function c_(o){return function(r){const s=new Zn;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Dd(o,e){return Ih.apply(this,arguments)}(yield bh(r),s)})),s.promise}(jo(o=ui(o,fo)))}function Ph(o){return function Rd(o){return o.asyncQueue.enqueue((0,c.A)(function*(){const e=yield lu(o),r=yield t_(o);return e.setNetworkEnabled(!0),function(u){const h=Et(u);return h.M_.delete(0),uh(h)}(r)}))}(jo(o=ui(o,fo)))}function d_(o){return function Sh(o){return o.asyncQueue.enqueue((0,c.A)(function*(){const e=yield lu(o),r=yield t_(o);return e.setNetworkEnabled(!1),(s=(0,c.A)(function*(h){const g=Et(h);g.M_.add(0),yield pd(g),g.N_.set("Offline")}),function u(h){return s.apply(this,arguments)})(r);var s}))}(jo(o=ui(o,fo)))}function Mh(o,e){const r=jo(o=ui(o,fo)),s=new D0;return function y0(o,e,r,s){const u=function(g,b){let O;return O="string"==typeof g?Wp().encode(g):g,fe=function(fe,Fe){if(fe instanceof Uint8Array)return Jv(fe,void 0);if(fe instanceof ArrayBuffer)return Jv(new Uint8Array(fe),void 0);if(fe instanceof ReadableStream)return fe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new Wg(fe,b);var fe}(r,ah(e));o.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function p0(o,e,r){const s=Et(o);var u;(u=(0,c.A)(function*(g,b,O){try{const K=yield b.getMetadata();if(yield function(wn,xn){const bn=Et(wn),vr=Co(xn.createTime);return bn.persistence.runTransaction("hasNewerBundle","readonly",Ur=>bn.Kr.getBundleMetadata(Ur,xn.id)).then(Ur=>!!Ur&&Ur.createTime.compareTo(vr)>=0)}(g.localStore,K))return yield b.close(),O._completeWith({taskState:"Success",documentsLoaded:(wn=K).totalDocuments,bytesLoaded:wn.totalBytes,totalDocuments:wn.totalDocuments,totalBytes:wn.totalBytes}),Promise.resolve(new Set);O._updateProgress(vh(K));const fe=new vE(K,g.localStore,b.serializer);let Fe=yield b.qa();for(;Fe;){const Vt=yield fe._a(Fe);Vt&&O._updateProgress(Vt),Fe=yield b.qa()}const ht=yield fe.complete();return yield Tu(g,ht.ca,void 0),yield function(wn,xn){const bn=Et(wn);return bn.persistence.runTransaction("Save bundle","readwrite",vr=>bn.Kr.saveBundleMetadata(vr,xn))}(g.localStore,K),O._completeWith(ht.progress),Promise.resolve(ht.ua)}catch(K){return Oe("SyncEngine",`Loading bundle failed with ${K}`),O._failWith(K),Promise.resolve(new Set)}var wn}),function h(g,b,O){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield bh(o),u,s)}))}(r,o._databaseId,e,s),s}function h_(o,e){return function I0(o,e){return o.asyncQueue.enqueue((0,c.A)(function*(){return function(s,u){const h=Et(s);return h.persistence.runTransaction("Get named query","readonly",g=>h.Kr.getNamedQuery(g,u))}(yield Sd(o),e)}))}(jo(o=ui(o,fo)),e).then(r=>r?new Jo(o,null,r.query):null)}function f_(o){if(o._initialized||o._terminated)throw new Bt(It.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kl(bi.fromBase64String(e))}catch(r){throw new Bt(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new kl(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Bt(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $c{constructor(e){this._methodName=e}}class Zf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Bt(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Bt(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dr(this._lat,e._lat)||dr(this._long,e._long)}}const S0=/^__.*__$/;class tm{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Nl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ic(e,this.data,r,this.fieldTransforms)}}class Nd{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Nl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function p_(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Bc{constructor(e,r,s,u,h,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===h&&this.mu(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Bc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.wu(e),u}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ap(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(p_(this.fu)&&S0.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ep{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||ah(e)}Fu(e,r,s,u=!1){return new Bc({fu:e,methodName:r,vu:s,path:mr.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(o){const e=o._freezeSettings(),r=ah(o._databaseId);return new ep(o._databaseId,!!e.ignoreUndefinedProperties,r)}function tp(o,e,r,s,u,h={}){const g=o.Fu(h.merge||h.mergeFields?2:0,e,r,u);sp("Data must be an object, but it was:",g,s);const b=op(s,g);let O,K;if(h.merge)O=new vs(g.fieldMask),K=g.fieldTransforms;else if(h.mergeFields){const fe=[];for(const Fe of h.mergeFields){const ht=Nh(e,Fe,r);if(!g.contains(ht))throw new Bt(It.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);Oh(fe,ht)||fe.push(ht)}O=new vs(fe),K=g.fieldTransforms.filter(Fe=>O.covers(Fe.field))}else O=null,K=g.fieldTransforms;return new tm(new Mo(b),O,K)}class xh extends $c{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function np(o,e,r){return new Bc({fu:3,vu:e.settings.vu,methodName:o._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nm extends $c{_toFieldTransform(e){return new _u(e.path,new sa)}isEqual(e){return e instanceof nm}}class rp extends $c{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=np(this,e,!0),s=this.Mu.map(h=>ll(h,r)),u=new Wa(s);return new _u(e.path,u)}isEqual(e){return e instanceof rp&&(0,Y.bD)(this.Mu,e.Mu)}}class rm extends $c{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=np(this,e,!0),s=this.Mu.map(h=>ll(h,r)),u=new xl(s);return new _u(e.path,u)}isEqual(e){return e instanceof rm&&(0,Y.bD)(this.Mu,e.Mu)}}class im extends $c{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new va(e.serializer,ln(e.serializer,this.xu));return new _u(e.path,r)}isEqual(e){return e instanceof im&&this.xu===e.xu}}function ip(o,e,r,s){const u=o.Fu(1,e,r);sp("Data must be an object, but it was:",u,s);const h=[],g=Mo.empty();Gr(s,(O,K)=>{const fe=sm(e,O,r);K=(0,Y.Ku)(K);const Fe=u.Su(fe);if(K instanceof xh)h.push(fe);else{const ht=ll(K,Fe);null!=ht&&(h.push(fe),g.set(fe,ht))}});const b=new vs(h);return new Nd(g,b,u.fieldTransforms)}function om(o,e,r,s,u,h){const g=o.Fu(1,e,r),b=[Nh(e,s,r)],O=[u];if(h.length%2!=0)throw new Bt(It.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<h.length;ht+=2)b.push(Nh(e,h[ht])),O.push(h[ht+1]);const K=[],fe=Mo.empty();for(let ht=b.length-1;ht>=0;--ht)if(!Oh(K,b[ht])){const Vt=b[ht];let wn=O[ht];wn=(0,Y.Ku)(wn);const xn=g.Su(Vt);if(wn instanceof xh)K.push(Vt);else{const bn=ll(wn,xn);null!=bn&&(K.push(Vt),fe.set(Vt,bn))}}const Fe=new vs(K);return new Nd(fe,Fe,g.fieldTransforms)}function g_(o,e,r,s=!1){return ll(r,o.Fu(s?4:3,e))}function ll(o,e){if(m_(o=(0,Y.Ku)(o)))return sp("Unsupported field value:",e,o),op(o,e);if(o instanceof $c)return function(s,u){if(!p_(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,u){const h=[];let g=0;for(const b of s){let O=ll(b,u.bu(g));null==O&&(O={nullValue:"NULL_VALUE"}),h.push(O),g++}return{arrayValue:{values:h}}}(o,e)}return function(s,u){if(null===(s=(0,Y.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ln(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=Dr.fromDate(s);return{timestampValue:_a(u.serializer,h)}}if(s instanceof Dr){const h=new Dr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_a(u.serializer,h)}}if(s instanceof Zf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kl)return{bytesValue:Gm(u.serializer,s._byteString)};if(s instanceof Bo){const h=u.databaseId,g=s.firestore._databaseId;if(!g.isEqual(h))throw u.Du(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qp(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${Kf(s)}`)}(o,e)}function op(o,e){const r={};return Nu(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(o,(s,u)=>{const h=ll(u,e.pu(s));null!=h&&(r[s]=h)}),{mapValue:{fields:r}}}function m_(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Dr||o instanceof Zf||o instanceof kl||o instanceof Bo||o instanceof $c)}function sp(o,e,r){if(!m_(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Kf(r);throw e.Du("an object"===s?o+" a custom object":o+" "+s)}var u}function Nh(o,e,r){if((e=(0,Y.Ku)(e))instanceof sc)return e._internalPath;if("string"==typeof e)return sm(o,e);throw ap("Field path arguments must be of type string or ",o,!1,void 0,r)}const v_=new RegExp("[~\\*/\\[\\]]");function sm(o,e,r){if(e.search(v_)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,r);try{return new sc(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,r)}}function ap(o,e,r,s,u){const h=s&&!s.isEmpty(),g=void 0!==u;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let O="";return(h||g)&&(O+=" (found",h&&(O+=` in field ${s}`),g&&(O+=` in document ${u}`),O+=")"),new Bt(It.INVALID_ARGUMENT,b+o+O)}function Oh(o,e){return o.some(r=>r.isEqual(e))}class kd{constructor(e,r,s,u,h){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Bo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new R0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class R0 extends kd{data(){return super.data()}}function lp(o,e){return"string"==typeof e?sm(o,e):e instanceof sc?e._internalPath:e._delegate._internalPath}function __(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new Bt(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kh{}class up extends kh{}function y_(o,e,...r){let s=[];e instanceof kh&&s.push(e),s=s.concat(r),function(h){const g=h.filter(O=>O instanceof Hc).length,b=h.filter(O=>O instanceof Oa).length;if(g>1||g>0&&b>0)throw new Bt(It.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)o=u._apply(o);return o}class Oa extends up{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Oa(e,r,s)}_apply(e){const r=this._parse(e);return Fd(e._query,r),new Jo(e.firestore,e.converter,oa(e._query,r))}_parse(e){const r=Od(e.firestore);return function(h,g,b,O,K,fe,Fe){let ht;if(K.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new Bt(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){wu(Fe,fe);const Vt=[];for(const wn of Fe)Vt.push(lm(O,h,wn));ht={arrayValue:{values:Vt}}}else ht=lm(O,h,Fe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||wu(Fe,fe),ht=g_(b,"where",Fe,"in"===fe||"not-in"===fe);return ei.create(K,fe,ht)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(o,e,r){const s=e,u=lp("where",o);return Oa._create(u,s,r)}class Hc extends kh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Hc(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:_i.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,h){let g=u;const b=h.getFlattenedFilters();for(const O of b)Fd(g,O),g=oa(g,O)}(e._query,r),new Jo(e.firestore,e.converter,oa(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cp extends up{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new cp(e,r)}_apply(e){const r=function(u,h,g){if(null!==u.startAt)throw new Bt(It.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Bt(It.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(h,g)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(u,h){const g=u.explicitOrderBy.concat([h]);return new Mr(u.path,u.collectionGroup,g,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function E_(o,e="asc"){const r=e,s=lp("orderBy",o);return cp._create(s,r)}class Fh extends up{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Fh(e,r,s)}_apply(e){return new Jo(e.firestore,e.converter,Yl(e._query,this._limit,this._limitType))}}function Lh(o){return qf("limit",o),Fh._create("limit",o,"F")}function am(o){return qf("limitToLast",o),Fh._create("limitToLast",o,"L")}class Fl extends up{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Fl(e,r,s)}_apply(e){const r=hp(e,this.type,this._docOrFields,this._inclusive);return new Jo(e.firestore,e.converter,(h=r,new Mr((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,h,u.endAt)));var u,h}}function dp(...o){return Fl._create("startAt",o,!0)}function A_(...o){return Fl._create("startAfter",o,!1)}class ac extends up{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new ac(e,r,s)}_apply(e){const r=hp(e,this.type,this._docOrFields,this._inclusive);return new Jo(e.firestore,e.converter,(h=r,new Mr((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,h)));var u,h}}function P0(...o){return ac._create("endBefore",o,!1)}function M0(...o){return ac._create("endAt",o,!0)}function hp(o,e,r,s){if(r[0]=(0,Y.Ku)(r[0]),r[0]instanceof kd)return function(h,g,b,O,K){if(!O)throw new Bt(It.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const fe=[];for(const Fe of ki(h))if(Fe.field.isKeyField())fe.push(bl(g,O.key));else{const ht=O.data.field(Fe.field);if(Sa(ht))throw new Bt(It.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){const Vt=Fe.field.canonicalString();throw new Bt(It.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Vt}' (used as the orderBy) does not exist.`)}fe.push(ht)}return new Pa(fe,K)}(o._query,o.firestore._databaseId,e,r[0]._document,s);{const u=Od(o.firestore);return function(g,b,O,K,fe,Fe){const ht=g.explicitOrderBy;if(fe.length>ht.length)throw new Bt(It.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Vt=[];for(let wn=0;wn<fe.length;wn++){const xn=fe[wn];if(ht[wn].field.isKeyField()){if("string"!=typeof xn)throw new Bt(It.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof xn}`);if(!Ir(g)&&-1!==xn.indexOf("/"))throw new Bt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${xn}' contains a slash.`);const bn=g.path.child(Pr.fromString(xn));if(!En.isDocumentKey(bn))throw new Bt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${bn}' is not because it contains an odd number of segments.`);const vr=new En(bn);Vt.push(bl(b,vr))}else{const bn=g_(O,K,xn);Vt.push(bn)}}return new Pa(Vt,Fe)}(o._query,o.firestore._databaseId,u,e,r,s)}}function lm(o,e,r){if("string"==typeof(r=(0,Y.Ku)(r))){if(""===r)throw new Bt(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ir(e)&&-1!==r.indexOf("/"))throw new Bt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Pr.fromString(r));if(!En.isDocumentKey(s))throw new Bt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bl(o,new En(s))}if(r instanceof Bo)return bl(o,r._key);throw new Bt(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(r)}.`)}function wu(o,e){if(!Array.isArray(o)||0===o.length)throw new Bt(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fd(o,e){const r=function(u,h){for(const g of u)for(const b of g.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null}(o.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Bt(It.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Ld{convertValue(e,r="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return no(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw ee()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Gr(e,(u,h)=>{s[u]=this.convertValue(h,r)}),s}convertGeoPoint(e){return new Zf(no(e.latitude),no(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Ha(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Bs(e));default:return null}}convertTimestamp(e){const r=pa(e);return new Dr(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Pr.fromString(e);De(ev(s));const u=new js(s.get(1),s.get(3)),h=new En(s.popFirst(5));return u.isEqual(r)||H(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function Vh(o,e,r){let s;return s=o?r&&(r.merge||r.mergeFields)?o.toFirestore(e,r):o.toFirestore(e):e,s}class C_ extends Ld{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bo(this.firestore,null,r)}}class zc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gc extends kd{constructor(e,r,s,u,h,g){super(e,r,s,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class $h extends Gc{data(e={}){return super.data(e)}}class Wc{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new zc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new $h(this._firestore,this._userDataWriter,s.key,s,new zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Bt(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map(b=>({type:"added",doc:new $h(u._firestore,u._userDataWriter,b.doc.key,b.doc,new zc(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:g++}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(b=>h||3!==b.type).map(b=>{const O=new $h(u._firestore,u._userDataWriter,b.doc.key,b.doc,new zc(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter);let K=-1,fe=-1;return 0!==b.type&&(K=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),fe=g.indexOf(b.doc.key)),{type:N0(b.type),doc:O,oldIndex:K,newIndex:fe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function N0(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function O0(o,e){return o instanceof Gc&&e instanceof Gc?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof Wc&&e instanceof Wc&&o._firestore===e._firestore&&l_(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function fp(o){o=ui(o,Bo);const e=ui(o.firestore,fo);return Pd(jo(e),o._key).then(r=>hm(e,o,r))}class lc extends Ld{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bo(this.firestore,null,r)}}function k0(o){o=ui(o,Bo);const e=ui(o.firestore,fo),r=jo(e),s=new lc(e);return function qg(o,e){const r=new Zn;return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(h,g,b){try{const O=yield function(fe,Fe){const ht=Et(fe);return ht.persistence.runTransaction("read document","readonly",Vt=>ht.localDocuments.getDocument(Vt,Fe))}(h,g);O.isFoundDocument()?b.resolve(O):O.isNoDocument()?b.resolve(null):b.reject(new Bt(It.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const K=_d(O,`Failed to get document '${g} from cache`);b.reject(K)}}),function u(h,g,b){return s.apply(this,arguments)})(yield Sd(o),e,r);var s})),r.promise}(r,o._key).then(u=>new Gc(e,s,o._key,u,new zc(null!==u&&u.hasLocalMutations,!0),o.converter))}function T_(o){o=ui(o,Bo);const e=ui(o.firestore,fo);return Pd(jo(e),o._key,{source:"server"}).then(r=>hm(e,o,r))}function D_(o){o=ui(o,Jo);const e=ui(o.firestore,fo),r=jo(e),s=new lc(e);return __(o._query),Xg(r,o._query).then(u=>new Wc(e,s,o,u))}function cm(o){o=ui(o,Jo);const e=ui(o.firestore,fo),r=jo(e),s=new lc(e);return function r_(o,e){const r=new Zn;return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(h,g,b){try{const O=yield gg(h,g,!0),K=new xg(g,O.ls),fe=K.da(O.documents),Fe=K.applyChanges(fe,!1);b.resolve(Fe.snapshot)}catch(O){const K=_d(O,`Failed to execute query '${g} against cache`);b.reject(K)}}),function u(h,g,b){return s.apply(this,arguments)})(yield Sd(o),e,r);var s})),r.promise}(r,o._query).then(u=>new Wc(e,s,o,u))}function w_(o){o=ui(o,Jo);const e=ui(o.firestore,fo),r=jo(e),s=new lc(e);return Xg(r,o._query,{source:"server"}).then(u=>new Wc(e,s,o,u))}function F0(o,e,r){o=ui(o,Bo);const s=ui(o.firestore,fo),u=Vh(o.converter,e,r);return Vd(s,[tp(Od(s),"setDoc",o._key,u,null!==o.converter,r).toMutation(o._key,Fr.none())])}function b_(o,e,r,...s){o=ui(o,Bo);const u=ui(o.firestore,fo),h=Od(u);let g;return g="string"==typeof(e=(0,Y.Ku)(e))||e instanceof sc?om(h,"updateDoc",o._key,e,r,s):ip(h,"updateDoc",o._key,e),Vd(u,[g.toMutation(o._key,Fr.exists(!0))])}function dm(o){return Vd(ui(o.firestore,fo),[new Zc(o._key,Fr.none())])}function S_(o,e){const r=ui(o.firestore,fo),s=Qf(o),u=Vh(o.converter,e);return Vd(r,[tp(Od(o.firestore),"addDoc",s._key,u,null!==o.converter,{}).toMutation(s._key,Fr.exists(!1))]).then(()=>s)}function R_(o,...e){var r,s,u;o=(0,Y.Ku)(o);let h={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||Zg(e[g])||(h=e[g],g++);const b={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Zg(e[g])){const Fe=e[g];e[g]=null===(r=Fe.next)||void 0===r?void 0:r.bind(Fe),e[g+1]=null===(s=Fe.error)||void 0===s?void 0:s.bind(Fe),e[g+2]=null===(u=Fe.complete)||void 0===u?void 0:u.bind(Fe)}let O,K,fe;if(o instanceof Bo)K=ui(o.firestore,fo),fe=$i(o._key.path),O={next:Fe=>{e[g]&&e[g](hm(K,o,Fe))},error:e[g+1],complete:e[g+2]};else{const Fe=ui(o,Jo);K=ui(Fe.firestore,fo),fe=Fe._query;const ht=new lc(K);O={next:Vt=>{e[g]&&e[g](new Wc(K,ht,Fe,Vt))},error:e[g+1],complete:e[g+2]},__(o._query)}return function(ht,Vt,wn,xn){const bn=new Xa(xn),vr=new Nf(Vt,bn,wn);return ht.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Mf(yield uu(ht),vr)})),()=>{bn.$a(),ht.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Ed(yield uu(ht),vr)}))}}(jo(K),fe,b,O)}function L0(o,e){return function _0(o,e){const r=new Xa(e);return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield uu(o),h=r,Et(u).z_.add(h),void h.next();var u,h})),()=>{r.$a(),o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield uu(o),h=r,void Et(u).z_.delete(h);var u,h}))}}(jo(o=ui(o,fo)),Zg(e)?e:{next:e})}function Vd(o,e){return function(s,u){const h=new Zn;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function o0(o,e,r){return Lf.apply(this,arguments)}(yield bh(s),u,h)})),h.promise}(jo(o),e)}function hm(o,e,r){const s=r.docs.get(e._key),u=new lc(o);return new Gc(o,u,e._key,s,new zc(r.hasPendingWrites,r.fromCache),e.converter)}const N_={maxAttempts:5};class O_{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,r,s){this._verifyNotCommitted();const u=bu(e,this._firestore),h=Vh(u.converter,r,s),g=tp(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,s);return this._mutations.push(g.toMutation(u._key,Fr.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const h=bu(e,this._firestore);let g;return g="string"==typeof(r=(0,Y.Ku)(r))||r instanceof sc?om(this._dataReader,"WriteBatch.update",h._key,r,s,u):ip(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(g.toMutation(h._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=bu(e,this._firestore);return this._mutations=this._mutations.concat(new Zc(r._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(It.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bu(o,e){if((o=(0,Y.Ku)(o)).firestore!==e)throw new Bt(It.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class B0 extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Od(r)}get(r){const s=bu(r,this._firestore),u=new C_(this._firestore);return this._transaction.lookup([s._key]).then(h=>{if(!h||1!==h.length)return ee();const g=h[0];if(g.isFoundDocument())return new kd(this._firestore,u,g.key,g,s.converter);if(g.isNoDocument())return new kd(this._firestore,u,s._key,null,s.converter);throw ee()})}set(r,s,u){const h=bu(r,this._firestore),g=Vh(h.converter,s,u),b=tp(this._dataReader,"Transaction.set",h._key,g,null!==h.converter,u);return this._transaction.set(h._key,b),this}update(r,s,u,...h){const g=bu(r,this._firestore);let b;return b="string"==typeof(s=(0,Y.Ku)(s))||s instanceof sc?om(this._dataReader,"Transaction.update",g._key,s,u,h):ip(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,b),this}delete(r){const s=bu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=bu(e,this._firestore),s=new lc(this._firestore);return super.get(e).then(u=>new Gc(this._firestore,s,r._key,u._document,new zc(!1,!1),r.converter))}}function _m(o,e,r){o=ui(o,fo);const s=Object.assign(Object.assign({},N_),r);return function(h){if(h.maxAttempts<1)throw new Bt(It.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(h,g,b){const O=new Zn;return h.asyncQueue.enqueueAndForget((0,c.A)(function*(){const K=yield function n_(o){return Uc(o).then(e=>e.datastore)}(h);new v0(h.asyncQueue,K,b,g,O).Xa()})),O.promise}(jo(o),u=>e(new B0(o,u)),s)}function k_(){return new xh("deleteField")}function F_(){return new nm("serverTimestamp")}function RE(...o){return new rp("arrayUnion",o)}function PE(...o){return new rm("arrayRemove",o)}function j0(o){return new im("increment",o)}!function(e,r=!0){ks=d.SDK_VERSION,(0,d._registerComponent)(new V.uA("firestore",(s,{instanceIdentifier:u,options:h})=>{const g=s.getProvider("app").getImmediate(),b=new fo(new eo(s.getProvider("auth-internal")),new ai(s.getProvider("app-check-internal")),function(K,fe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Bt(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(K.options.projectId,fe)}(g,u),g);return h=Object.assign({useFetchStreams:r},h),b._setSettings(h),b},"PUBLIC").setMultipleInstances(!0)),(0,d.registerVersion)(ps,"4.6.1",e),(0,d.registerVersion)(ps,"4.6.1","esm2017")}()},1076:(hn,ft,N)=>{"use strict";N.d(ft,{Am:()=>Wn,Bd:()=>Dt,FA:()=>Me,Fy:()=>je,I9:()=>ur,Im:()=>zn,Ku:()=>rt,Ll:()=>we,T9:()=>tt,Tj:()=>et,Uj:()=>Ze,XA:()=>Se,ZQ:()=>dt,bD:()=>Be,cY:()=>ze,eX:()=>Z,g:()=>se,gR:()=>tr,hp:()=>Xn,jZ:()=>Ct,lT:()=>Wt,lV:()=>rn,nr:()=>Ne,sr:()=>kt,tD:()=>Zt,u:()=>_e,yU:()=>Qe,zW:()=>J,zw:()=>Ke});const Re=function(de){const Ee=[];let ne=0;for(let F=0;F<de.length;F++){let B=de.charCodeAt(F);B<128?Ee[ne++]=B:B<2048?(Ee[ne++]=B>>6|192,Ee[ne++]=63&B|128):55296==(64512&B)&&F+1<de.length&&56320==(64512&de.charCodeAt(F+1))?(B=65536+((1023&B)<<10)+(1023&de.charCodeAt(++F)),Ee[ne++]=B>>18|240,Ee[ne++]=B>>12&63|128,Ee[ne++]=B>>6&63|128,Ee[ne++]=63&B|128):(Ee[ne++]=B>>12|224,Ee[ne++]=B>>6&63|128,Ee[ne++]=63&B|128)}return Ee},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,Ee){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let B=0;B<de.length;B+=3){const Ie=de[B],Le=B+1<de.length,ut=Le?de[B+1]:0,Lt=B+2<de.length,$t=Lt?de[B+2]:0;let Ot=(15&ut)<<2|$t>>6,Tn=63&$t;Lt||(Tn=64,Le||(Ot=64)),F.push(ne[Ie>>2],ne[(3&Ie)<<4|ut>>4],ne[Ot],ne[Tn])}return F.join("")},encodeString(de,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(de):this.encodeByteArray(Re(de),Ee)},decodeString(de,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(de):function(de){const Ee=[];let ne=0,F=0;for(;ne<de.length;){const B=de[ne++];if(B<128)Ee[F++]=String.fromCharCode(B);else if(B>191&&B<224){const Ie=de[ne++];Ee[F++]=String.fromCharCode((31&B)<<6|63&Ie)}else if(B>239&&B<365){const Lt=((7&B)<<18|(63&de[ne++])<<12|(63&de[ne++])<<6|63&de[ne++])-65536;Ee[F++]=String.fromCharCode(55296+(Lt>>10)),Ee[F++]=String.fromCharCode(56320+(1023&Lt))}else{const Ie=de[ne++],Le=de[ne++];Ee[F++]=String.fromCharCode((15&B)<<12|(63&Ie)<<6|63&Le)}}return Ee.join("")}(this.decodeStringToByteArray(de,Ee))},decodeStringToByteArray(de,Ee){this.init_();const ne=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let B=0;B<de.length;){const Ie=ne[de.charAt(B++)],ut=B<de.length?ne[de.charAt(B)]:0;++B;const $t=B<de.length?ne[de.charAt(B)]:64;++B;const zt=B<de.length?ne[de.charAt(B)]:64;if(++B,null==Ie||null==ut||null==$t||null==zt)throw new ie;F.push(Ie<<2|ut>>4),64!==$t&&(F.push(ut<<4&240|$t>>2),64!==zt&&F.push($t<<6&192|zt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(de){return function(de){const Ee=Re(de);return ke.encodeByteArray(Ee,!0)}(de).replace(/\./g,"")},_e=function(de){try{return ke.decodeString(de,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function Ke(de,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return Ee}for(const ne in Ee)!Ee.hasOwnProperty(ne)||!qe(ne)||(de[ne]=Ke(de[ne],Ee[ne]));return de}function qe(de){return"__proto__"!==de}const Xe=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ee=de&&_e(de[1]);return Ee&&JSON.parse(Ee)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},et=de=>{var Ee,ne;return null===(ne=null===(Ee=Xe())||void 0===Ee?void 0:Ee.emulatorHosts)||void 0===ne?void 0:ne[de]},Qe=de=>{const Ee=et(de);if(!Ee)return;const ne=Ee.lastIndexOf(":");if(ne<=0||ne+1===Ee.length)throw new Error(`Invalid host ${Ee} with no separate hostname and port!`);const F=parseInt(Ee.substring(ne+1),10);return"["===Ee[0]?[Ee.substring(1,ne-1),F]:[Ee.substring(0,ne),F]},tt=()=>{var de;return null===(de=Xe())||void 0===de?void 0:de.config},Se=de=>{var Ee;return null===(Ee=Xe())||void 0===Ee?void 0:Ee[`_${de}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,ne)=>{this.resolve=Ee,this.reject=ne})}wrapCallback(Ee){return(ne,F)=>{ne?this.reject(ne):this.resolve(F),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(ne):Ee(ne,F))}}}function je(de,Ee){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=Ee||"demo-project",B=de.iat||0,Ie=de.sub||de.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:B,exp:B+3600,auth_time:B,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},de);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(Le)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function we(){var de;const Ee=null===(de=Xe())||void 0===de?void 0:de.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Dt(){return"object"==typeof self&&self.self===self}function kt(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const de=dt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Ne(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((de,Ee)=>{try{let ne=!0;const F="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(F);B.onsuccess=()=>{B.result.close(),ne||self.indexedDB.deleteDatabase(F),de(!0)},B.onupgradeneeded=()=>{ne=!1},B.onerror=()=>{var Ie;Ee((null===(Ie=B.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(ne){Ee(ne)}})}class se extends Error{constructor(Ee,ne,F){super(ne),this.code=Ee,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(Ee,ne,F){this.service=Ee,this.serviceName=ne,this.errors=F}create(Ee,...ne){const F=ne[0]||{},B=`${this.service}/${Ee}`,Ie=this.errors[Ee],Le=Ie?function Pe(de,Ee){return de.replace(lt,(ne,F)=>{const B=Ee[F];return null!=B?String(B):`<${F}?>`})}(Ie,F):"Error";return new se(B,`${this.serviceName}: ${Le} (${B}).`,F)}}const lt=/\{\$([^}]+)}/g;function tr(de,Ee){return Object.prototype.hasOwnProperty.call(de,Ee)}function zn(de){for(const Ee in de)if(Object.prototype.hasOwnProperty.call(de,Ee))return!1;return!0}function Be(de,Ee){if(de===Ee)return!0;const ne=Object.keys(de),F=Object.keys(Ee);for(const B of ne){if(!F.includes(B))return!1;const Ie=de[B],Le=Ee[B];if(Rt(Ie)&&Rt(Le)){if(!Be(Ie,Le))return!1}else if(Ie!==Le)return!1}for(const B of F)if(!ne.includes(B))return!1;return!0}function Rt(de){return null!==de&&"object"==typeof de}function Wn(de){const Ee=[];for(const[ne,F]of Object.entries(de))Array.isArray(F)?F.forEach(B=>{Ee.push(encodeURIComponent(ne)+"="+encodeURIComponent(B))}):Ee.push(encodeURIComponent(ne)+"="+encodeURIComponent(F));return Ee.length?"&"+Ee.join("&"):""}function ur(de){const Ee={};return de.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[B,Ie]=F.split("=");Ee[decodeURIComponent(B)]=decodeURIComponent(Ie)}}),Ee}function Xn(de){const Ee=de.indexOf("?");if(!Ee)return"";const ne=de.indexOf("#",Ee);return de.substring(Ee,ne>0?ne:void 0)}function Zt(de,Ee){const ne=new Nn(de,Ee);return ne.subscribe.bind(ne)}class Nn{constructor(Ee,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{Ee(this)}).catch(F=>{this.error(F)})}next(Ee){this.forEachObserver(ne=>{ne.next(Ee)})}error(Ee){this.forEachObserver(ne=>{ne.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,ne,F){let B;if(void 0===Ee&&void 0===ne&&void 0===F)throw new Error("Missing Observer.");B=function qn(de,Ee){if("object"!=typeof de||null===de)return!1;for(const ne of Ee)if(ne in de&&"function"==typeof de[ne])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:ne,complete:F},void 0===B.next&&(B.next=Qn),void 0===B.error&&(B.error=Qn),void 0===B.complete&&(B.complete=Qn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),Ie}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,Ee)}sendOne(Ee,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{ne(this.observers[Ee])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qn(){}function rt(de){return de&&de._delegate?de._delegate:de}},4442:(hn,ft,N)=>{"use strict";N.d(ft,{L:()=>Y,a:()=>ke,b:()=>ie,c:()=>Ce,d:()=>Ze,g:()=>mt}),N(5531);const Y="ionViewWillEnter",ke="ionViewDidEnter",ie="ionViewWillLeave",Ce="ionViewDidLeave",Ze="ionViewWillUnload",mt=Ne=>Ne.classList.contains("ion-page")?Ne:Ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ne},5531:(hn,ft,N)=>{"use strict";N.d(ft,{a:()=>_e,c:()=>d,g:()=>Ze});class c{constructor(){this.m=new Map}reset(Ne){this.m=new Map(Object.entries(Ne))}get(Ne,J){const Z=this.m.get(Ne);return void 0!==Z?Z:J}getBoolean(Ne,J=!1){const Z=this.m.get(Ne);return void 0===Z?J:"string"==typeof Z?"true"===Z:!!Z}getNumber(Ne,J){const Z=parseFloat(this.m.get(Ne));return isNaN(Z)?void 0!==J?J:NaN:Z}set(Ne,J){this.m.set(Ne,J)}}const d=new c,Ze=mt=>ge(mt),_e=(mt,Ne)=>("string"==typeof mt&&(Ne=mt,mt=void 0),Ze(mt).includes(Ne)),ge=(mt=window)=>{if(typeof mt>"u")return[];mt.Ionic=mt.Ionic||{};let Ne=mt.Ionic.platforms;return null==Ne&&(Ne=mt.Ionic.platforms=Ke(mt),Ne.forEach(J=>mt.document.documentElement.classList.add(`plt-${J}`))),Ne},Ke=mt=>{const Ne=d.get("platform");return Object.keys(rn).filter(J=>{const Z=null==Ne?void 0:Ne[J];return"function"==typeof Z?Z(mt):rn[J](mt)})},We=mt=>!!(Dt(mt,/iPad/i)||Dt(mt,/Macintosh/i)&&tt(mt)),ot=mt=>Dt(mt,/android|sink/i),tt=mt=>kt(mt,"(any-pointer:coarse)"),ze=mt=>je(mt)||dt(mt),je=mt=>!!(mt.cordova||mt.phonegap||mt.PhoneGap),dt=mt=>{const Ne=mt.Capacitor;return!(null==Ne||!Ne.isNative)},Dt=(mt,Ne)=>Ne.test(mt.navigator.userAgent),kt=(mt,Ne)=>{var J;return null===(J=mt.matchMedia)||void 0===J?void 0:J.call(mt,Ne).matches},rn={ipad:We,iphone:mt=>Dt(mt,/iPhone/i),ios:mt=>Dt(mt,/iPhone|iPod/i)||We(mt),android:ot,phablet:mt=>{const Ne=mt.innerWidth,J=mt.innerHeight,Z=Math.min(Ne,J),ce=Math.max(Ne,J);return Z>390&&Z<520&&ce>620&&ce<800},tablet:mt=>{const Ne=mt.innerWidth,J=mt.innerHeight,Z=Math.min(Ne,J),ce=Math.max(Ne,J);return We(mt)||(mt=>ot(mt)&&!Dt(mt,/mobile/i))(mt)||Z>460&&Z<820&&ce>780&&ce<1400},cordova:je,capacitor:dt,electron:mt=>Dt(mt,/electron/i),pwa:mt=>{var Ne;return!!(null!==(Ne=mt.matchMedia)&&void 0!==Ne&&Ne.call(mt,"(display-mode: standalone)").matches||mt.navigator.standalone)},mobile:tt,mobileweb:mt=>tt(mt)&&!ze(mt),desktop:mt=>!tt(mt),hybrid:ze}},9986:(hn,ft,N)=>{"use strict";N.d(ft,{c:()=>ke});var c=N(8476);let d;const Re=(ie,Ce,Ze)=>{const _e=Ce.startsWith("animation")?(ie=>(void 0===d&&(d=void 0===ie.style.animationName&&void 0!==ie.style.webkitAnimationName?"-webkit-":""),d))(ie):"";ie.style.setProperty(_e+Ce,Ze)},Y=(ie=[],Ce)=>{if(void 0!==Ce){const Ze=Array.isArray(Ce)?Ce:[Ce];return[...ie,...Ze]}return ie},ke=ie=>{let Ce,Ze,_e,ge,Ke,qe,Xe,Ct,we,Dt,Wt,We=[],nt=[],ct=[],ot=!1,et={},Qe=[],tt=[],Se={},ze=0,je=!1,dt=!1,kt=!0,rn=!1,fn=!0,mn=!1;const mt=ie,Ne=[],J=[],Z=[],ce=[],pe=[],se=[],Me=[],Pe=[],lt=[],Mt=[],wt=[],bt="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,nn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&bt,vn=()=>wt,zn=(te,Ve)=>{const St=Ve.findIndex(Nt=>Nt.c===te);St>-1&&Ve.splice(St,1)},Be=(te,Ve)=>((null!=Ve&&Ve.oneTimeCallback?J:Ne).push({c:te,o:Ve}),Wt),pn=()=>{nn&&(wt.forEach(te=>{te.cancel()}),wt.length=0)},Wn=()=>{se.forEach(te=>{null!=te&&te.parentNode&&te.parentNode.removeChild(te)}),se.length=0},Dn=()=>void 0!==Ke?Ke:Xe?Xe.getFill():"both",Sn=()=>void 0!==Ct?Ct:void 0!==qe?qe:Xe?Xe.getDirection():"normal",_r=()=>je?"linear":void 0!==_e?_e:Xe?Xe.getEasing():"linear",Un=()=>dt?0:void 0!==we?we:void 0!==Ze?Ze:Xe?Xe.getDuration():0,In=()=>void 0!==ge?ge:Xe?Xe.getIterations():1,Pn=()=>void 0!==Dt?Dt:void 0!==Ce?Ce:Xe?Xe.getDelay():0,Lt=()=>{0!==ze&&(ze--,0===ze&&((()=>{lt.forEach(_n=>_n()),Mt.forEach(_n=>_n());const te=kt?1:0,Ve=Qe,St=tt,Nt=Se;ce.forEach(_n=>{const Yn=_n.classList;Ve.forEach(Gn=>Yn.add(Gn)),St.forEach(Gn=>Yn.remove(Gn));for(const Gn in Nt)Nt.hasOwnProperty(Gn)&&Re(_n,Gn,Nt[Gn])}),we=void 0,Ct=void 0,Dt=void 0,Ne.forEach(_n=>_n.c(te,Wt)),J.forEach(_n=>_n.c(te,Wt)),J.length=0,fn=!0,kt&&(rn=!0),kt=!0})(),Xe&&Xe.animationFinish()))},sn=()=>{(()=>{Me.forEach(Nt=>Nt()),Pe.forEach(Nt=>Nt());const te=nt,Ve=ct,St=et;ce.forEach(Nt=>{const _n=Nt.classList;te.forEach(Yn=>_n.add(Yn)),Ve.forEach(Yn=>_n.remove(Yn));for(const Yn in St)St.hasOwnProperty(Yn)&&Re(Nt,Yn,St[Yn])})})(),We.length>0&&nn&&(ce.forEach(te=>{const Ve=te.animate(We,{id:mt,delay:Pn(),duration:Un(),easing:_r(),iterations:In(),fill:Dn(),direction:Sn()});Ve.pause(),wt.push(Ve)}),wt.length>0&&(wt[0].onfinish=()=>{Lt()})),ot=!0},zt=te=>{te=Math.min(Math.max(te,0),.9999),nn&&wt.forEach(Ve=>{Ve.currentTime=Ve.effect.getComputedTiming().delay+Un()*te,Ve.pause()})},Ot=te=>{wt.forEach(Ve=>{Ve.effect.updateTiming({delay:Pn(),duration:Un(),easing:_r(),iterations:In(),fill:Dn(),direction:Sn()})}),void 0!==te&&zt(te)},Tn=(te=!1,Ve=!0,St)=>(te&&pe.forEach(Nt=>{Nt.update(te,Ve,St)}),nn&&Ot(St),Wt),Jr=()=>{ot&&(nn?wt.forEach(te=>{te.pause()}):ce.forEach(te=>{Re(te,"animation-play-state","paused")}),mn=!0)},_t=te=>new Promise(Ve=>{null!=te&&te.sync&&(dt=!0,Be(()=>dt=!1,{oneTimeCallback:!0})),ot||sn(),rn&&(nn&&(zt(0),Ot()),rn=!1),fn&&(ze=pe.length+1,fn=!1);const St=()=>{zn(Nt,J),Ve()},Nt=()=>{zn(St,Z),Ve()};Be(Nt,{oneTimeCallback:!0}),((te,Ve)=>{Z.push({c:te,o:{oneTimeCallback:!0}})})(St),pe.forEach(_n=>{_n.play()}),nn?(wt.forEach(te=>{te.play()}),(0===We.length||0===ce.length)&&Lt()):Lt(),mn=!1}),ae=(te,Ve)=>{const St=We[0];return void 0===St||void 0!==St.offset&&0!==St.offset?We=[{offset:0,[te]:Ve},...We]:St[te]=Ve,Wt};return Wt={parentAnimation:Xe,elements:ce,childAnimations:pe,id:mt,animationFinish:Lt,from:ae,to:(te,Ve)=>{const St=We[We.length-1];return void 0===St||void 0!==St.offset&&1!==St.offset?We=[...We,{offset:1,[te]:Ve}]:St[te]=Ve,Wt},fromTo:(te,Ve,St)=>ae(te,Ve).to(te,St),parent:te=>(Xe=te,Wt),play:_t,pause:()=>(pe.forEach(te=>{te.pause()}),Jr(),Wt),stop:()=>{pe.forEach(te=>{te.stop()}),ot&&(pn(),ot=!1),je=!1,dt=!1,fn=!0,Ct=void 0,we=void 0,Dt=void 0,ze=0,rn=!1,kt=!0,mn=!1,Z.forEach(te=>te.c(0,Wt)),Z.length=0},destroy:te=>(pe.forEach(Ve=>{Ve.destroy(te)}),(te=>{pn(),te&&Wn()})(te),ce.length=0,pe.length=0,We.length=0,Ne.length=0,J.length=0,ot=!1,fn=!0,Wt),keyframes:te=>{const Ve=We!==te;return We=te,Ve&&(te=>{nn&&vn().forEach(Ve=>{const St=Ve.effect;if(St.setKeyframes)St.setKeyframes(te);else{const Nt=new KeyframeEffect(St.target,te,St.getTiming());Ve.effect=Nt}})})(We),Wt},addAnimation:te=>{if(null!=te)if(Array.isArray(te))for(const Ve of te)Ve.parent(Wt),pe.push(Ve);else te.parent(Wt),pe.push(te);return Wt},addElement:te=>{if(null!=te)if(1===te.nodeType)ce.push(te);else if(te.length>=0)for(let Ve=0;Ve<te.length;Ve++)ce.push(te[Ve]);else console.error("Invalid addElement value");return Wt},update:Tn,fill:te=>(Ke=te,Tn(!0),Wt),direction:te=>(qe=te,Tn(!0),Wt),iterations:te=>(ge=te,Tn(!0),Wt),duration:te=>(!nn&&0===te&&(te=1),Ze=te,Tn(!0),Wt),easing:te=>(_e=te,Tn(!0),Wt),delay:te=>(Ce=te,Tn(!0),Wt),getWebAnimations:vn,getKeyframes:()=>We,getFill:Dn,getDirection:Sn,getDelay:Pn,getIterations:In,getEasing:_r,getDuration:Un,afterAddRead:te=>(lt.push(te),Wt),afterAddWrite:te=>(Mt.push(te),Wt),afterClearStyles:(te=[])=>{for(const Ve of te)Se[Ve]="";return Wt},afterStyles:(te={})=>(Se=te,Wt),afterRemoveClass:te=>(tt=Y(tt,te),Wt),afterAddClass:te=>(Qe=Y(Qe,te),Wt),beforeAddRead:te=>(Me.push(te),Wt),beforeAddWrite:te=>(Pe.push(te),Wt),beforeClearStyles:(te=[])=>{for(const Ve of te)et[Ve]="";return Wt},beforeStyles:(te={})=>(et=te,Wt),beforeRemoveClass:te=>(ct=Y(ct,te),Wt),beforeAddClass:te=>(nt=Y(nt,te),Wt),onFinish:Be,isRunning:()=>0!==ze&&!mn,progressStart:(te=!1,Ve)=>(pe.forEach(St=>{St.progressStart(te,Ve)}),Jr(),je=te,ot||sn(),Tn(!1,!0,Ve),Wt),progressStep:te=>(pe.forEach(Ve=>{Ve.progressStep(te)}),zt(te),Wt),progressEnd:(te,Ve,St)=>(je=!1,pe.forEach(Nt=>{Nt.progressEnd(te,Ve,St)}),void 0!==St&&(we=St),rn=!1,kt=!0,0===te?(Ct="reverse"===Sn()?"normal":"reverse","reverse"===Ct&&(kt=!1),nn?(Tn(),zt(1-Ve)):(Dt=(1-Ve)*Un()*-1,Tn(!1,!1))):1===te&&(nn?(Tn(),zt(Ve)):(Dt=Ve*Un()*-1,Tn(!1,!1))),void 0!==te&&!Xe&&_t(),Wt)}}},464:(hn,ft,N)=>{"use strict";N.d(ft,{E:()=>_e,a:()=>c,s:()=>Ce});const c=ge=>{try{if(ge instanceof ie)return ge.value;if(!Re()||"string"!=typeof ge||""===ge)return ge;if(ge.includes("onload="))return"";const Ke=document.createDocumentFragment(),qe=document.createElement("div");Ke.appendChild(qe),qe.innerHTML=ge,ke.forEach(ot=>{const Xe=Ke.querySelectorAll(ot);for(let et=Xe.length-1;et>=0;et--){const Qe=Xe[et];Qe.parentNode?Qe.parentNode.removeChild(Qe):Ke.removeChild(Qe);const tt=V(Qe);for(let Se=0;Se<tt.length;Se++)d(tt[Se])}});const We=V(Ke);for(let ot=0;ot<We.length;ot++)d(We[ot]);const nt=document.createElement("div");nt.appendChild(Ke);const ct=nt.querySelector("div");return null!==ct?ct.innerHTML:nt.innerHTML}catch(Ke){return console.error(Ke),""}},d=ge=>{if(ge.nodeType&&1!==ge.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ge.attributes instanceof NamedNodeMap))return void ge.remove();for(let qe=ge.attributes.length-1;qe>=0;qe--){const We=ge.attributes.item(qe),nt=We.name;if(!Y.includes(nt.toLowerCase())){ge.removeAttribute(nt);continue}const ct=We.value,ot=ge[nt];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=ot&&ot.toLowerCase().includes("javascript:"))&&ge.removeAttribute(nt)}const Ke=V(ge);for(let qe=0;qe<Ke.length;qe++)d(Ke[qe])},V=ge=>null!=ge.children?ge.children:ge.childNodes,Re=()=>{var ge;const Ke=window,qe=null===(ge=null==Ke?void 0:Ke.Ionic)||void 0===ge?void 0:ge.config;return!qe||(qe.get?qe.get("sanitizerEnabled",!0):!0===qe.sanitizerEnabled||void 0===qe.sanitizerEnabled)},Y=["class","id","href","src","name","slot"],ke=["script","style","iframe","meta","link","object","embed"];class ie{constructor(Ke){this.value=Ke}}const Ce=ge=>{const Ke=window,qe=Ke.Ionic;if(!qe||!qe.config||"Object"===qe.config.constructor.name)return Ke.Ionic=Ke.Ionic||{},Ke.Ionic.config=Object.assign(Object.assign({},Ke.Ionic.config),ge),Ke.Ionic.config},_e=!1},8621:(hn,ft,N)=>{"use strict";N.d(ft,{C:()=>Y,a:()=>V,d:()=>Re});var c=N(467),d=N(4920);const V=function(){var ke=(0,c.A)(function*(ie,Ce,Ze,_e,ge,Ke){var qe;if(ie)return ie.attachViewToDom(Ce,Ze,ge,_e);if(!(Ke||"string"==typeof Ze||Ze instanceof HTMLElement))throw new Error("framework delegate is missing");const We="string"==typeof Ze?null===(qe=Ce.ownerDocument)||void 0===qe?void 0:qe.createElement(Ze):Ze;return _e&&_e.forEach(nt=>We.classList.add(nt)),ge&&Object.assign(We,ge),Ce.appendChild(We),yield new Promise(nt=>(0,d.c)(We,nt)),We});return function(Ce,Ze,_e,ge,Ke,qe){return ke.apply(this,arguments)}}(),Re=(ke,ie)=>{if(ie){if(ke)return ke.removeViewFromDom(ie.parentElement,ie);ie.remove()}return Promise.resolve()},Y=()=>{let ke,ie;return{attachViewToDom:function(){var _e=(0,c.A)(function*(ge,Ke,qe={},We=[]){var nt,ct;let ot;if(ke=ge,Ke){const et="string"==typeof Ke?null===(nt=ke.ownerDocument)||void 0===nt?void 0:nt.createElement(Ke):Ke;We.forEach(Qe=>et.classList.add(Qe)),Object.assign(et,qe),ke.appendChild(et),ot=et,yield new Promise(Qe=>(0,d.c)(et,Qe))}else if(ke.children.length>0&&("ION-MODAL"===ke.tagName||"ION-POPOVER"===ke.tagName)&&!(ot=ke.children[0]).classList.contains("ion-delegate-host")){const Qe=null===(ct=ke.ownerDocument)||void 0===ct?void 0:ct.createElement("div");Qe.classList.add("ion-delegate-host"),We.forEach(tt=>Qe.classList.add(tt)),Qe.append(...ke.children),ke.appendChild(Qe),ot=Qe}const Xe=document.querySelector("ion-app")||document.body;return ie=document.createComment("ionic teleport"),ke.parentNode.insertBefore(ie,ke),Xe.appendChild(ke),null!=ot?ot:ke});return function(Ke,qe){return _e.apply(this,arguments)}}(),removeViewFromDom:()=>(ke&&ie&&(ie.parentNode.insertBefore(ke,ie),ie.remove()),Promise.resolve())}}},1970:(hn,ft,N)=>{"use strict";N.d(ft,{B:()=>Re,G:()=>Y});class d{constructor(ie,Ce,Ze,_e,ge){this.id=Ce,this.name=Ze,this.disableScroll=ge,this.priority=1e6*_e+Ce,this.ctrl=ie}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ie=this.ctrl.capture(this.name,this.id,this.priority);return ie&&this.disableScroll&&this.ctrl.disableScroll(this.id),ie}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class V{constructor(ie,Ce,Ze,_e){this.id=Ce,this.disable=Ze,this.disableScroll=_e,this.ctrl=ie}block(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.disableGesture(ie,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.enableGesture(ie,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Re="backdrop-no-scroll",Y=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ie){var Ce;return new d(this,this.newID(),ie.name,null!==(Ce=ie.priority)&&void 0!==Ce?Ce:0,!!ie.disableScroll)}createBlocker(ie={}){return new V(this,this.newID(),ie.disable,!!ie.disableScroll)}start(ie,Ce,Ze){return this.canStart(ie)?(this.requestedStart.set(Ce,Ze),!0):(this.requestedStart.delete(Ce),!1)}capture(ie,Ce,Ze){if(!this.start(ie,Ce,Ze))return!1;const _e=this.requestedStart;let ge=-1e4;if(_e.forEach(Ke=>{ge=Math.max(ge,Ke)}),ge===Ze){this.capturedId=Ce,_e.clear();const Ke=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ie}});return document.dispatchEvent(Ke),!0}return _e.delete(Ce),!1}release(ie){this.requestedStart.delete(ie),this.capturedId===ie&&(this.capturedId=void 0)}disableGesture(ie,Ce){let Ze=this.disabledGestures.get(ie);void 0===Ze&&(Ze=new Set,this.disabledGestures.set(ie,Ze)),Ze.add(Ce)}enableGesture(ie,Ce){const Ze=this.disabledGestures.get(ie);void 0!==Ze&&Ze.delete(Ce)}disableScroll(ie){this.disabledScroll.add(ie),1===this.disabledScroll.size&&document.body.classList.add(Re)}enableScroll(ie){this.disabledScroll.delete(ie),0===this.disabledScroll.size&&document.body.classList.remove(Re)}canStart(ie){return!(void 0!==this.capturedId||this.isDisabled(ie))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ie){const Ce=this.disabledGestures.get(ie);return!!(Ce&&Ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},7567:(hn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>Ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>ke,shouldUseCloseWatcher:()=>Y,startHardwareBackButton:()=>ie});var c=N(467),d=N(8476),V=N(3635);N(5539);const Y=()=>V.c.get("experimentalCloseWatcher",!1)&&void 0!==d.w&&"CloseWatcher"in d.w,ke=()=>{document.addEventListener("backbutton",()=>{})},ie=()=>{const _e=document;let ge=!1;const Ke=()=>{if(ge)return;let qe=0,We=[];const nt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Xe,et){We.push({priority:Xe,handler:et,id:qe++})}}});_e.dispatchEvent(nt);const ct=function(){var Xe=(0,c.A)(function*(et){try{if(null!=et&&et.handler){const Qe=et.handler(ot);null!=Qe&&(yield Qe)}}catch(Qe){console.error(Qe)}});return function(Qe){return Xe.apply(this,arguments)}}(),ot=()=>{if(We.length>0){let Xe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};We.forEach(et=>{et.priority>=Xe.priority&&(Xe=et)}),ge=!0,We=We.filter(et=>et.id!==Xe.id),ct(Xe).then(()=>ge=!1)}};ot()};if(Y()){let qe;const We=()=>{null==qe||qe.destroy(),qe=new d.w.CloseWatcher,qe.onclose=()=>{Ke(),We()}};We()}else _e.addEventListener("backbutton",Ke)},Ce=100,Ze=99},4920:(hn,ft,N)=>{"use strict";N.d(ft,{a:()=>Ce,b:()=>Ze,c:()=>V,d:()=>We,e:()=>et,f:()=>qe,g:()=>_e,h:()=>Y,i:()=>ie,j:()=>nt,k:()=>Re,l:()=>Ke,m:()=>ct,n:()=>Xe,o:()=>Qe,p:()=>ot,r:()=>ge,s:()=>tt,t:()=>c});const c=(Se,ze=0)=>new Promise(je=>{d(Se,ze,je)}),d=(Se,ze=0,je)=>{let dt,Ct;const we={passive:!0},kt=()=>{dt&&dt()},rn=fn=>{(void 0===fn||Se===fn.target)&&(kt(),je(fn))};return Se&&(Se.addEventListener("webkitTransitionEnd",rn,we),Se.addEventListener("transitionend",rn,we),Ct=setTimeout(rn,ze+500),dt=()=>{void 0!==Ct&&(clearTimeout(Ct),Ct=void 0),Se.removeEventListener("webkitTransitionEnd",rn,we),Se.removeEventListener("transitionend",rn,we)}),kt},V=(Se,ze)=>{Se.componentOnReady?Se.componentOnReady().then(je=>ze(je)):ge(()=>ze(Se))},Re=Se=>void 0!==Se.componentOnReady,Y=(Se,ze=[])=>{const je={};return ze.forEach(dt=>{Se.hasAttribute(dt)&&(null!==Se.getAttribute(dt)&&(je[dt]=Se.getAttribute(dt)),Se.removeAttribute(dt))}),je},ke=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ie=(Se,ze)=>{let je=ke;return ze&&ze.length>0&&(je=je.filter(dt=>!ze.includes(dt))),Y(Se,je)},Ce=(Se,ze,je,dt)=>{var Ct;if(typeof window<"u"){const we=window,Dt=null===(Ct=null==we?void 0:we.Ionic)||void 0===Ct?void 0:Ct.config;if(Dt){const kt=Dt.get("_ael");if(kt)return kt(Se,ze,je,dt);if(Dt._ael)return Dt._ael(Se,ze,je,dt)}}return Se.addEventListener(ze,je,dt)},Ze=(Se,ze,je,dt)=>{var Ct;if(typeof window<"u"){const we=window,Dt=null===(Ct=null==we?void 0:we.Ionic)||void 0===Ct?void 0:Ct.config;if(Dt){const kt=Dt.get("_rel");if(kt)return kt(Se,ze,je,dt);if(Dt._rel)return Dt._rel(Se,ze,je,dt)}}return Se.removeEventListener(ze,je,dt)},_e=(Se,ze=Se)=>Se.shadowRoot||ze,ge=Se=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Se):"function"==typeof requestAnimationFrame?requestAnimationFrame(Se):setTimeout(Se),Ke=Se=>!!Se.shadowRoot&&!!Se.attachShadow,qe=Se=>{if(Se.focus(),Se.classList.contains("ion-focusable")){const ze=Se.closest("ion-app");ze&&ze.setFocus([Se])}},We=(Se,ze,je,dt,Ct)=>{if(Se||Ke(ze)){let we=ze.querySelector("input.aux-input");we||(we=ze.ownerDocument.createElement("input"),we.type="hidden",we.classList.add("aux-input"),ze.appendChild(we)),we.disabled=Ct,we.name=je,we.value=dt||""}},nt=(Se,ze,je)=>Math.max(Se,Math.min(ze,je)),ct=(Se,ze)=>{if(!Se){const je="ASSERT: "+ze;throw console.error(je),new Error(je)}},ot=Se=>{if(Se){const ze=Se.changedTouches;if(ze&&ze.length>0){const je=ze[0];return{x:je.clientX,y:je.clientY}}if(void 0!==Se.pageX)return{x:Se.pageX,y:Se.pageY}}return{x:0,y:0}},Xe=Se=>{const ze="rtl"===document.dir;switch(Se){case"start":return ze;case"end":return!ze;default:throw new Error(`"${Se}" is not a valid value for [side]. Use "start" or "end" instead.`)}},et=(Se,ze)=>{const je=Se._original||Se;return{_original:Se,emit:Qe(je.emit.bind(je),ze)}},Qe=(Se,ze=0)=>{let je;return(...dt)=>{clearTimeout(je),je=setTimeout(Se,ze,...dt)}},tt=(Se,ze)=>{if(null!=Se||(Se={}),null!=ze||(ze={}),Se===ze)return!0;const je=Object.keys(Se);if(je.length!==Object.keys(ze).length)return!1;for(const dt of je)if(!(dt in ze)||Se[dt]!==ze[dt])return!1;return!0}},8607:(hn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ze});var c=N(1970);const d=(qe,We,nt,ct)=>{const ot=V(qe)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let Xe,et;return qe.__zone_symbol__addEventListener?(Xe="__zone_symbol__addEventListener",et="__zone_symbol__removeEventListener"):(Xe="addEventListener",et="removeEventListener"),qe[Xe](We,nt,ot),()=>{qe[et](We,nt,ot)}},V=qe=>{if(void 0===Re)try{const We=Object.defineProperty({},"passive",{get:()=>{Re=!0}});qe.addEventListener("optsTest",()=>{},We)}catch{Re=!1}return!!Re};let Re;const ie=qe=>qe instanceof Document?qe:qe.ownerDocument,Ze=qe=>{let We=!1,nt=!1,ct=!0,ot=!1;const Xe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},qe),et=Xe.canStart,Qe=Xe.onWillStart,tt=Xe.onStart,Se=Xe.onEnd,ze=Xe.notCaptured,je=Xe.onMove,dt=Xe.threshold,Ct=Xe.passive,we=Xe.blurOnStart,Dt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},kt=((qe,We,nt)=>{const ct=nt*(Math.PI/180),ot="x"===qe,Xe=Math.cos(ct),et=We*We;let Qe=0,tt=0,Se=!1,ze=0;return{start(je,dt){Qe=je,tt=dt,ze=0,Se=!0},detect(je,dt){if(!Se)return!1;const Ct=je-Qe,we=dt-tt,Dt=Ct*Ct+we*we;if(Dt<et)return!1;const kt=Math.sqrt(Dt),rn=(ot?Ct:we)/kt;return ze=rn>Xe?1:rn<-Xe?-1:0,Se=!1,!0},isGesture:()=>0!==ze,getDirection:()=>ze}})(Xe.direction,Xe.threshold,Xe.maxAngle),rn=c.G.createGesture({name:qe.gestureName,priority:qe.gesturePriority,disableScroll:qe.disableScroll}),mn=()=>{We&&(ot=!1,je&&je(Dt))},mt=()=>!!rn.capture()&&(We=!0,ct=!1,Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime,Qe?Qe(Dt).then(J):J(),!0),J=()=>{we&&(()=>{if(typeof document<"u"){const Me=document.activeElement;null!=Me&&Me.blur&&Me.blur()}})(),tt&&tt(Dt),ct=!0},Z=()=>{We=!1,nt=!1,ot=!1,ct=!0,rn.release()},ce=Me=>{const Pe=We,lt=ct;if(Z(),lt){if(_e(Dt,Me),Pe)return void(Se&&Se(Dt));ze&&ze(Dt)}},pe=((qe,We,nt,ct,ot)=>{let Xe,et,Qe,tt,Se,ze,je,dt=0;const Ct=Ne=>{dt=Date.now()+2e3,We(Ne)&&(!et&&nt&&(et=d(qe,"touchmove",nt,ot)),Qe||(Qe=d(Ne.target,"touchend",Dt,ot)),tt||(tt=d(Ne.target,"touchcancel",Dt,ot)))},we=Ne=>{dt>Date.now()||We(Ne)&&(!ze&&nt&&(ze=d(ie(qe),"mousemove",nt,ot)),je||(je=d(ie(qe),"mouseup",kt,ot)))},Dt=Ne=>{rn(),ct&&ct(Ne)},kt=Ne=>{fn(),ct&&ct(Ne)},rn=()=>{et&&et(),Qe&&Qe(),tt&&tt(),et=Qe=tt=void 0},fn=()=>{ze&&ze(),je&&je(),ze=je=void 0},Wt=()=>{rn(),fn()},mn=(Ne=!0)=>{Ne?(Xe||(Xe=d(qe,"touchstart",Ct,ot)),Se||(Se=d(qe,"mousedown",we,ot))):(Xe&&Xe(),Se&&Se(),Xe=Se=void 0,Wt())};return{enable:mn,stop:Wt,destroy:()=>{mn(!1),ct=nt=We=void 0}}})(Xe.el,Me=>{const Pe=Ke(Me);return!(nt||!ct||(ge(Me,Dt),Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime=Pe,Dt.velocityX=Dt.velocityY=Dt.deltaX=Dt.deltaY=0,Dt.event=Me,et&&!1===et(Dt))||(rn.release(),!rn.start()))&&(nt=!0,0===dt?mt():(kt.start(Dt.startX,Dt.startY),!0))},Me=>{We?!ot&&ct&&(ot=!0,_e(Dt,Me),requestAnimationFrame(mn)):(_e(Dt,Me),kt.detect(Dt.currentX,Dt.currentY)&&(!kt.isGesture()||!mt())&&se())},ce,{capture:!1,passive:Ct}),se=()=>{Z(),pe.stop(),ze&&ze(Dt)};return{enable(Me=!0){Me||(We&&ce(void 0),Z()),pe.enable(Me)},destroy(){rn.destroy(),pe.destroy()}}},_e=(qe,We)=>{if(!We)return;const nt=qe.currentX,ct=qe.currentY,ot=qe.currentTime;ge(We,qe);const Xe=qe.currentX,et=qe.currentY,tt=(qe.currentTime=Ke(We))-ot;if(tt>0&&tt<100){const ze=(et-ct)/tt;qe.velocityX=(Xe-nt)/tt*.7+.3*qe.velocityX,qe.velocityY=.7*ze+.3*qe.velocityY}qe.deltaX=Xe-qe.startX,qe.deltaY=et-qe.startY,qe.event=We},ge=(qe,We)=>{let nt=0,ct=0;if(qe){const ot=qe.changedTouches;if(ot&&ot.length>0){const Xe=ot[0];nt=Xe.clientX,ct=Xe.clientY}else void 0!==qe.pageX&&(nt=qe.pageX,ct=qe.pageY)}We.currentX=nt,We.currentY=ct},Ke=qe=>qe.timeStamp||Date.now()},4266:(hn,ft,N)=>{"use strict";N.d(ft,{m:()=>qe});var c=N(467),d=N(8476),V=N(7567),Re=N(4929),Y=N(4920),ke=N(3635),ie=N(9986);const Ce=We=>(0,ie.c)().duration(We?400:300),Ze=We=>{let nt,ct;const ot=We.width+8,Xe=(0,ie.c)(),et=(0,ie.c)();We.isEndSide?(nt=ot+"px",ct="0px"):(nt=-ot+"px",ct="0px"),Xe.addElement(We.menuInnerEl).fromTo("transform",`translateX(${nt})`,`translateX(${ct})`);const tt="ios"===(0,ke.b)(We),Se=tt?.2:.25;return et.addElement(We.backdropEl).fromTo("opacity",.01,Se),Ce(tt).addAnimation([Xe,et])},_e=We=>{let nt,ct;const ot=(0,ke.b)(We),Xe=We.width;We.isEndSide?(nt=-Xe+"px",ct=Xe+"px"):(nt=Xe+"px",ct=-Xe+"px");const et=(0,ie.c)().addElement(We.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),Qe=(0,ie.c)().addElement(We.contentEl).fromTo("transform","translateX(0px)",`translateX(${nt})`),tt=(0,ie.c)().addElement(We.backdropEl).fromTo("opacity",.01,.32);return Ce("ios"===ot).addAnimation([et,Qe,tt])},ge=We=>{const nt=(0,ke.b)(We),ct=We.width*(We.isEndSide?-1:1)+"px",ot=(0,ie.c)().addElement(We.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return Ce("ios"===nt).addAnimation(ot)},qe=(()=>{const We=new Map,nt=[],ct=function(){var Z=(0,c.A)(function*(ce){const pe=yield ze(ce,!0);return!!pe&&pe.open()});return function(pe){return Z.apply(this,arguments)}}(),ot=function(){var Z=(0,c.A)(function*(ce){const pe=yield void 0!==ce?ze(ce,!0):je();return void 0!==pe&&pe.close()});return function(pe){return Z.apply(this,arguments)}}(),Xe=function(){var Z=(0,c.A)(function*(ce){const pe=yield ze(ce,!0);return!!pe&&pe.toggle()});return function(pe){return Z.apply(this,arguments)}}(),et=function(){var Z=(0,c.A)(function*(ce,pe){const se=yield ze(pe);return se&&(se.disabled=!ce),se});return function(pe,se){return Z.apply(this,arguments)}}(),Qe=function(){var Z=(0,c.A)(function*(ce,pe){const se=yield ze(pe);return se&&(se.swipeGesture=ce),se});return function(pe,se){return Z.apply(this,arguments)}}(),tt=function(){var Z=(0,c.A)(function*(ce){if(null!=ce){const pe=yield ze(ce);return void 0!==pe&&pe.isOpen()}return void 0!==(yield je())});return function(pe){return Z.apply(this,arguments)}}(),Se=function(){var Z=(0,c.A)(function*(ce){const pe=yield ze(ce);return!!pe&&!pe.disabled});return function(pe){return Z.apply(this,arguments)}}(),ze=function(){var Z=(0,c.A)(function*(ce,pe=!1){if(yield J(),"start"===ce||"end"===ce){const Me=nt.filter(lt=>lt.side===ce&&!lt.disabled);if(Me.length>=1)return Me.length>1&&pe&&(0,Re.p)(`menuController queried for a menu on the "${ce}" side, but ${Me.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Me.map(lt=>lt.el)),Me[0].el;const Pe=nt.filter(lt=>lt.side===ce);if(Pe.length>=1)return Pe.length>1&&pe&&(0,Re.p)(`menuController queried for a menu on the "${ce}" side, but ${Pe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Pe.map(lt=>lt.el)),Pe[0].el}else if(null!=ce)return Ne(Me=>Me.menuId===ce);return Ne(Me=>!Me.disabled)||(nt.length>0?nt[0].el:void 0)});return function(pe){return Z.apply(this,arguments)}}(),je=function(){var Z=(0,c.A)(function*(){return yield J(),Wt()});return function(){return Z.apply(this,arguments)}}(),dt=function(){var Z=(0,c.A)(function*(){return yield J(),mn()});return function(){return Z.apply(this,arguments)}}(),Ct=function(){var Z=(0,c.A)(function*(){return yield J(),mt()});return function(){return Z.apply(this,arguments)}}(),we=(Z,ce)=>{We.set(Z,ce)},rn=function(){var Z=(0,c.A)(function*(ce,pe,se){if(mt())return!1;if(pe){const Me=yield je();Me&&ce.el!==Me&&(yield Me.setOpen(!1,!1))}return ce._setOpen(pe,se)});return function(pe,se,Me){return Z.apply(this,arguments)}}(),Wt=()=>Ne(Z=>Z._isOpen),mn=()=>nt.map(Z=>Z.el),mt=()=>nt.some(Z=>Z.isAnimating),Ne=Z=>{const ce=nt.find(Z);if(void 0!==ce)return ce.el},J=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Z=>new Promise(ce=>(0,Y.c)(Z,ce))));return we("reveal",ge),we("push",_e),we("overlay",Ze),null==d.d||d.d.addEventListener("ionBackButton",Z=>{const ce=Wt();ce&&Z.detail.register(V.MENU_BACK_BUTTON_PRIORITY,()=>ce.close())}),{registerAnimation:we,get:ze,getMenus:dt,getOpen:je,isEnabled:Se,swipeGesture:Qe,isAnimating:Ct,isOpen:tt,enable:et,toggle:Xe,close:ot,open:ct,_getOpenSync:Wt,_createAnimation:(Z,ce)=>{const pe=We.get(Z);if(!pe)throw new Error("animation not registered");return pe(ce)},_register:Z=>{nt.indexOf(Z)<0&&nt.push(Z)},_unregister:Z=>{const ce=nt.indexOf(Z);ce>-1&&nt.splice(ce,1)},_setOpen:rn}})()},530:(hn,ft,N)=>{"use strict";N.d(ft,{b:()=>Ce,c:()=>Ze,d:()=>_e,e:()=>Wt,g:()=>Ne,l:()=>rn,s:()=>mn,t:()=>Xe,w:()=>fn});var c=N(467),d=N(3635),V=N(5539),Re=N(4929),Y=N(4920);const Ce="ionViewWillLeave",Ze="ionViewDidLeave",_e="ionViewWillUnload",ge=J=>{J.tabIndex=-1,J.focus()},Ke=J=>null!==J.offsetParent,We="ion-last-focus",ot_saveViewFocus=ce=>{if(d.c.get("focusManagerPriority",!1)){const se=document.activeElement;null!==se&&null!=ce&&ce.contains(se)&&se.setAttribute(We,"true")}},ot_setViewFocus=ce=>{const pe=d.c.get("focusManagerPriority",!1);if(Array.isArray(pe)&&!ce.contains(document.activeElement)){const se=ce.querySelector(`[${We}]`);if(se&&Ke(se))return void ge(se);for(const Me of pe)switch(Me){case"content":const Pe=ce.querySelector('main, [role="main"]');if(Pe&&Ke(Pe))return void ge(Pe);break;case"heading":const lt=ce.querySelector('h1, [role="heading"][aria-level="1"]');if(lt&&Ke(lt))return void ge(lt);break;case"banner":const Mt=ce.querySelector('header, [role="banner"]');if(Mt&&Ke(Mt))return void ge(Mt);break;default:(0,Re.p)(`Unrecognized focus manager priority value ${Me}`)}ge(ce)}},Xe=J=>new Promise((Z,ce)=>{(0,V.w)(()=>{et(J),Qe(J).then(pe=>{pe.animation&&pe.animation.destroy(),tt(J),Z(pe)},pe=>{tt(J),ce(pe)})})}),et=J=>{const Z=J.enteringEl,ce=J.leavingEl;ot_saveViewFocus(ce),mt(Z,ce,J.direction),J.showGoBack?Z.classList.add("can-go-back"):Z.classList.remove("can-go-back"),mn(Z,!1),Z.style.setProperty("pointer-events","none"),ce&&(mn(ce,!1),ce.style.setProperty("pointer-events","none"))},Qe=function(){var J=(0,c.A)(function*(Z){const ce=yield Se(Z);return ce&&V.B.isBrowser?ze(ce,Z):je(Z)});return function(ce){return J.apply(this,arguments)}}(),tt=J=>{const Z=J.enteringEl,ce=J.leavingEl;Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events"),void 0!==ce&&(ce.classList.remove("ion-page-invisible"),ce.style.removeProperty("pointer-events")),ot_setViewFocus(Z)},Se=function(){var J=(0,c.A)(function*(Z){return Z.leavingEl&&Z.animated&&0!==Z.duration?Z.animationBuilder?Z.animationBuilder:"ios"===Z.mode?(yield Promise.resolve().then(N.bind(N,7814))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,7559))).mdTransitionAnimation:void 0});return function(ce){return J.apply(this,arguments)}}(),ze=function(){var J=(0,c.A)(function*(Z,ce){yield dt(ce,!0);const pe=Z(ce.baseEl,ce);Dt(ce.enteringEl,ce.leavingEl);const se=yield we(pe,ce);return ce.progressCallback&&ce.progressCallback(void 0),se&&kt(ce.enteringEl,ce.leavingEl),{hasCompleted:se,animation:pe}});return function(ce,pe){return J.apply(this,arguments)}}(),je=function(){var J=(0,c.A)(function*(Z){const ce=Z.enteringEl,pe=Z.leavingEl,se=d.c.get("focusManagerPriority",!1);return yield dt(Z,se),Dt(ce,pe),kt(ce,pe),{hasCompleted:!0}});return function(ce){return J.apply(this,arguments)}}(),dt=function(){var J=(0,c.A)(function*(Z,ce){(void 0!==Z.deepWait?Z.deepWait:ce)&&(yield Promise.all([Wt(Z.enteringEl),Wt(Z.leavingEl)])),yield Ct(Z.viewIsReady,Z.enteringEl)});return function(ce,pe){return J.apply(this,arguments)}}(),Ct=function(){var J=(0,c.A)(function*(Z,ce){Z&&(yield Z(ce))});return function(ce,pe){return J.apply(this,arguments)}}(),we=(J,Z)=>{const ce=Z.progressCallback,pe=new Promise(se=>{J.onFinish(Me=>se(1===Me))});return ce?(J.progressStart(!0),ce(J)):J.play(),pe},Dt=(J,Z)=>{rn(Z,Ce),rn(J,"ionViewWillEnter")},kt=(J,Z)=>{rn(J,"ionViewDidEnter"),rn(Z,Ze)},rn=(J,Z)=>{if(J){const ce=new CustomEvent(Z,{bubbles:!1,cancelable:!1});J.dispatchEvent(ce)}},fn=()=>new Promise(J=>(0,Y.r)(()=>(0,Y.r)(()=>J()))),Wt=function(){var J=(0,c.A)(function*(Z){const ce=Z;if(ce){if(null!=ce.componentOnReady){if(null!=(yield ce.componentOnReady()))return}else if(null!=ce.__registerHost)return void(yield new Promise(se=>(0,Y.r)(se)));yield Promise.all(Array.from(ce.children).map(Wt))}});return function(ce){return J.apply(this,arguments)}}(),mn=(J,Z)=>{Z?(J.setAttribute("aria-hidden","true"),J.classList.add("ion-page-hidden")):(J.hidden=!1,J.removeAttribute("aria-hidden"),J.classList.remove("ion-page-hidden"))},mt=(J,Z,ce)=>{void 0!==J&&(J.style.zIndex="back"===ce?"99":"101"),void 0!==Z&&(Z.style.zIndex="100")},Ne=J=>J.classList.contains("ion-page")?J:J.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||J},5539:(hn,ft,N)=>{"use strict";N.d(ft,{B:()=>ke,a:()=>_o,b:()=>Fi,c:()=>lt,d:()=>nn,e:()=>x,f:()=>mt,g:()=>Mt,h:()=>Wt,i:()=>bt,j:()=>sn,k:()=>ie,r:()=>Yi,w:()=>Ae});var c=N(467);var Re=Object.defineProperty,ke={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ie=P=>{const oe=new URL(P,On.$resourcesUrl$);return oe.origin!==vo.location.origin?oe.href:oe.pathname},Ce={},Ke=P=>"object"==(P=typeof P)||"function"===P;function qe(P){var oe,$e,He;return null!=(He=null==($e=null==(oe=P.head)?void 0:oe.querySelector('meta[name="csp-nonce"]'))?void 0:$e.getAttribute("content"))?He:void 0}((P,oe)=>{for(var $e in oe)Re(P,$e,{get:oe[$e],enumerable:!0})})({},{err:()=>ct,map:()=>ot,ok:()=>nt,unwrap:()=>Xe,unwrapErr:()=>et});var nt=P=>({isOk:!0,isErr:!1,value:P}),ct=P=>({isOk:!1,isErr:!0,value:P});function ot(P,oe){if(P.isOk){const $e=oe(P.value);return $e instanceof Promise?$e.then(He=>nt(He)):nt($e)}if(P.isErr)return ct(P.value);throw"should never get here"}var Xe=P=>{if(P.isOk)return P.value;throw P.value},et=P=>{if(P.isErr)return P.value;throw P.value},Ct="s-id",we="sty-id",rn="slot-fb{display:contents}slot-fb[hidden]{display:none}",fn="http://www.w3.org/1999/xlink",Wt=(P,oe,...$e)=>{let He=null,vt=null,Je=null,jt=!1,Yt=!1;const qt=[],tn=Mn=>{for(let Kn=0;Kn<Mn.length;Kn++)He=Mn[Kn],Array.isArray(He)?tn(He):null!=He&&"boolean"!=typeof He&&((jt="function"!=typeof P&&!Ke(He))&&(He=String(He)),jt&&Yt?qt[qt.length-1].$text$+=He:qt.push(jt?mn(null,He):He),Yt=jt)};if(tn($e),oe){oe.key&&(vt=oe.key),oe.name&&(Je=oe.name);{const Mn=oe.className||oe.class;Mn&&(oe.class="object"!=typeof Mn?Mn:Object.keys(Mn).filter(Kn=>Mn[Kn]).join(" "))}}if("function"==typeof P)return P(null===oe?{}:oe,qt,J);const Cn=mn(P,null);return Cn.$attrs$=oe,qt.length>0&&(Cn.$children$=qt),Cn.$key$=vt,Cn.$name$=Je,Cn},mn=(P,oe)=>({$flags$:0,$tag$:P,$text$:oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),mt={},J={forEach:(P,oe)=>P.map(Z).forEach(oe),map:(P,oe)=>P.map(Z).map(oe).map(ce)},Z=P=>({vattrs:P.$attrs$,vchildren:P.$children$,vkey:P.$key$,vname:P.$name$,vtag:P.$tag$,vtext:P.$text$}),ce=P=>{if("function"==typeof P.vtag){const $e={...P.vattrs};return P.vkey&&($e.key=P.vkey),P.vname&&($e.name=P.vname),Wt(P.vtag,$e,...P.vchildren||[])}const oe=mn(P.vtag,P.vtext);return oe.$attrs$=P.vattrs,oe.$children$=P.vchildren,oe.$key$=P.vkey,oe.$name$=P.vname,oe},se=(P,oe,$e,He,vt,Je,jt)=>{let Yt,qt,tn,Cn;if(1===Je.nodeType){for(Yt=Je.getAttribute("c-id"),Yt&&(qt=Yt.split("."),(qt[0]===jt||"0"===qt[0])&&(tn={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:Je.tagName.toLowerCase(),$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},oe.push(tn),Je.removeAttribute("c-id"),P.$children$||(P.$children$=[]),P.$children$[tn.$index$]=tn,P=tn,He&&"0"===tn.$depth$&&(He[tn.$index$]=tn.$elm$))),Cn=Je.childNodes.length-1;Cn>=0;Cn--)se(P,oe,$e,He,vt,Je.childNodes[Cn],jt);if(Je.shadowRoot)for(Cn=Je.shadowRoot.childNodes.length-1;Cn>=0;Cn--)se(P,oe,$e,He,vt,Je.shadowRoot.childNodes[Cn],jt)}else if(8===Je.nodeType)qt=Je.nodeValue.split("."),(qt[1]===jt||"0"===qt[1])&&(Yt=qt[0],tn={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:Je,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Yt?(tn.$elm$=Je.nextSibling,tn.$elm$&&3===tn.$elm$.nodeType&&(tn.$text$=tn.$elm$.textContent,oe.push(tn),Je.remove(),P.$children$||(P.$children$=[]),P.$children$[tn.$index$]=tn,He&&"0"===tn.$depth$&&(He[tn.$index$]=tn.$elm$))):tn.$hostId$===jt&&("s"===Yt?(tn.$tag$="slot",Je["s-sn"]=qt[5]?tn.$name$=qt[5]:"",Je["s-sr"]=!0,He&&(tn.$elm$=ti.createElement(tn.$tag$),tn.$name$&&tn.$elm$.setAttribute("name",tn.$name$),Je.parentNode.insertBefore(tn.$elm$,Je),Je.remove(),"0"===tn.$depth$&&(He[tn.$index$]=tn.$elm$)),$e.push(tn),P.$children$||(P.$children$=[]),P.$children$[tn.$index$]=tn):"r"===Yt&&(He?Je.remove():(vt["s-cr"]=Je,Je["s-cn"]=!0))));else if(P&&"style"===P.$tag$){const Mn=mn(null,Je.textContent);Mn.$elm$=Je,Mn.$index$="0",P.$children$=[Mn]}},Me=(P,oe)=>{if(1===P.nodeType){let $e=0;for(;$e<P.childNodes.length;$e++)Me(P.childNodes[$e],oe);if(P.shadowRoot)for($e=0;$e<P.shadowRoot.childNodes.length;$e++)Me(P.shadowRoot.childNodes[$e],oe)}else if(8===P.nodeType){const $e=P.nodeValue.split(".");"o"===$e[0]&&(oe.set($e[1]+"."+$e[2],P),P.nodeValue="",P["s-en"]=$e[3])}},lt=P=>es.push(P),Mt=P=>Di(P).$modeName$,bt=P=>Di(P).$hostElement$,nn=(P,oe,$e)=>{const He=bt(P);return{emit:vt=>vn(He,oe,{bubbles:!!(4&$e),composed:!!(2&$e),cancelable:!!(1&$e),detail:vt})}},vn=(P,oe,$e)=>{const He=On.ce(oe,$e);return P.dispatchEvent(He),He},Bn=new WeakMap,Hn=(P,oe,$e)=>{let He=Li.get(P);ao&&$e?(He=He||new CSSStyleSheet,"string"==typeof He?He=oe:He.replaceSync(oe)):He=oe,Li.set(P,He)},tr=(P,oe,$e)=>{var He;const vt=zn(oe,$e),Je=Li.get(vt);if(P=11===P.nodeType?P:ti,Je)if("string"==typeof Je){let Yt,jt=Bn.get(P=P.head||P);if(jt||Bn.set(P,jt=new Set),!jt.has(vt)){if(P.host&&(Yt=P.querySelector(`[${we}="${vt}"]`)))Yt.innerHTML=Je;else{Yt=ti.createElement("style"),Yt.innerHTML=Je;const qt=null!=(He=On.$nonce$)?He:qe(ti);null!=qt&&Yt.setAttribute("nonce",qt),P.insertBefore(Yt,P.querySelector("link"))}4&oe.$flags$&&(Yt.innerHTML+=rn),jt&&jt.add(vt)}}else P.adoptedStyleSheets.includes(Je)||(P.adoptedStyleSheets=[...P.adoptedStyleSheets,Je]);return vt},zn=(P,oe)=>"sc-"+(oe&&32&P.$flags$?P.$tagName$+"-"+oe:P.$tagName$),gt=P=>P.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Be=(P,oe,$e,He,vt,Je)=>{if($e!==He){let jt=Zo(P,oe),Yt=oe.toLowerCase();if("class"===oe){const qt=P.classList,tn=pn($e),Cn=pn(He);qt.remove(...tn.filter(Mn=>Mn&&!Cn.includes(Mn))),qt.add(...Cn.filter(Mn=>Mn&&!tn.includes(Mn)))}else if("style"===oe){for(const qt in $e)(!He||null==He[qt])&&(qt.includes("-")?P.style.removeProperty(qt):P.style[qt]="");for(const qt in He)(!$e||He[qt]!==$e[qt])&&(qt.includes("-")?P.style.setProperty(qt,He[qt]):P.style[qt]=He[qt])}else if("key"!==oe)if("ref"===oe)He&&He(P);else if(jt||"o"!==oe[0]||"n"!==oe[1]){const qt=Ke(He);if((jt||qt&&null!==He)&&!vt)try{if(P.tagName.includes("-"))P[oe]=He;else{const Cn=null==He?"":He;"list"===oe?jt=!1:(null==$e||P[oe]!=Cn)&&(P[oe]=Cn)}}catch{}let tn=!1;Yt!==(Yt=Yt.replace(/^xlink\:?/,""))&&(oe=Yt,tn=!0),null==He||!1===He?(!1!==He||""===P.getAttribute(oe))&&(tn?P.removeAttributeNS(fn,oe):P.removeAttribute(oe)):(!jt||4&Je||vt)&&!qt&&(He=!0===He?"":He,tn?P.setAttributeNS(fn,oe,He):P.setAttribute(oe,He))}else if(oe="-"===oe[2]?oe.slice(3):Zo(vo,Yt)?Yt.slice(2):Yt[2]+oe.slice(3),$e||He){const qt=oe.endsWith(Wn);oe=oe.replace(ur,""),$e&&On.rel(P,oe,$e,qt),He&&On.ael(P,oe,He,qt)}}},Rt=/\s/,pn=P=>P?P.split(Rt):[],Wn="Capture",ur=new RegExp(Wn+"$"),Xn=(P,oe,$e)=>{const He=11===oe.$elm$.nodeType&&oe.$elm$.host?oe.$elm$.host:oe.$elm$,vt=P&&P.$attrs$||Ce,Je=oe.$attrs$||Ce;for(const jt of un(Object.keys(vt)))jt in Je||Be(He,jt,vt[jt],void 0,$e,oe.$flags$);for(const jt of un(Object.keys(Je)))Be(He,jt,vt[jt],Je[jt],$e,oe.$flags$)};function un(P){return P.includes("ref")?[...P.filter(oe=>"ref"!==oe),"ref"]:P}var Zt,Nn,ir,qn=!1,Qn=!1,Rn=!1,Er=!1,Fn=(P,oe,$e,He)=>{var vt;const Je=oe.$children$[$e];let Yt,qt,tn,jt=0;if(qn||(Rn=!0,"slot"===Je.$tag$&&(Zt&&He.classList.add(Zt+"-s"),Je.$flags$|=Je.$children$?2:1)),null!==Je.$text$)Yt=Je.$elm$=ti.createTextNode(Je.$text$);else if(1&Je.$flags$)Yt=Je.$elm$=ti.createTextNode("");else{if(Er||(Er="svg"===Je.$tag$),Yt=Je.$elm$=ti.createElementNS(Er?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Je.$flags$?"slot-fb":Je.$tag$),Er&&"foreignObject"===Je.$tag$&&(Er=!1),Xn(null,Je,Er),(P=>null!=P)(Zt)&&Yt["s-si"]!==Zt&&Yt.classList.add(Yt["s-si"]=Zt),Je.$children$)for(jt=0;jt<Je.$children$.length;++jt)qt=Fn(P,Je,jt,Yt),qt&&Yt.appendChild(qt);"svg"===Je.$tag$?Er=!1:"foreignObject"===Yt.tagName&&(Er=!0)}return Yt["s-hn"]=ir,3&Je.$flags$&&(Yt["s-sr"]=!0,Yt["s-cr"]=Nn,Yt["s-sn"]=Je.$name$||"",Yt["s-rf"]=null==(vt=Je.$attrs$)?void 0:vt.ref,tn=P&&P.$children$&&P.$children$[$e],tn&&tn.$tag$===Je.$tag$&&P.$elm$&&pr(P.$elm$)),Yt},pr=P=>{On.$flags$|=1;const oe=P.closest(ir.toLowerCase());if(null!=oe){const $e=Array.from(oe.childNodes).find(vt=>vt["s-cr"]),He=Array.from(P.childNodes);for(const vt of $e?He.reverse():He)null!=vt["s-sh"]&&(oe.insertBefore(vt,null!=$e?$e:null),vt["s-sh"]=void 0,Rn=!0)}On.$flags$&=-2},Dn=(P,oe)=>{On.$flags$|=1;const $e=Array.from(P.childNodes);if(P["s-sr"]){let He=P;for(;He=He.nextSibling;)He&&He["s-sn"]===P["s-sn"]&&He["s-sh"]===ir&&$e.push(He)}for(let He=$e.length-1;He>=0;He--){const vt=$e[He];vt["s-hn"]!==ir&&vt["s-ol"]&&(ar(vt).insertBefore(vt,Pn(vt)),vt["s-ol"].remove(),vt["s-ol"]=void 0,vt["s-sh"]=void 0,Rn=!0),oe&&Dn(vt,oe)}On.$flags$&=-2},Sn=(P,oe,$e,He,vt,Je)=>{let Yt,jt=P["s-cr"]&&P["s-cr"].parentNode||P;for(jt.shadowRoot&&jt.tagName===ir&&(jt=jt.shadowRoot);vt<=Je;++vt)He[vt]&&(Yt=Fn(null,$e,vt,P),Yt&&(He[vt].$elm$=Yt,jt.insertBefore(Yt,Pn(oe))))},_r=(P,oe,$e)=>{for(let He=oe;He<=$e;++He){const vt=P[He];if(vt){const Je=vt.$elm$;de(vt),Je&&(Qn=!0,Je["s-ol"]?Je["s-ol"].remove():Dn(Je,!0),Je.remove())}}},In=(P,oe,$e=!1)=>P.$tag$===oe.$tag$&&("slot"===P.$tag$?P.$name$===oe.$name$:!!$e||P.$key$===oe.$key$),Pn=P=>P&&P["s-ol"]||P,ar=P=>(P["s-ol"]?P["s-ol"]:P).parentNode,Tr=(P,oe,$e=!1)=>{const He=oe.$elm$=P.$elm$,vt=P.$children$,Je=oe.$children$,jt=oe.$tag$,Yt=oe.$text$;let qt;null===Yt?(Er="svg"===jt||"foreignObject"!==jt&&Er,"slot"!==jt||qn?Xn(P,oe,Er):P.$name$!==oe.$name$&&(oe.$elm$["s-sn"]=oe.$name$||"",pr(oe.$elm$.parentElement)),null!==vt&&null!==Je?((P,oe,$e,He,vt=!1)=>{let si,hi,Je=0,jt=0,Yt=0,qt=0,tn=oe.length-1,Cn=oe[0],Mn=oe[tn],Kn=He.length-1,jn=He[0],ni=He[Kn];for(;Je<=tn&&jt<=Kn;)if(null==Cn)Cn=oe[++Je];else if(null==Mn)Mn=oe[--tn];else if(null==jn)jn=He[++jt];else if(null==ni)ni=He[--Kn];else if(In(Cn,jn,vt))Tr(Cn,jn,vt),Cn=oe[++Je],jn=He[++jt];else if(In(Mn,ni,vt))Tr(Mn,ni,vt),Mn=oe[--tn],ni=He[--Kn];else if(In(Cn,ni,vt))("slot"===Cn.$tag$||"slot"===ni.$tag$)&&Dn(Cn.$elm$.parentNode,!1),Tr(Cn,ni,vt),P.insertBefore(Cn.$elm$,Mn.$elm$.nextSibling),Cn=oe[++Je],ni=He[--Kn];else if(In(Mn,jn,vt))("slot"===Cn.$tag$||"slot"===ni.$tag$)&&Dn(Mn.$elm$.parentNode,!1),Tr(Mn,jn,vt),P.insertBefore(Mn.$elm$,Cn.$elm$),Mn=oe[--tn],jn=He[++jt];else{for(Yt=-1,qt=Je;qt<=tn;++qt)if(oe[qt]&&null!==oe[qt].$key$&&oe[qt].$key$===jn.$key$){Yt=qt;break}Yt>=0?(hi=oe[Yt],hi.$tag$!==jn.$tag$?si=Fn(oe&&oe[jt],$e,Yt,P):(Tr(hi,jn,vt),oe[Yt]=void 0,si=hi.$elm$),jn=He[++jt]):(si=Fn(oe&&oe[jt],$e,jt,P),jn=He[++jt]),si&&ar(Cn.$elm$).insertBefore(si,Pn(Cn.$elm$))}Je>tn?Sn(P,null==He[Kn+1]?null:He[Kn+1].$elm$,$e,He,jt,Kn):jt>Kn&&_r(oe,Je,tn)})(He,vt,oe,Je,$e):null!==Je?(null!==P.$text$&&(He.textContent=""),Sn(He,null,oe,Je,0,Je.length-1)):null!==vt&&_r(vt,0,vt.length-1),Er&&"svg"===jt&&(Er=!1)):(qt=He["s-cr"])?qt.parentNode.textContent=Yt:P.$text$!==Yt&&(He.data=Yt)},it=P=>{const oe=P.childNodes;for(const $e of oe)if(1===$e.nodeType){if($e["s-sr"]){const He=$e["s-sn"];$e.hidden=!1;for(const vt of oe)if(vt!==$e)if(vt["s-hn"]!==$e["s-hn"]||""!==He){if(1===vt.nodeType&&(He===vt.getAttribute("slot")||He===vt["s-sn"])||3===vt.nodeType&&He===vt["s-sn"]){$e.hidden=!0;break}}else if(1===vt.nodeType||3===vt.nodeType&&""!==vt.textContent.trim()){$e.hidden=!0;break}}it($e)}},Ye=[],yt=P=>{let oe,$e,He;for(const vt of P.childNodes){if(vt["s-sr"]&&(oe=vt["s-cr"])&&oe.parentNode){$e=oe.parentNode.childNodes;const Je=vt["s-sn"];for(He=$e.length-1;He>=0;He--)if(oe=$e[He],!(oe["s-cn"]||oe["s-nr"]||oe["s-hn"]===vt["s-hn"]||oe["s-sh"]&&oe["s-sh"]===vt["s-hn"]))if(rt(oe,Je)){let jt=Ye.find(Yt=>Yt.$nodeToRelocate$===oe);Qn=!0,oe["s-sn"]=oe["s-sn"]||Je,jt?(jt.$nodeToRelocate$["s-sh"]=vt["s-hn"],jt.$slotRefNode$=vt):(oe["s-sh"]=vt["s-hn"],Ye.push({$slotRefNode$:vt,$nodeToRelocate$:oe})),oe["s-sr"]&&Ye.map(Yt=>{rt(Yt.$nodeToRelocate$,oe["s-sn"])&&(jt=Ye.find(qt=>qt.$nodeToRelocate$===oe),jt&&!Yt.$slotRefNode$&&(Yt.$slotRefNode$=jt.$slotRefNode$))})}else Ye.some(jt=>jt.$nodeToRelocate$===oe)||Ye.push({$nodeToRelocate$:oe})}1===vt.nodeType&&yt(vt)}},rt=(P,oe)=>1===P.nodeType?null===P.getAttribute("slot")&&""===oe||P.getAttribute("slot")===oe:P["s-sn"]===oe||""===oe,de=P=>{P.$attrs$&&P.$attrs$.ref&&P.$attrs$.ref(null),P.$children$&&P.$children$.map(de)},ne=(P,oe)=>{oe&&!P.$onRenderResolve$&&oe["s-p"]&&oe["s-p"].push(new Promise($e=>P.$onRenderResolve$=$e))},F=(P,oe)=>{if(P.$flags$|=16,!(4&P.$flags$))return ne(P,P.$ancestorComponent$),Ae(()=>B(P,oe));P.$flags$|=512},B=(P,oe)=>{const He=P.$lazyInstance$;let vt;return oe&&(P.$flags$|=256,P.$queuedListeners$&&(P.$queuedListeners$.map(([Je,jt])=>Ot(He,Je,jt)),P.$queuedListeners$=void 0),vt=Ot(He,"componentWillLoad")),vt=Ie(vt,()=>Ot(He,"componentWillRender")),Ie(vt,()=>ut(P,He,oe))},Ie=(P,oe)=>Le(P)?P.then(oe):oe(),Le=P=>P instanceof Promise||P&&P.then&&"function"==typeof P.then,ut=function(){var P=(0,c.A)(function*(oe,$e,He){var vt;const Je=oe.$hostElement$,Yt=Je["s-rc"];He&&(P=>{const oe=P.$cmpMeta$,$e=P.$hostElement$,He=oe.$flags$,Je=tr($e.shadowRoot?$e.shadowRoot:$e.getRootNode(),oe,P.$modeName$);10&He&&($e["s-sc"]=Je,$e.classList.add(Je+"-h"),2&He&&$e.classList.add(Je+"-s"))})(oe);Lt(oe,$e,Je,He),Yt&&(Yt.map(tn=>tn()),Je["s-rc"]=void 0);{const tn=null!=(vt=Je["s-p"])?vt:[],Cn=()=>$t(oe);0===tn.length?Cn():(Promise.all(tn).then(Cn),oe.$flags$|=4,tn.length=0)}});return function($e,He,vt){return P.apply(this,arguments)}}(),Lt=(P,oe,$e,He)=>{try{oe=oe.render&&oe.render(),P.$flags$&=-17,P.$flags$|=2,((P,oe,$e=!1)=>{var He,vt,Je,jt,Yt;const qt=P.$hostElement$,tn=P.$cmpMeta$,Cn=P.$vnode$||mn(null,null),Mn=(P=>P&&P.$tag$===mt)(oe)?oe:Wt(null,null,oe);if(ir=qt.tagName,tn.$attrsToReflect$&&(Mn.$attrs$=Mn.$attrs$||{},tn.$attrsToReflect$.map(([Kn,jn])=>Mn.$attrs$[jn]=qt[Kn])),$e&&Mn.$attrs$)for(const Kn of Object.keys(Mn.$attrs$))qt.hasAttribute(Kn)&&!["key","ref","style","class"].includes(Kn)&&(Mn.$attrs$[Kn]=qt[Kn]);if(Mn.$tag$=null,Mn.$flags$|=4,P.$vnode$=Mn,Mn.$elm$=Cn.$elm$=qt.shadowRoot||qt,Zt=qt["s-sc"],qn=!!(1&tn.$flags$),Nn=qt["s-cr"],Qn=!1,Tr(Cn,Mn,$e),On.$flags$|=1,Rn){yt(Mn.$elm$);for(const Kn of Ye){const jn=Kn.$nodeToRelocate$;if(!jn["s-ol"]){const ni=ti.createTextNode("");ni["s-nr"]=jn,jn.parentNode.insertBefore(jn["s-ol"]=ni,jn)}}for(const Kn of Ye){const jn=Kn.$nodeToRelocate$,ni=Kn.$slotRefNode$;if(ni){const si=ni.parentNode;let hi=ni.nextSibling;if(hi&&1===hi.nodeType){let Ri=null==(He=jn["s-ol"])?void 0:He.previousSibling;for(;Ri;){let xi=null!=(vt=Ri["s-nr"])?vt:null;if(xi&&xi["s-sn"]===jn["s-sn"]&&si===xi.parentNode){for(xi=xi.nextSibling;xi===jn||null!=xi&&xi["s-sr"];)xi=null==xi?void 0:xi.nextSibling;if(!xi||!xi["s-nr"]){hi=xi;break}}Ri=Ri.previousSibling}}(!hi&&si!==jn.parentNode||jn.nextSibling!==hi)&&jn!==hi&&(si.insertBefore(jn,hi),1===jn.nodeType&&(jn.hidden=null!=(Je=jn["s-ih"])&&Je)),jn&&"function"==typeof ni["s-rf"]&&ni["s-rf"](jn)}else 1===jn.nodeType&&($e&&(jn["s-ih"]=null!=(jt=jn.hidden)&&jt),jn.hidden=!0)}}if(Qn&&it(Mn.$elm$),On.$flags$&=-2,Ye.length=0,2&tn.$flags$)for(const Kn of Mn.$elm$.childNodes)Kn["s-hn"]!==ir&&!Kn["s-sh"]&&($e&&null==Kn["s-ih"]&&(Kn["s-ih"]=null!=(Yt=Kn.hidden)&&Yt),Kn.hidden=!0);Nn=void 0})(P,oe,He)}catch(vt){nr(vt,P.$hostElement$)}return null},$t=P=>{const $e=P.$hostElement$,vt=P.$lazyInstance$,Je=P.$ancestorComponent$;Ot(vt,"componentDidRender"),64&P.$flags$?Ot(vt,"componentDidUpdate"):(P.$flags$|=64,Tn($e),Ot(vt,"componentDidLoad"),P.$onReadyResolve$($e),Je||zt()),P.$onInstanceResolve$($e),P.$onRenderResolve$&&(P.$onRenderResolve$(),P.$onRenderResolve$=void 0),512&P.$flags$&&me(()=>F(P,!1)),P.$flags$&=-517},sn=P=>{{const oe=Di(P),$e=oe.$hostElement$.isConnected;return $e&&2==(18&oe.$flags$)&&F(oe,!1),$e}},zt=P=>{Tn(ti.documentElement),me(()=>vn(vo,"appload",{detail:{namespace:"ionic"}}))},Ot=(P,oe,$e)=>{if(P&&P[oe])try{return P[oe]($e)}catch(He){nr(He)}},Tn=P=>P.classList.add("hydrated"),ci=(P,oe,$e)=>{var He;const vt=P.prototype;if(oe.$members$){P.watchers&&(oe.$watchers$=P.watchers);const Je=Object.entries(oe.$members$);if(Je.map(([jt,[Yt]])=>{31&Yt||2&$e&&32&Yt?Object.defineProperty(vt,jt,{get(){return((P,oe)=>Di(this).$instanceValues$.get(oe))(0,jt)},set(qt){((P,oe,$e,He)=>{const vt=Di(P),Je=vt.$hostElement$,jt=vt.$instanceValues$.get(oe),Yt=vt.$flags$,qt=vt.$lazyInstance$;$e=((P,oe)=>null==P||Ke(P)?P:4&oe?"false"!==P&&(""===P||!!P):2&oe?parseFloat(P):1&oe?String(P):P)($e,He.$members$[oe][0]);const tn=Number.isNaN(jt)&&Number.isNaN($e);if((!(8&Yt)||void 0===jt)&&$e!==jt&&!tn&&(vt.$instanceValues$.set(oe,$e),qt)){if(He.$watchers$&&128&Yt){const Mn=He.$watchers$[oe];Mn&&Mn.map(Kn=>{try{qt[Kn]($e,jt,oe)}catch(jn){nr(jn,Je)}})}2==(18&Yt)&&F(vt,!1)}})(this,jt,qt,oe)},configurable:!0,enumerable:!0}):1&$e&&64&Yt&&Object.defineProperty(vt,jt,{value(...qt){var tn;const Cn=Di(this);return null==(tn=null==Cn?void 0:Cn.$onInstancePromise$)?void 0:tn.then(()=>{var Mn;return null==(Mn=Cn.$lazyInstance$)?void 0:Mn[jt](...qt)})}})}),1&$e){const jt=new Map;vt.attributeChangedCallback=function(Yt,qt,tn){On.jmp(()=>{var Cn;const Mn=jt.get(Yt);if(this.hasOwnProperty(Mn))tn=this[Mn],delete this[Mn];else{if(vt.hasOwnProperty(Mn)&&"number"==typeof this[Mn]&&this[Mn]==tn)return;if(null==Mn){const Kn=Di(this),jn=null==Kn?void 0:Kn.$flags$;if(jn&&!(8&jn)&&128&jn&&tn!==qt){const ni=Kn.$lazyInstance$,si=null==(Cn=oe.$watchers$)?void 0:Cn[Yt];null==si||si.forEach(hi=>{null!=ni[hi]&&ni[hi].call(ni,tn,qt,Yt)})}return}}this[Mn]=(null!==tn||"boolean"!=typeof this[Mn])&&tn})},P.observedAttributes=Array.from(new Set([...Object.keys(null!=(He=oe.$watchers$)?He:{}),...Je.filter(([Yt,qt])=>15&qt[0]).map(([Yt,qt])=>{var tn;const Cn=qt[1]||Yt;return jt.set(Cn,Yt),512&qt[0]&&(null==(tn=oe.$attrsToReflect$)||tn.push([Yt,Cn])),Cn})]))}}return P},Jr=function(){var P=(0,c.A)(function*(oe,$e,He,vt){let Je;if(!(32&$e.$flags$)){if($e.$flags$|=32,He.$lazyBundleId$){if(Je=qs(He),Je.then){const Cn=()=>{};Je=yield Je,Cn()}Je.isProxied||(He.$watchers$=Je.watchers,ci(Je,He,2),Je.isProxied=!0);const tn=()=>{};$e.$flags$|=8;try{new Je($e)}catch(Cn){nr(Cn)}$e.$flags$&=-9,$e.$flags$|=128,tn(),or($e.$lazyInstance$)}else Je=oe.constructor,customElements.whenDefined(He.$tagName$).then(()=>$e.$flags$|=128);if(Je.style){let tn=Je.style;"string"!=typeof tn&&(tn=tn[$e.$modeName$=(P=>es.map(oe=>oe(P)).find(oe=>!!oe))(oe)]);const Cn=zn(He,$e.$modeName$);if(!Li.has(Cn)){const Mn=()=>{};Hn(Cn,tn,!!(1&He.$flags$)),Mn()}}}const jt=$e.$ancestorComponent$,Yt=()=>F($e,!0);jt&&jt["s-rc"]?jt["s-rc"].push(Yt):Yt()});return function($e,He,vt,Je){return P.apply(this,arguments)}}(),or=P=>{Ot(P,"connectedCallback")},Ti=P=>{const oe=P["s-cr"]=ti.createComment("");oe["s-cn"]=!0,P.insertBefore(oe,P.firstChild)},xt=P=>{Ot(P,"disconnectedCallback")},_t=function(){var P=(0,c.A)(function*(oe){if(!(1&On.$flags$)){const $e=Di(oe);$e.$rmListeners$&&($e.$rmListeners$.map(He=>He()),$e.$rmListeners$=void 0),null!=$e&&$e.$lazyInstance$?xt($e.$lazyInstance$):null!=$e&&$e.$onReadyPromise$&&$e.$onReadyPromise$.then(()=>xt($e.$lazyInstance$))}});return function($e){return P.apply(this,arguments)}}(),ae=P=>{const oe=P.cloneNode;P.cloneNode=function($e){const He=this,vt=He.shadowRoot&&ko,Je=oe.call(He,!!vt&&$e);if(!vt&&$e){let Yt,qt,jt=0;const tn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf"];for(;jt<He.childNodes.length;jt++)Yt=He.childNodes[jt]["s-nr"],qt=tn.every(Cn=>!He.childNodes[jt][Cn]),Yt&&(Je.__appendChild?Je.__appendChild(Yt.cloneNode(!0)):Je.appendChild(Yt.cloneNode(!0))),qt&&Je.appendChild(He.childNodes[jt].cloneNode(!0))}return Je}},Ge=P=>{P.__appendChild=P.appendChild,P.appendChild=function(oe){const $e=oe["s-sn"]=Ii(oe),He=pi(this.childNodes,$e,this.tagName);if(He){const vt=Jn(He,$e),Je=vt[vt.length-1],jt=Je.parentNode.insertBefore(oe,Je.nextSibling);return it(this),jt}return this.__appendChild(oe)}},re=P=>{P.__removeChild=P.removeChild,P.removeChild=function(oe){if(oe&&typeof oe["s-sn"]<"u"){const $e=pi(this.childNodes,oe["s-sn"],this.tagName);if($e){const vt=Jn($e,oe["s-sn"]).find(Je=>Je===oe);if(vt)return vt.remove(),void it(this)}}return this.__removeChild(oe)}},te=P=>{const oe=P.prepend;P.prepend=function(...$e){$e.forEach(He=>{"string"==typeof He&&(He=this.ownerDocument.createTextNode(He));const vt=He["s-sn"]=Ii(He),Je=pi(this.childNodes,vt,this.tagName);if(Je){const jt=document.createTextNode("");jt["s-nr"]=He,Je["s-cr"].parentNode.__appendChild(jt),He["s-ol"]=jt;const qt=Jn(Je,vt)[0];return qt.parentNode.insertBefore(He,qt.nextSibling)}return 1===He.nodeType&&He.getAttribute("slot")&&(He.hidden=!0),oe.call(this,He)})}},Ve=P=>{P.append=function(...oe){oe.forEach($e=>{"string"==typeof $e&&($e=this.ownerDocument.createTextNode($e)),this.appendChild($e)})}},St=P=>{const oe=P.insertAdjacentHTML;P.insertAdjacentHTML=function($e,He){if("afterbegin"!==$e&&"beforeend"!==$e)return oe.call(this,$e,He);const vt=this.ownerDocument.createElement("_");let Je;if(vt.innerHTML=He,"afterbegin"===$e)for(;Je=vt.firstChild;)this.prepend(Je);else if("beforeend"===$e)for(;Je=vt.firstChild;)this.append(Je)}},Nt=P=>{P.insertAdjacentText=function(oe,$e){this.insertAdjacentHTML(oe,$e)}},_n=P=>{const oe=P.insertAdjacentElement;P.insertAdjacentElement=function($e,He){return"afterbegin"!==$e&&"beforeend"!==$e?oe.call(this,$e,He):"afterbegin"===$e?(this.prepend(He),He):("beforeend"===$e&&this.append(He),He)}},Yn=P=>{const oe=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(P,"__textContent",oe),Object.defineProperty(P,"textContent",{get(){return" "+di(this.childNodes).map(vt=>{var Je,jt;const Yt=[];let qt=vt.nextSibling;for(;qt&&qt["s-sn"]===vt["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&Yt.push(null!=(jt=null==(Je=qt.textContent)?void 0:Je.trim())?jt:""),qt=qt.nextSibling;return Yt.filter(tn=>""!==tn).join(" ")}).filter(vt=>""!==vt).join(" ")+" "},set($e){di(this.childNodes).forEach(vt=>{let Je=vt.nextSibling;for(;Je&&Je["s-sn"]===vt["s-sn"];){const jt=Je;Je=Je.nextSibling,jt.remove()}if(""===vt["s-sn"]){const jt=this.ownerDocument.createTextNode($e);jt["s-sn"]="",vt.parentElement.insertBefore(jt,vt.nextSibling)}else vt.remove()})}})},Gn=(P,oe)=>{class $e extends Array{item(vt){return this[vt]}}if(8&oe.$flags$){const He=P.__lookupGetter__("childNodes");Object.defineProperty(P,"children",{get(){return this.childNodes.map(vt=>1===vt.nodeType)}}),Object.defineProperty(P,"childElementCount",{get:()=>P.children.length}),Object.defineProperty(P,"childNodes",{get(){const vt=He.call(this);if(!(1&On.$flags$)&&2&Di(this).$flags$){const Je=new $e;for(let jt=0;jt<vt.length;jt++){const Yt=vt[jt]["s-nr"];Yt&&Je.push(Yt)}return Je}return $e.from(vt)}})}},di=P=>{const oe=[];for(const $e of Array.from(P))$e["s-sr"]&&oe.push($e),oe.push(...di($e.childNodes));return oe},Ii=P=>P["s-sn"]||1===P.nodeType&&P.getAttribute("slot")||"",pi=(P,oe,$e)=>{let vt,He=0;for(;He<P.length;He++)if(vt=P[He],vt["s-sr"]&&vt["s-sn"]===oe&&vt["s-hn"]===$e||(vt=pi(vt.childNodes,oe,$e),vt))return vt;return null},Jn=(P,oe)=>{const $e=[P];for(;(P=P.nextSibling)&&P["s-sn"]===oe;)$e.push(P);return $e},Fi=(P,oe={})=>{var $e;const vt=[],Je=oe.exclude||[],jt=vo.customElements,Yt=ti.head,qt=Yt.querySelector("meta[charset]"),tn=ti.createElement("style"),Cn=[],Mn=ti.querySelectorAll(`[${we}]`);let Kn,jn=!0,ni=0;for(Object.assign(On,oe),On.$resourcesUrl$=new URL(oe.resourcesUrl||"./",ti.baseURI).href,On.$flags$|=2;ni<Mn.length;ni++)Hn(Mn[ni].getAttribute(we),gt(Mn[ni].innerHTML),!0);let si=!1;if(P.map(hi=>{hi[1].map(Ri=>{var xi;const jr={$flags$:Ri[0],$tagName$:Ri[1],$members$:Ri[2],$listeners$:Ri[3]};4&jr.$flags$&&(si=!0),jr.$members$=Ri[2],jr.$listeners$=Ri[3],jr.$attrsToReflect$=[],jr.$watchers$=null!=(xi=Ri[4])?xi:{};const Ji=jr.$tagName$,Ps=class extends HTMLElement{constructor(ts){super(ts),mo(ts=this,jr),1&jr.$flags$&&ts.attachShadow({mode:"open",delegatesFocus:!!(16&jr.$flags$)})}connectedCallback(){Kn&&(clearTimeout(Kn),Kn=null),jn?Cn.push(this):On.jmp(()=>(P=>{if(!(1&On.$flags$)){const oe=Di(P),$e=oe.$cmpMeta$,He=()=>{};if(1&oe.$flags$)Oo(P,oe,$e.$listeners$),null!=oe&&oe.$lazyInstance$?or(oe.$lazyInstance$):null!=oe&&oe.$onReadyPromise$&&oe.$onReadyPromise$.then(()=>or(oe.$lazyInstance$));else{let vt;if(oe.$flags$|=1,vt=P.getAttribute(Ct),vt){if(1&$e.$flags$){const Je=tr(P.shadowRoot,$e,P.getAttribute("s-mode"));P.classList.remove(Je+"-h",Je+"-s")}((P,oe,$e,He)=>{const Je=P.shadowRoot,jt=[],qt=Je?[]:null,tn=He.$vnode$=mn(oe,null);On.$orgLocNodes$||Me(ti.body,On.$orgLocNodes$=new Map),P[Ct]=$e,P.removeAttribute(Ct),se(tn,jt,[],qt,P,P,$e),jt.map(Cn=>{const Mn=Cn.$hostId$+"."+Cn.$nodeId$,Kn=On.$orgLocNodes$.get(Mn),jn=Cn.$elm$;Kn&&ko&&""===Kn["s-en"]&&Kn.parentNode.insertBefore(jn,Kn.nextSibling),Je||(jn["s-hn"]=oe,Kn&&(jn["s-ol"]=Kn,jn["s-ol"]["s-nr"]=jn)),On.$orgLocNodes$.delete(Mn)}),Je&&qt.map(Cn=>{Cn&&Je.appendChild(Cn)})})(P,$e.$tagName$,vt,oe)}vt||12&$e.$flags$&&Ti(P);{let Je=P;for(;Je=Je.parentNode||Je.host;)if(1===Je.nodeType&&Je.hasAttribute("s-id")&&Je["s-p"]||Je["s-p"]){ne(oe,oe.$ancestorComponent$=Je);break}}$e.$members$&&Object.entries($e.$members$).map(([Je,[jt]])=>{if(31&jt&&P.hasOwnProperty(Je)){const Yt=P[Je];delete P[Je],P[Je]=Yt}}),Jr(P,oe,$e)}He()}})(this))}disconnectedCallback(){On.jmp(()=>_t(this))}componentOnReady(){return Di(this).$onReadyPromise$}};2&jr.$flags$&&((P,oe)=>{ae(P),Ge(P),Ve(P),te(P),_n(P),St(P),Nt(P),Yn(P),Gn(P,oe),re(P)})(Ps.prototype,jr),jr.$lazyBundleId$=hi[0],!Je.includes(Ji)&&!jt.get(Ji)&&(vt.push(Ji),jt.define(Ji,ci(Ps,jr,1)))})}),vt.length>0&&(si&&(tn.textContent+=rn),tn.textContent+=vt+"{visibility:hidden}.hydrated{visibility:inherit}",tn.innerHTML.length)){tn.setAttribute("data-styles","");const hi=null!=($e=On.$nonce$)?$e:qe(ti);null!=hi&&tn.setAttribute("nonce",hi),Yt.insertBefore(tn,qt?qt.nextSibling:Yt.firstChild)}jn=!1,Cn.length?Cn.map(hi=>hi.connectedCallback()):On.jmp(()=>Kn=setTimeout(zt,30))},Oo=(P,oe,$e,He)=>{$e&&$e.map(([vt,Je,jt])=>{const Yt=Vr(P,vt),qt=go(oe,jt),tn=gi(vt);On.ael(Yt,Je,qt,tn),(oe.$rmListeners$=oe.$rmListeners$||[]).push(()=>On.rel(Yt,Je,qt,tn))})},go=(P,oe)=>$e=>{try{256&P.$flags$?P.$lazyInstance$[oe]($e):(P.$queuedListeners$=P.$queuedListeners$||[]).push([oe,$e])}catch(He){nr(He)}},Vr=(P,oe)=>4&oe?ti:8&oe?vo:16&oe?ti.body:P,gi=P=>ji?{passive:!!(1&P),capture:!!(2&P)}:!!(2&P),Bi=new WeakMap,Di=P=>Bi.get(P),Yi=(P,oe)=>Bi.set(oe.$lazyInstance$=P,oe),mo=(P,oe)=>{const $e={$flags$:0,$hostElement$:P,$cmpMeta$:oe,$instanceValues$:new Map};return $e.$onInstancePromise$=new Promise(He=>$e.$onInstanceResolve$=He),$e.$onReadyPromise$=new Promise(He=>$e.$onReadyResolve$=He),P["s-p"]=[],P["s-rc"]=[],Oo(P,$e,oe.$listeners$),Bi.set(P,$e)},Zo=(P,oe)=>oe in P,nr=(P,oe)=>(0,console.error)(P,oe),wr=new Map,qs=(P,oe,$e)=>{const He=P.$tagName$.replace(/-/g,"_"),vt=P.$lazyBundleId$,Je=wr.get(vt);return Je?Je[He]:N(8996)(`./${vt}.entry.js`).then(jt=>(wr.set(vt,jt),jt[He]),nr)},Li=new Map,es=[],vo=typeof window<"u"?window:{},ti=vo.document||{head:{}},On={$flags$:0,$resourcesUrl$:"",jmp:P=>P(),raf:P=>requestAnimationFrame(P),ael:(P,oe,$e,He)=>P.addEventListener(oe,$e,He),rel:(P,oe,$e,He)=>P.removeEventListener(oe,$e,He),ce:(P,oe)=>new CustomEvent(P,oe)},_o=P=>{Object.assign(On,P)},ko=!0,ji=(()=>{let P=!1;try{ti.addEventListener("e",null,Object.defineProperty({},"passive",{get(){P=!0}}))}catch{}return P})(),ao=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),yo=!1,ro=[],To=[],wi=(P,oe)=>$e=>{P.push($e),yo||(yo=!0,oe&&4&On.$flags$?me(X):On.raf(X))},S=P=>{for(let oe=0;oe<P.length;oe++)try{P[oe](performance.now())}catch($e){nr($e)}P.length=0},X=()=>{S(ro),S(To),(yo=ro.length>0)&&On.raf(X)},me=P=>Promise.resolve(void 0).then(P),x=wi(ro,!1),Ae=wi(To,!0)},4929:(hn,ft,N)=>{"use strict";N.d(ft,{a:()=>d,b:()=>V,p:()=>c});const c=(Re,...Y)=>console.warn(`[Ionic Warning]: ${Re}`,...Y),d=(Re,...Y)=>console.error(`[Ionic Error]: ${Re}`,...Y),V=(Re,...Y)=>console.error(`<${Re.tagName.toLowerCase()}> must be used inside ${Y.join(" or ")}.`)},8476:(hn,ft,N)=>{"use strict";N.d(ft,{d:()=>d,w:()=>c});const c=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},3635:(hn,ft,N)=>{"use strict";N.d(ft,{a:()=>ge,b:()=>mn,c:()=>V,i:()=>mt});var c=N(5539);class d{constructor(){this.m=new Map}reset(J){this.m=new Map(Object.entries(J))}get(J,Z){const ce=this.m.get(J);return void 0!==ce?ce:Z}getBoolean(J,Z=!1){const ce=this.m.get(J);return void 0===ce?Z:"string"==typeof ce?"true"===ce:!!ce}getNumber(J,Z){const ce=parseFloat(this.m.get(J));return isNaN(ce)?void 0!==Z?Z:NaN:ce}set(J,Z){this.m.set(J,Z)}}const V=new d,Ze="ionic-persist-config",ge=(Ne,J)=>("string"==typeof Ne&&(J=Ne,Ne=void 0),(Ne=>Ke(Ne))(Ne).includes(J)),Ke=(Ne=window)=>{if(typeof Ne>"u")return[];Ne.Ionic=Ne.Ionic||{};let J=Ne.Ionic.platforms;return null==J&&(J=Ne.Ionic.platforms=qe(Ne),J.forEach(Z=>Ne.document.documentElement.classList.add(`plt-${Z}`))),J},qe=Ne=>{const J=V.get("platform");return Object.keys(fn).filter(Z=>{const ce=null==J?void 0:J[Z];return"function"==typeof ce?ce(Ne):fn[Z](Ne)})},nt=Ne=>!!(kt(Ne,/iPad/i)||kt(Ne,/Macintosh/i)&&Se(Ne)),Xe=Ne=>kt(Ne,/android|sink/i),Se=Ne=>rn(Ne,"(any-pointer:coarse)"),je=Ne=>dt(Ne)||Ct(Ne),dt=Ne=>!!(Ne.cordova||Ne.phonegap||Ne.PhoneGap),Ct=Ne=>{const J=Ne.Capacitor;return!(null==J||!J.isNative)},kt=(Ne,J)=>J.test(Ne.navigator.userAgent),rn=(Ne,J)=>{var Z;return null===(Z=Ne.matchMedia)||void 0===Z?void 0:Z.call(Ne,J).matches},fn={ipad:nt,iphone:Ne=>kt(Ne,/iPhone/i),ios:Ne=>kt(Ne,/iPhone|iPod/i)||nt(Ne),android:Xe,phablet:Ne=>{const J=Ne.innerWidth,Z=Ne.innerHeight,ce=Math.min(J,Z),pe=Math.max(J,Z);return ce>390&&ce<520&&pe>620&&pe<800},tablet:Ne=>{const J=Ne.innerWidth,Z=Ne.innerHeight,ce=Math.min(J,Z),pe=Math.max(J,Z);return nt(Ne)||(Ne=>Xe(Ne)&&!kt(Ne,/mobile/i))(Ne)||ce>460&&ce<820&&pe>780&&pe<1400},cordova:dt,capacitor:Ct,electron:Ne=>kt(Ne,/electron/i),pwa:Ne=>{var J;return!!(null!==(J=Ne.matchMedia)&&void 0!==J&&J.call(Ne,"(display-mode: standalone)").matches||Ne.navigator.standalone)},mobile:Se,mobileweb:Ne=>Se(Ne)&&!je(Ne),desktop:Ne=>!Se(Ne),hybrid:je};let Wt;const mn=Ne=>Ne&&(0,c.g)(Ne)||Wt,mt=(Ne={})=>{if(typeof window>"u")return;const J=window.document,Z=window,ce=Z.Ionic=Z.Ionic||{},pe={};Ne._ael&&(pe.ael=Ne._ael),Ne._rel&&(pe.rel=Ne._rel),Ne._ce&&(pe.ce=Ne._ce),(0,c.a)(pe);const se=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ne=>{try{const J=Ne.sessionStorage.getItem(Ze);return null!==J?JSON.parse(J):{}}catch{return{}}})(Z)),{persistConfig:!1}),ce.config),(Ne=>{const J={};return Ne.location.search.slice(1).split("&").map(Z=>Z.split("=")).map(([Z,ce])=>[decodeURIComponent(Z),decodeURIComponent(ce)]).filter(([Z])=>((Ne,J)=>Ne.substr(0,J.length)===J)(Z,"ionic:")).map(([Z,ce])=>[Z.slice(6),ce]).forEach(([Z,ce])=>{J[Z]=ce}),J})(Z)),Ne);V.reset(se),V.getBoolean("persistConfig")&&((Ne,J)=>{try{Ne.sessionStorage.setItem(Ze,JSON.stringify(J))}catch{return}})(Z,se),Ke(Z),ce.config=V,ce.mode=Wt=V.get("mode",J.documentElement.getAttribute("mode")||(ge(Z,"ios")?"ios":"md")),V.set("mode",Wt),J.documentElement.setAttribute("mode",Wt),J.documentElement.classList.add(Wt),V.getBoolean("_testing")&&V.set("animated",!1);const Me=lt=>{var Mt;return null===(Mt=lt.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},Pe=lt=>["ios","md"].includes(lt);(0,c.c)(lt=>{for(;lt;){const Mt=lt.mode||lt.getAttribute("mode");if(Mt){if(Pe(Mt))return Mt;Me(lt)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}lt=lt.parentElement}return Wt})}},7814:(hn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{iosTransitionAnimation:()=>We,shadow:()=>Ce});var c=N(9986),d=N(530);N(8476),N(3635),N(5539);const ie=ct=>document.querySelector(`${ct}.ion-cloned-element`),Ce=ct=>ct.shadowRoot||ct,Ze=ct=>{const ot="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs"),Xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ot){const et=ot.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=et?et.querySelector(Xe):null}return ct.querySelector(Xe)},_e=(ct,ot)=>{const Xe="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs");let et=[];if(null!=Xe){const Qe=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Qe&&(et=Qe.querySelectorAll("ion-buttons"))}else et=ct.querySelectorAll("ion-buttons");for(const Qe of et){const tt=Qe.closest("ion-header"),Se=tt&&!tt.classList.contains("header-collapse-condense-inactive"),ze=Qe.querySelector("ion-back-button"),je=Qe.classList.contains("buttons-collapse");if(null!==ze&&("start"===Qe.slot||""===Qe.slot)&&(je&&Se&&ot||!je))return ze}return null},Ke=(ct,ot,Xe,et,Qe,tt,Se,ze,je)=>{var dt,Ct;const we=ot?`calc(100% - ${Qe.right+4}px)`:Qe.left-4+"px",Dt=ot?"right":"left",kt=ot?"left":"right",rn=ot?"right":"left";let fn=1,Wt=1,mn=`scale(${Wt})`;const mt="scale(1)";if(tt&&Se){const Rt=(null===(dt=tt.textContent)||void 0===dt?void 0:dt.trim())===(null===(Ct=ze.textContent)||void 0===Ct?void 0:Ct.trim());fn=je.width/Se.width,Wt=(je.height-nt)/Se.height,mn=Rt?`scale(${fn}, ${Wt})`:`scale(${Wt})`}const J=Ce(et).querySelector("ion-icon").getBoundingClientRect(),Z=ot?J.width/2-(J.right-Qe.right)+"px":Qe.left-J.width/2+"px",ce=ot?`-${window.innerWidth-Qe.right}px`:`${Qe.left}px`,pe=`${je.top}px`,se=`${Qe.top}px`,lt=Xe?[{offset:0,transform:`translate3d(${ce}, ${se}, 0)`},{offset:1,transform:`translate3d(${Z}, ${pe}, 0)`}]:[{offset:0,transform:`translate3d(${Z}, ${pe}, 0)`},{offset:1,transform:`translate3d(${ce}, ${se}, 0)`}],bt=Xe?[{offset:0,opacity:1,transform:mt},{offset:1,opacity:0,transform:mn}]:[{offset:0,opacity:0,transform:mn},{offset:1,opacity:1,transform:mt}],Bn=Xe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Hn=(0,c.c)(),tr=(0,c.c)(),Vn=(0,c.c)(),zn=ie("ion-back-button"),gt=Ce(zn).querySelector(".button-text"),Be=Ce(zn).querySelector("ion-icon");zn.text=et.text,zn.mode=et.mode,zn.icon=et.icon,zn.color=et.color,zn.disabled=et.disabled,zn.style.setProperty("display","block"),zn.style.setProperty("position","fixed"),tr.addElement(Be),Hn.addElement(gt),Vn.addElement(zn),Vn.beforeStyles({position:"absolute",top:"0px",[rn]:"0px"}).beforeAddWrite(()=>{et.style.setProperty("display","none"),zn.style.setProperty(Dt,we)}).afterAddWrite(()=>{et.style.setProperty("display",""),zn.style.setProperty("display","none"),zn.style.removeProperty(Dt)}).keyframes(lt),Hn.beforeStyles({"transform-origin":`${Dt} top`}).keyframes(bt),tr.beforeStyles({"transform-origin":`${kt} center`}).keyframes(Bn),ct.addAnimation([Hn,tr,Vn])},qe=(ct,ot,Xe,et,Qe,tt,Se,ze,je)=>{var dt,Ct;const we=ot?"right":"left",Dt=ot?`calc(100% - ${Qe.right}px)`:`${Qe.left}px`,rn=`${Qe.top}px`;let Wt=ot?`-${window.innerWidth-Se.right-8}px`:`${Se.x+8}px`,mn=.5;const mt="scale(1)";let Ne=`scale(${mn})`;if(ze&&je){Wt=ot?`-${window.innerWidth-je.right-8}px`:je.x-8+"px";const Mt=(null===(dt=ze.textContent)||void 0===dt?void 0:dt.trim())===(null===(Ct=et.textContent)||void 0===Ct?void 0:Ct.trim());mn=je.height/(tt.height-nt),Ne=Mt?`scale(${je.width/tt.width}, ${mn})`:`scale(${mn})`}const ce=Se.top+Se.height/2-Qe.height*mn/2+"px",Me=Xe?[{offset:0,opacity:0,transform:`translate3d(${Wt}, ${ce}, 0) ${Ne}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${rn}, 0) ${mt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${rn}, 0) ${mt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Wt}, ${ce}, 0) ${Ne}`}],Pe=ie("ion-title"),lt=(0,c.c)();Pe.innerText=et.innerText,Pe.size=et.size,Pe.color=et.color,lt.addElement(Pe),lt.beforeStyles({"transform-origin":`${we} top`,height:`${Qe.height}px`,display:"",position:"relative",[we]:Dt}).beforeAddWrite(()=>{et.style.setProperty("opacity","0")}).afterAddWrite(()=>{et.style.setProperty("opacity",""),Pe.style.setProperty("display","none")}).keyframes(Me),ct.addAnimation(lt)},We=(ct,ot)=>{var Xe;try{const et="cubic-bezier(0.32,0.72,0,1)",Qe="opacity",tt="transform",Se="0%",je="rtl"===ct.ownerDocument.dir,dt=je?"-99.5%":"99.5%",Ct=je?"33%":"-33%",we=ot.enteringEl,Dt=ot.leavingEl,kt="back"===ot.direction,rn=we.querySelector(":scope > ion-content"),fn=we.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Wt=we.querySelectorAll(":scope > ion-header > ion-toolbar"),mn=(0,c.c)(),mt=(0,c.c)();if(mn.addElement(we).duration((null!==(Xe=ot.duration)&&void 0!==Xe?Xe:0)||540).easing(ot.easing||et).fill("both").beforeRemoveClass("ion-page-invisible"),Dt&&null!=ct){const ce=(0,c.c)();ce.addElement(ct),mn.addAnimation(ce)}if(rn||0!==Wt.length||0!==fn.length?(mt.addElement(rn),mt.addElement(fn)):mt.addElement(we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),mn.addAnimation(mt),kt?mt.beforeClearStyles([Qe]).fromTo("transform",`translateX(${Ct})`,`translateX(${Se})`).fromTo(Qe,.8,1):mt.beforeClearStyles([Qe]).fromTo("transform",`translateX(${dt})`,`translateX(${Se})`),rn){const ce=Ce(rn).querySelector(".transition-effect");if(ce){const pe=ce.querySelector(".transition-cover"),se=ce.querySelector(".transition-shadow"),Me=(0,c.c)(),Pe=(0,c.c)(),lt=(0,c.c)();Me.addElement(ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(pe).beforeClearStyles([Qe]).fromTo(Qe,0,.1),lt.addElement(se).beforeClearStyles([Qe]).fromTo(Qe,.03,.7),Me.addAnimation([Pe,lt]),mt.addAnimation([Me])}}const Ne=we.querySelector("ion-header.header-collapse-condense"),{forward:J,backward:Z}=((ct,ot,Xe,et,Qe)=>{const tt=_e(et,Xe),Se=Ze(Qe),ze=Ze(et),je=_e(Qe,Xe),dt=null!==tt&&null!==Se&&!Xe,Ct=null!==ze&&null!==je&&Xe;if(dt){const we=Se.getBoundingClientRect(),Dt=tt.getBoundingClientRect(),kt=Ce(tt).querySelector(".button-text"),rn=null==kt?void 0:kt.getBoundingClientRect(),Wt=Ce(Se).querySelector(".toolbar-title").getBoundingClientRect();qe(ct,ot,Xe,Se,we,Wt,Dt,kt,rn),Ke(ct,ot,Xe,tt,Dt,kt,rn,Se,Wt)}else if(Ct){const we=ze.getBoundingClientRect(),Dt=je.getBoundingClientRect(),kt=Ce(je).querySelector(".button-text"),rn=null==kt?void 0:kt.getBoundingClientRect(),Wt=Ce(ze).querySelector(".toolbar-title").getBoundingClientRect();qe(ct,ot,Xe,ze,we,Wt,Dt,kt,rn),Ke(ct,ot,Xe,je,Dt,kt,rn,ze,Wt)}return{forward:dt,backward:Ct}})(mn,je,kt,we,Dt);if(Wt.forEach(ce=>{const pe=(0,c.c)();pe.addElement(ce),mn.addAnimation(pe);const se=(0,c.c)();se.addElement(ce.querySelector("ion-title"));const Me=(0,c.c)(),Pe=Array.from(ce.querySelectorAll("ion-buttons,[menuToggle]")),lt=ce.closest("ion-header"),Mt=null==lt?void 0:lt.classList.contains("header-collapse-condense-inactive");let wt;wt=Pe.filter(kt?Hn=>{const tr=Hn.classList.contains("buttons-collapse");return tr&&!Mt||!tr}:Hn=>!Hn.classList.contains("buttons-collapse")),Me.addElement(wt);const bt=(0,c.c)();bt.addElement(ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const nn=(0,c.c)();nn.addElement(Ce(ce).querySelector(".toolbar-background"));const vn=(0,c.c)(),Bn=ce.querySelector("ion-back-button");if(Bn&&vn.addElement(Bn),pe.addAnimation([se,Me,bt,nn,vn]),Me.fromTo(Qe,.01,1),bt.fromTo(Qe,.01,1),kt)Mt||se.fromTo("transform",`translateX(${Ct})`,`translateX(${Se})`).fromTo(Qe,.01,1),bt.fromTo("transform",`translateX(${Ct})`,`translateX(${Se})`),vn.fromTo(Qe,.01,1);else if(Ne||se.fromTo("transform",`translateX(${dt})`,`translateX(${Se})`).fromTo(Qe,.01,1),bt.fromTo("transform",`translateX(${dt})`,`translateX(${Se})`),nn.beforeClearStyles([Qe,"transform"]),(null==lt?void 0:lt.translucent)?nn.fromTo("transform",je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):nn.fromTo(Qe,.01,"var(--opacity)"),J||vn.fromTo(Qe,.01,1),Bn&&!J){const tr=(0,c.c)();tr.addElement(Ce(Bn).querySelector(".button-text")).fromTo("transform",je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),pe.addAnimation(tr)}}),Dt){const ce=(0,c.c)(),pe=Dt.querySelector(":scope > ion-content"),se=Dt.querySelectorAll(":scope > ion-header > ion-toolbar"),Me=Dt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(pe||0!==se.length||0!==Me.length?(ce.addElement(pe),ce.addElement(Me)):ce.addElement(Dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),mn.addAnimation(ce),kt){ce.beforeClearStyles([Qe]).fromTo("transform",`translateX(${Se})`,je?"translateX(-100%)":"translateX(100%)");const Pe=(0,d.g)(Dt);mn.afterAddWrite(()=>{"normal"===mn.getDirection()&&Pe.style.setProperty("display","none")})}else ce.fromTo("transform",`translateX(${Se})`,`translateX(${Ct})`).fromTo(Qe,1,.8);if(pe){const Pe=Ce(pe).querySelector(".transition-effect");if(Pe){const lt=Pe.querySelector(".transition-cover"),Mt=Pe.querySelector(".transition-shadow"),wt=(0,c.c)(),bt=(0,c.c)(),nn=(0,c.c)();wt.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),bt.addElement(lt).beforeClearStyles([Qe]).fromTo(Qe,.1,0),nn.addElement(Mt).beforeClearStyles([Qe]).fromTo(Qe,.7,.03),wt.addAnimation([bt,nn]),ce.addAnimation([wt])}}se.forEach(Pe=>{const lt=(0,c.c)();lt.addElement(Pe);const Mt=(0,c.c)();Mt.addElement(Pe.querySelector("ion-title"));const wt=(0,c.c)(),bt=Pe.querySelectorAll("ion-buttons,[menuToggle]"),nn=Pe.closest("ion-header"),vn=null==nn?void 0:nn.classList.contains("header-collapse-condense-inactive"),Bn=Array.from(bt).filter(Be=>{const Rt=Be.classList.contains("buttons-collapse");return Rt&&!vn||!Rt});wt.addElement(Bn);const Hn=(0,c.c)(),tr=Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");tr.length>0&&Hn.addElement(tr);const Vn=(0,c.c)();Vn.addElement(Ce(Pe).querySelector(".toolbar-background"));const zn=(0,c.c)(),gt=Pe.querySelector("ion-back-button");if(gt&&zn.addElement(gt),lt.addAnimation([Mt,wt,Hn,zn,Vn]),mn.addAnimation(lt),zn.fromTo(Qe,.99,0),wt.fromTo(Qe,.99,0),Hn.fromTo(Qe,.99,0),kt){if(vn||Mt.fromTo("transform",`translateX(${Se})`,je?"translateX(-100%)":"translateX(100%)").fromTo(Qe,.99,0),Hn.fromTo("transform",`translateX(${Se})`,je?"translateX(-100%)":"translateX(100%)"),Vn.beforeClearStyles([Qe,"transform"]),(null==nn?void 0:nn.translucent)?Vn.fromTo("transform","translateX(0px)",je?"translateX(-100%)":"translateX(100%)"):Vn.fromTo(Qe,"var(--opacity)",0),gt&&!Z){const Rt=(0,c.c)();Rt.addElement(Ce(gt).querySelector(".button-text")).fromTo("transform",`translateX(${Se})`,`translateX(${(je?-124:124)+"px"})`),lt.addAnimation(Rt)}}else vn||Mt.fromTo("transform",`translateX(${Se})`,`translateX(${Ct})`).fromTo(Qe,.99,0).afterClearStyles([tt,Qe]),Hn.fromTo("transform",`translateX(${Se})`,`translateX(${Ct})`).afterClearStyles([tt,Qe]),zn.afterClearStyles([Qe]),Mt.afterClearStyles([Qe]),wt.afterClearStyles([Qe])})}return mn}catch(et){throw et}},nt=10},7559:(hn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{mdTransitionAnimation:()=>ke});var c=N(9986),d=N(530);N(8476),N(3635),N(5539);const ke=(ie,Ce)=>{var Ze,_e,ge;const We="back"===Ce.direction,ct=Ce.leavingEl,ot=(0,d.g)(Ce.enteringEl),Xe=ot.querySelector("ion-toolbar"),et=(0,c.c)();if(et.addElement(ot).fill("both").beforeRemoveClass("ion-page-invisible"),We?et.duration((null!==(Ze=Ce.duration)&&void 0!==Ze?Ze:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):et.duration((null!==(_e=Ce.duration)&&void 0!==_e?_e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Xe){const Qe=(0,c.c)();Qe.addElement(Xe),et.addAnimation(Qe)}if(ct&&We){et.duration((null!==(ge=Ce.duration)&&void 0!==ge?ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Qe=(0,c.c)();Qe.addElement((0,d.g)(ct)).onFinish(tt=>{1===tt&&Qe.elements.length>0&&Qe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),et.addAnimation(Qe)}return et}},2478:(hn,ft,N)=>{"use strict";N.d(ft,{B:()=>bt,F:()=>zn,G:()=>nn,O:()=>vn,a:()=>ot,b:()=>Xe,c:()=>Se,d:()=>Bn,e:()=>Hn,f:()=>J,g:()=>ce,h:()=>Me,i:()=>lt,j:()=>je,k:()=>dt,l:()=>et,m:()=>Qe,n:()=>_e,o:()=>mt,q:()=>ge,s:()=>wt,t:()=>ze});var c=N(467),d=N(8476),V=N(4920),Re=N(7567),Y=N(3635),ke=N(8621),ie=N(1970),Ce=N(4929);const Ze='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',_e=(gt,Be)=>{const Rt=gt.querySelector(Ze);Ke(Rt,null!=Be?Be:gt)},ge=(gt,Be)=>{const Rt=Array.from(gt.querySelectorAll(Ze));Ke(Rt.length>0?Rt[Rt.length-1]:null,null!=Be?Be:gt)},Ke=(gt,Be)=>{let Rt=gt;const pn=null==gt?void 0:gt.shadowRoot;pn&&(Rt=pn.querySelector(Ze)||gt),Rt?(0,V.f)(Rt):Be.focus()};let qe=0,We=0;const nt=new WeakMap,ct=gt=>({create:Be=>Ct(gt,Be),dismiss:(Be,Rt,pn)=>fn(document,Be,Rt,gt,pn),getTop:()=>(0,c.A)(function*(){return mt(document,gt)})()}),ot=ct("ion-alert"),Xe=ct("ion-action-sheet"),et=ct("ion-loading"),Qe=ct("ion-modal"),Se=ct("ion-popover"),ze=ct("ion-toast"),je=gt=>{typeof document<"u"&&rn(document);const Be=qe++;gt.overlayIndex=Be},dt=gt=>(gt.hasAttribute("id")||(gt.id="ion-overlay-"+ ++We),gt.id),Ct=(gt,Be)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(gt).then(()=>{const Rt=document.createElement(gt);return Rt.classList.add("overlay-hidden"),Object.assign(Rt,Object.assign(Object.assign({},Be),{hasController:!0})),pe(document).appendChild(Rt),new Promise(pn=>(0,V.c)(Rt,pn))}):Promise.resolve(),Dt=(gt,Be)=>{let Rt=gt;const pn=null==gt?void 0:gt.shadowRoot;pn&&(Rt=pn.querySelector(Ze)||gt),Rt?(0,V.f)(Rt):Be.focus()},rn=gt=>{0===qe&&(qe=1,gt.addEventListener("focus",Be=>{((gt,Be)=>{const Rt=mt(Be,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),pn=gt.target;Rt&&pn&&!Rt.classList.contains(zn)&&(Rt.shadowRoot?(()=>{if(Rt.contains(pn))Rt.lastFocus=pn;else if("ION-TOAST"===pn.tagName)Dt(Rt.lastFocus,Rt);else{const Xn=Rt.lastFocus;_e(Rt),Xn===Be.activeElement&&ge(Rt),Rt.lastFocus=Be.activeElement}})():(()=>{if(Rt===pn)Rt.lastFocus=void 0;else if("ION-TOAST"===pn.tagName)Dt(Rt.lastFocus,Rt);else{const Xn=(0,V.g)(Rt);if(!Xn.contains(pn))return;const un=Xn.querySelector(".ion-overlay-wrapper");if(!un)return;if(un.contains(pn)||pn===Xn.querySelector("ion-backdrop"))Rt.lastFocus=pn;else{const Zt=Rt.lastFocus;_e(un,Rt),Zt===Be.activeElement&&ge(un,Rt),Rt.lastFocus=Be.activeElement}}})())})(Be,gt)},!0),gt.addEventListener("ionBackButton",Be=>{const Rt=mt(gt);null!=Rt&&Rt.backdropDismiss&&Be.detail.register(Re.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Rt.dismiss(void 0,bt)})}),(0,Re.shouldUseCloseWatcher)()||gt.addEventListener("keydown",Be=>{if("Escape"===Be.key){const Rt=mt(gt);null!=Rt&&Rt.backdropDismiss&&Rt.dismiss(void 0,bt)}}))},fn=(gt,Be,Rt,pn,Wn)=>{const ur=mt(gt,pn,Wn);return ur?ur.dismiss(Be,Rt):Promise.reject("overlay does not exist")},mn=(gt,Be)=>((gt,Be)=>(void 0===Be&&(Be="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(gt.querySelectorAll(Be)).filter(Rt=>Rt.overlayIndex>0)))(gt,Be).filter(Rt=>!(gt=>gt.classList.contains("overlay-hidden"))(Rt)),mt=(gt,Be,Rt)=>{const pn=mn(gt,Be);return void 0===Rt?pn[pn.length-1]:pn.find(Wn=>Wn.id===Rt)},Ne=(gt=!1)=>{const Rt=pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Rt&&(gt?Rt.setAttribute("aria-hidden","true"):Rt.removeAttribute("aria-hidden"))},J=function(){var gt=(0,c.A)(function*(Be,Rt,pn,Wn,ur){var Xn,un;if(Be.presented)return;Ne(!0),document.body.classList.add(ie.B),tr(Be.el),Be.presented=!0,Be.willPresent.emit(),null===(Xn=Be.willPresentShorthand)||void 0===Xn||Xn.emit();const Zt=(0,Y.b)(Be),Nn=Be.enterAnimation?Be.enterAnimation:Y.c.get(Rt,"ios"===Zt?pn:Wn);(yield se(Be,Nn,Be.el,ur))&&(Be.didPresent.emit(),null===(un=Be.didPresentShorthand)||void 0===un||un.emit()),"ION-TOAST"!==Be.el.tagName&&Z(Be.el),Be.keyboardClose&&(null===document.activeElement||!Be.el.contains(document.activeElement))&&Be.el.focus(),Be.el.removeAttribute("aria-hidden")});return function(Rt,pn,Wn,ur,Xn){return gt.apply(this,arguments)}}(),Z=function(){var gt=(0,c.A)(function*(Be){let Rt=document.activeElement;if(!Rt)return;const pn=null==Rt?void 0:Rt.shadowRoot;pn&&(Rt=pn.querySelector(Ze)||Rt),yield Be.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Rt.focus()});return function(Rt){return gt.apply(this,arguments)}}(),ce=function(){var gt=(0,c.A)(function*(Be,Rt,pn,Wn,ur,Xn,un){var Zt,Nn;if(!Be.presented)return!1;void 0!==d.d&&1===mn(d.d).length&&(Ne(!1),document.body.classList.remove(ie.B)),Be.presented=!1;try{Be.el.style.setProperty("pointer-events","none"),Be.willDismiss.emit({data:Rt,role:pn}),null===(Zt=Be.willDismissShorthand)||void 0===Zt||Zt.emit({data:Rt,role:pn});const qn=(0,Y.b)(Be),Qn=Be.leaveAnimation?Be.leaveAnimation:Y.c.get(Wn,"ios"===qn?ur:Xn);pn!==nn&&(yield se(Be,Qn,Be.el,un)),Be.didDismiss.emit({data:Rt,role:pn}),null===(Nn=Be.didDismissShorthand)||void 0===Nn||Nn.emit({data:Rt,role:pn}),(nt.get(Be)||[]).forEach(Er=>Er.destroy()),nt.delete(Be),Be.el.classList.add("overlay-hidden"),Be.el.style.removeProperty("pointer-events"),void 0!==Be.el.lastFocus&&(Be.el.lastFocus=void 0)}catch(qn){console.error(qn)}return Be.el.remove(),Vn(),!0});return function(Rt,pn,Wn,ur,Xn,un,Zt){return gt.apply(this,arguments)}}(),pe=gt=>gt.querySelector("ion-app")||gt.body,se=function(){var gt=(0,c.A)(function*(Be,Rt,pn,Wn){pn.classList.remove("overlay-hidden");const Xn=Rt(Be.el,Wn);(!Be.animated||!Y.c.getBoolean("animated",!0))&&Xn.duration(0),Be.keyboardClose&&Xn.beforeAddWrite(()=>{const Zt=pn.ownerDocument.activeElement;null!=Zt&&Zt.matches("input,ion-input, ion-textarea")&&Zt.blur()});const un=nt.get(Be)||[];return nt.set(Be,[...un,Xn]),yield Xn.play(),!0});return function(Rt,pn,Wn,ur){return gt.apply(this,arguments)}}(),Me=(gt,Be)=>{let Rt;const pn=new Promise(Wn=>Rt=Wn);return Pe(gt,Be,Wn=>{Rt(Wn.detail)}),pn},Pe=(gt,Be,Rt)=>{const pn=Wn=>{(0,V.b)(gt,Be,pn),Rt(Wn)};(0,V.a)(gt,Be,pn)},lt=gt=>"cancel"===gt||gt===bt,Mt=gt=>gt(),wt=(gt,Be)=>{if("function"==typeof gt)return Y.c.get("_zoneGate",Mt)(()=>{try{return gt(Be)}catch(pn){throw pn}})},bt="backdrop",nn="gesture",vn=39,Bn=gt=>{let Rt,Be=!1;const pn=(0,ke.C)(),Wn=(un=!1)=>{if(Rt&&!un)return{delegate:Rt,inline:Be};const{el:Zt,hasController:Nn,delegate:ir}=gt;return Be=null!==Zt.parentNode&&!Nn,Rt=Be?ir||pn:ir,{inline:Be,delegate:Rt}};return{attachViewToDom:function(){var un=(0,c.A)(function*(Zt){const{delegate:Nn}=Wn(!0);if(Nn)return yield Nn.attachViewToDom(gt.el,Zt);const{hasController:ir}=gt;if(ir&&void 0!==Zt)throw new Error("framework delegate is missing");return null});return function(Nn){return un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:un}=Wn();un&&void 0!==gt.el&&un.removeViewFromDom(gt.el.parentElement,gt.el)}}},Hn=()=>{let gt;const Be=()=>{gt&&(gt(),gt=void 0)};return{addClickListener:(pn,Wn)=>{Be();const ur=void 0!==Wn?document.getElementById(Wn):null;ur?gt=((un,Zt)=>{const Nn=()=>{Zt.present()};return un.addEventListener("click",Nn),()=>{un.removeEventListener("click",Nn)}})(ur,pn):(0,Ce.p)(`A trigger element with the ID "${Wn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,pn)},removeClickListener:Be}},tr=gt=>{var Be;if(void 0===d.d)return;const Rt=mn(d.d);for(let pn=Rt.length-1;pn>=0;pn--){const Wn=Rt[pn],ur=null!==(Be=Rt[pn+1])&&void 0!==Be?Be:gt;(ur.hasAttribute("aria-hidden")||"ION-TOAST"!==ur.tagName)&&Wn.setAttribute("aria-hidden","true")}},Vn=()=>{if(void 0===d.d)return;const gt=mn(d.d);for(let Be=gt.length-1;Be>=0;Be--){const Rt=gt[Be];if(Rt.removeAttribute("aria-hidden"),"ION-TOAST"!==Rt.tagName)break}},zn="ion-disable-focus-trap"},1288:(hn,ft,N)=>{"use strict";N.d(ft,{H:()=>Xe,b:()=>ur,c:()=>Se,f:()=>Bn,g:()=>tt,h:()=>ct,p:()=>ar,r:()=>Rn});var c=N(467);let V,Re,Y=!1,ke=!1;const _e={},We=F=>"object"==(F=typeof F)||"function"===F;function nt(F){var B,Ie,Le;return null!==(Le=null===(Ie=null===(B=F.head)||void 0===B?void 0:B.querySelector('meta[name="csp-nonce"]'))||void 0===Ie?void 0:Ie.getAttribute("content"))&&void 0!==Le?Le:void 0}const ct=(F,B,...Ie)=>{let Le=null,ut=!1,Lt=!1;const $t=[],sn=Ot=>{for(let Tn=0;Tn<Ot.length;Tn++)Le=Ot[Tn],Array.isArray(Le)?sn(Le):null!=Le&&"boolean"!=typeof Le&&((ut="function"!=typeof F&&!We(Le))&&(Le=String(Le)),ut&&Lt?$t[$t.length-1].$text$+=Le:$t.push(ut?ot(null,Le):Le),Lt=ut)};if(sn(Ie),B){const Ot=B.className||B.class;Ot&&(B.class="object"!=typeof Ot?Ot:Object.keys(Ot).filter(Tn=>Ot[Tn]).join(" "))}const zt=ot(F,null);return zt.$attrs$=B,$t.length>0&&(zt.$children$=$t),zt},ot=(F,B)=>({$flags$:0,$tag$:F,$text$:B,$elm$:null,$children$:null,$attrs$:null}),Xe={},tt=F=>Qn(F).$hostElement$,Se=(F,B,Ie)=>{const Le=tt(F);return{emit:ut=>ze(Le,B,{bubbles:!!(4&Ie),composed:!!(2&Ie),cancelable:!!(1&Ie),detail:ut})}},ze=(F,B,Ie)=>{const Le=Pn.ce(B,Ie);return F.dispatchEvent(Le),Le},je=new WeakMap,Dt=(F,B)=>"sc-"+F.$tagName$,kt=(F,B,Ie,Le,ut,Lt)=>{if(Ie!==Le){let $t=Fn(F,B),sn=B.toLowerCase();if("class"===B){const zt=F.classList,Ot=fn(Ie),Tn=fn(Le);zt.remove(...Ot.filter(lr=>lr&&!Tn.includes(lr))),zt.add(...Tn.filter(lr=>lr&&!Ot.includes(lr)))}else if("style"===B){for(const zt in Ie)(!Le||null==Le[zt])&&(zt.includes("-")?F.style.removeProperty(zt):F.style[zt]="");for(const zt in Le)(!Ie||Le[zt]!==Ie[zt])&&(zt.includes("-")?F.style.setProperty(zt,Le[zt]):F.style[zt]=Le[zt])}else if("ref"===B)Le&&Le(F);else if($t||"o"!==B[0]||"n"!==B[1]){const zt=We(Le);if(($t||zt&&null!==Le)&&!ut)try{if(F.tagName.includes("-"))F[B]=Le;else{const Ot=null==Le?"":Le;"list"===B?$t=!1:(null==Ie||F[B]!=Ot)&&(F[B]=Ot)}}catch{}null==Le||!1===Le?(!1!==Le||""===F.getAttribute(B))&&F.removeAttribute(B):(!$t||4&Lt||ut)&&!zt&&F.setAttribute(B,Le=!0===Le?"":Le)}else B="-"===B[2]?B.slice(3):Fn(Un,sn)?sn.slice(2):sn[2]+B.slice(3),Ie&&Pn.rel(F,B,Ie,!1),Le&&Pn.ael(F,B,Le,!1)}},rn=/\s/,fn=F=>F?F.split(rn):[],Wt=(F,B,Ie,Le)=>{const ut=11===B.$elm$.nodeType&&B.$elm$.host?B.$elm$.host:B.$elm$,Lt=F&&F.$attrs$||_e,$t=B.$attrs$||_e;for(Le in Lt)Le in $t||kt(ut,Le,Lt[Le],void 0,Ie,B.$flags$);for(Le in $t)kt(ut,Le,Lt[Le],$t[Le],Ie,B.$flags$)},mn=(F,B,Ie,Le)=>{const ut=B.$children$[Ie];let $t,sn,Lt=0;if(null!==ut.$text$)$t=ut.$elm$=In.createTextNode(ut.$text$);else{if(Y||(Y="svg"===ut.$tag$),$t=ut.$elm$=In.createElementNS(Y?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ut.$tag$),Y&&"foreignObject"===ut.$tag$&&(Y=!1),Wt(null,ut,Y),(F=>null!=F)(V)&&$t["s-si"]!==V&&$t.classList.add($t["s-si"]=V),ut.$children$)for(Lt=0;Lt<ut.$children$.length;++Lt)sn=mn(F,ut,Lt),sn&&$t.appendChild(sn);"svg"===ut.$tag$?Y=!1:"foreignObject"===$t.tagName&&(Y=!0)}return $t},mt=(F,B,Ie,Le,ut,Lt)=>{let sn,$t=F;for($t.shadowRoot&&$t.tagName===Re&&($t=$t.shadowRoot);ut<=Lt;++ut)Le[ut]&&(sn=mn(null,Ie,ut),sn&&(Le[ut].$elm$=sn,$t.insertBefore(sn,B)))},Ne=(F,B,Ie)=>{for(let Le=B;Le<=Ie;++Le){const ut=F[Le];if(ut){const Lt=ut.$elm$;pe(ut),Lt&&Lt.remove()}}},Z=(F,B)=>F.$tag$===B.$tag$,ce=(F,B)=>{const Ie=B.$elm$=F.$elm$,Le=F.$children$,ut=B.$children$,Lt=B.$tag$,$t=B.$text$;null===$t?(Y="svg"===Lt||"foreignObject"!==Lt&&Y,Wt(F,B,Y),null!==Le&&null!==ut?((F,B,Ie,Le)=>{let Lr,ut=0,Lt=0,$t=B.length-1,sn=B[0],zt=B[$t],Ot=Le.length-1,Tn=Le[0],lr=Le[Ot];for(;ut<=$t&&Lt<=Ot;)null==sn?sn=B[++ut]:null==zt?zt=B[--$t]:null==Tn?Tn=Le[++Lt]:null==lr?lr=Le[--Ot]:Z(sn,Tn)?(ce(sn,Tn),sn=B[++ut],Tn=Le[++Lt]):Z(zt,lr)?(ce(zt,lr),zt=B[--$t],lr=Le[--Ot]):Z(sn,lr)?(ce(sn,lr),F.insertBefore(sn.$elm$,zt.$elm$.nextSibling),sn=B[++ut],lr=Le[--Ot]):Z(zt,Tn)?(ce(zt,Tn),F.insertBefore(zt.$elm$,sn.$elm$),zt=B[--$t],Tn=Le[++Lt]):(Lr=mn(B&&B[Lt],Ie,Lt),Tn=Le[++Lt],Lr&&sn.$elm$.parentNode.insertBefore(Lr,sn.$elm$));ut>$t?mt(F,null==Le[Ot+1]?null:Le[Ot+1].$elm$,Ie,Le,Lt,Ot):Lt>Ot&&Ne(B,ut,$t)})(Ie,Le,B,ut):null!==ut?(null!==F.$text$&&(Ie.textContent=""),mt(Ie,null,B,ut,0,ut.length-1)):null!==Le&&Ne(Le,0,Le.length-1),Y&&"svg"===Lt&&(Y=!1)):F.$text$!==$t&&(Ie.data=$t)},pe=F=>{F.$attrs$&&F.$attrs$.ref&&F.$attrs$.ref(null),F.$children$&&F.$children$.map(pe)},Me=(F,B)=>{B&&!F.$onRenderResolve$&&B["s-p"]&&B["s-p"].push(new Promise(Ie=>F.$onRenderResolve$=Ie))},Pe=(F,B)=>{if(F.$flags$|=16,!(4&F.$flags$))return Me(F,F.$ancestorComponent$),ne(()=>lt(F,B));F.$flags$|=512},lt=(F,B)=>{const Le=F.$lazyInstance$;return B&&(F.$flags$|=256,F.$queuedListeners$&&(F.$queuedListeners$.map(([Lt,$t])=>tr(Le,Lt,$t)),F.$queuedListeners$=void 0)),Mt(void 0,()=>bt(F,Le,B))},Mt=(F,B)=>wt(F)?F.then(B):B(),wt=F=>F instanceof Promise||F&&F.then&&"function"==typeof F.then,bt=function(){var F=(0,c.A)(function*(B,Ie,Le){var ut;const Lt=B.$hostElement$,sn=Lt["s-rc"];Le&&(F=>{const B=F.$cmpMeta$,Ie=F.$hostElement$,Le=B.$flags$,Lt=((F,B,Ie,Le)=>{var ut;let Lt=Dt(B);const $t=_r.get(Lt);if(F=11===F.nodeType?F:In,$t)if("string"==typeof $t){let zt,sn=je.get(F=F.head||F);if(sn||je.set(F,sn=new Set),!sn.has(Lt)){{zt=In.createElement("style"),zt.innerHTML=$t;const Ot=null!==(ut=Pn.$nonce$)&&void 0!==ut?ut:nt(In);null!=Ot&&zt.setAttribute("nonce",Ot),F.insertBefore(zt,F.querySelector("link"))}sn&&sn.add(Lt)}}else F.adoptedStyleSheets.includes($t)||(F.adoptedStyleSheets=[...F.adoptedStyleSheets,$t]);return Lt})(Ie.shadowRoot?Ie.shadowRoot:Ie.getRootNode(),B);10&Le&&(Ie["s-sc"]=Lt,Ie.classList.add(Lt+"-h"))})(B);nn(B,Ie),sn&&(sn.map(Ot=>Ot()),Lt["s-rc"]=void 0);{const Ot=null!==(ut=Lt["s-p"])&&void 0!==ut?ut:[],Tn=()=>vn(B);0===Ot.length?Tn():(Promise.all(Ot).then(Tn),B.$flags$|=4,Ot.length=0)}});return function(Ie,Le,ut){return F.apply(this,arguments)}}(),nn=(F,B,Ie)=>{try{B=B.render(),F.$flags$&=-17,F.$flags$|=2,((F,B)=>{const Ie=F.$hostElement$,Le=F.$vnode$||ot(null,null),ut=(F=>F&&F.$tag$===Xe)(B)?B:ct(null,null,B);Re=Ie.tagName,ut.$tag$=null,ut.$flags$|=4,F.$vnode$=ut,ut.$elm$=Le.$elm$=Ie.shadowRoot||Ie,V=Ie["s-sc"],ce(Le,ut)})(F,B)}catch(Le){pr(Le,F.$hostElement$)}return null},vn=F=>{const Ie=F.$hostElement$,ut=F.$lazyInstance$,Lt=F.$ancestorComponent$;64&F.$flags$||(F.$flags$|=64,Vn(Ie),tr(ut,"componentDidLoad"),F.$onReadyResolve$(Ie),Lt||Hn()),F.$onInstanceResolve$(Ie),F.$onRenderResolve$&&(F.$onRenderResolve$(),F.$onRenderResolve$=void 0),512&F.$flags$&&Ee(()=>Pe(F,!1)),F.$flags$&=-517},Bn=F=>{{const B=Qn(F),Ie=B.$hostElement$.isConnected;return Ie&&2==(18&B.$flags$)&&Pe(B,!1),Ie}},Hn=F=>{Vn(In.documentElement),Ee(()=>ze(Un,"appload",{detail:{namespace:"ionicpwaelements"}}))},tr=(F,B,Ie)=>{if(F&&F[B])try{return F[B](Ie)}catch(Le){pr(Le)}},Vn=F=>F.classList.add("hydrated"),Be=(F,B,Ie)=>{if(B.$members$){const Le=Object.entries(B.$members$),ut=F.prototype;if(Le.map(([Lt,[$t]])=>{31&$t||2&Ie&&32&$t?Object.defineProperty(ut,Lt,{get(){return((F,B)=>Qn(this).$instanceValues$.get(B))(0,Lt)},set(sn){((F,B,Ie,Le)=>{const ut=Qn(F),Lt=ut.$instanceValues$.get(B),$t=ut.$flags$,sn=ut.$lazyInstance$;Ie=((F,B)=>null==F||We(F)?F:4&B?"false"!==F&&(""===F||!!F):2&B?parseFloat(F):1&B?String(F):F)(Ie,Le.$members$[B][0]);const zt=Number.isNaN(Lt)&&Number.isNaN(Ie);(!(8&$t)||void 0===Lt)&&Ie!==Lt&&!zt&&(ut.$instanceValues$.set(B,Ie),sn&&2==(18&$t)&&Pe(ut,!1))})(this,Lt,sn,B)},configurable:!0,enumerable:!0}):1&Ie&&64&$t&&Object.defineProperty(ut,Lt,{value(...sn){const zt=Qn(this);return zt.$onInstancePromise$.then(()=>zt.$lazyInstance$[Lt](...sn))}})}),1&Ie){const Lt=new Map;ut.attributeChangedCallback=function($t,sn,zt){Pn.jmp(()=>{const Ot=Lt.get($t);if(this.hasOwnProperty(Ot))zt=this[Ot],delete this[Ot];else if(ut.hasOwnProperty(Ot)&&"number"==typeof this[Ot]&&this[Ot]==zt)return;this[Ot]=(null!==zt||"boolean"!=typeof this[Ot])&&zt})},F.observedAttributes=Le.filter(([$t,sn])=>15&sn[0]).map(([$t,sn])=>{const zt=sn[1]||$t;return Lt.set(zt,$t),zt})}}return F},Rt=function(){var F=(0,c.A)(function*(B,Ie,Le,ut,Lt){if(!(32&Ie.$flags$)){Ie.$flags$|=32;{if((Lt=Sn(Le)).then){const Ot=()=>{};Lt=yield Lt,Ot()}Lt.isProxied||(Be(Lt,Le,2),Lt.isProxied=!0);const zt=()=>{};Ie.$flags$|=8;try{new Lt(Ie)}catch(Ot){pr(Ot)}Ie.$flags$&=-9,zt()}if(Lt.style){let zt=Lt.style;const Ot=Dt(Le);if(!_r.has(Ot)){const Tn=()=>{};((F,B,Ie)=>{let Le=_r.get(F);Tr&&Ie?(Le=Le||new CSSStyleSheet,"string"==typeof Le?Le=B:Le.replaceSync(B)):Le=B,_r.set(F,Le)})(Ot,zt,!!(1&Le.$flags$)),Tn()}}}const $t=Ie.$ancestorComponent$,sn=()=>Pe(Ie,!0);$t&&$t["s-rc"]?$t["s-rc"].push(sn):sn()});return function(Ie,Le,ut,Lt,$t){return F.apply(this,arguments)}}(),ur=(F,B={})=>{var Ie;const ut=[],Lt=B.exclude||[],$t=Un.customElements,sn=In.head,zt=sn.querySelector("meta[charset]"),Ot=In.createElement("style"),Tn=[];let lr,Lr=!0;Object.assign(Pn,B),Pn.$resourcesUrl$=new URL(B.resourcesUrl||"./",In.baseURI).href,F.map(ci=>{ci[1].map(Jr=>{const or={$flags$:Jr[0],$tagName$:Jr[1],$members$:Jr[2],$listeners$:Jr[3]};or.$members$=Jr[2],or.$listeners$=Jr[3];const Br=or.$tagName$,Ti=class extends HTMLElement{constructor(xt){super(xt),Er(xt=this,or),1&or.$flags$&&xt.attachShadow({mode:"open"})}connectedCallback(){lr&&(clearTimeout(lr),lr=null),Lr?Tn.push(this):Pn.jmp(()=>(F=>{if(!(1&Pn.$flags$)){const B=Qn(F),Ie=B.$cmpMeta$,Le=()=>{};if(1&B.$flags$)Xn(F,B,Ie.$listeners$);else{B.$flags$|=1;{let ut=F;for(;ut=ut.parentNode||ut.host;)if(ut["s-p"]){Me(B,B.$ancestorComponent$=ut);break}}Ie.$members$&&Object.entries(Ie.$members$).map(([ut,[Lt]])=>{if(31&Lt&&F.hasOwnProperty(ut)){const $t=F[ut];delete F[ut],F[ut]=$t}}),Rt(F,B,Ie)}Le()}})(this))}disconnectedCallback(){Pn.jmp(()=>(F=>{if(!(1&Pn.$flags$)){const B=Qn(this),Ie=B.$lazyInstance$;B.$rmListeners$&&(B.$rmListeners$.map(Le=>Le()),B.$rmListeners$=void 0),tr(Ie,"disconnectedCallback")}})())}componentOnReady(){return Qn(this).$onReadyPromise$}};or.$lazyBundleId$=ci[0],!Lt.includes(Br)&&!$t.get(Br)&&(ut.push(Br),$t.define(Br,Be(Ti,or,1)))})});{Ot.innerHTML=ut+"{visibility:hidden}.hydrated{visibility:inherit}",Ot.setAttribute("data-styles","");const ci=null!==(Ie=Pn.$nonce$)&&void 0!==Ie?Ie:nt(In);null!=ci&&Ot.setAttribute("nonce",ci),sn.insertBefore(Ot,zt?zt.nextSibling:sn.firstChild)}Lr=!1,Tn.length?Tn.map(ci=>ci.connectedCallback()):Pn.jmp(()=>lr=setTimeout(Hn,30))},Xn=(F,B,Ie,Le)=>{Ie&&Ie.map(([ut,Lt,$t])=>{const sn=Zt(F,ut),zt=un(B,$t),Ot=Nn(ut);Pn.ael(sn,Lt,zt,Ot),(B.$rmListeners$=B.$rmListeners$||[]).push(()=>Pn.rel(sn,Lt,zt,Ot))})},un=(F,B)=>Ie=>{try{256&F.$flags$?F.$lazyInstance$[B](Ie):(F.$queuedListeners$=F.$queuedListeners$||[]).push([B,Ie])}catch(Le){pr(Le)}},Zt=(F,B)=>16&B?In.body:F,Nn=F=>!!(2&F),qn=new WeakMap,Qn=F=>qn.get(F),Rn=(F,B)=>qn.set(B.$lazyInstance$=F,B),Er=(F,B)=>{const Ie={$flags$:0,$hostElement$:F,$cmpMeta$:B,$instanceValues$:new Map};return Ie.$onInstancePromise$=new Promise(Le=>Ie.$onInstanceResolve$=Le),Ie.$onReadyPromise$=new Promise(Le=>Ie.$onReadyResolve$=Le),F["s-p"]=[],F["s-rc"]=[],Xn(F,Ie,B.$listeners$),qn.set(F,Ie)},Fn=(F,B)=>B in F,pr=(F,B)=>(0,console.error)(F,B),Dn=new Map,Sn=(F,B,Ie)=>{const Le=F.$tagName$.replace(/-/g,"_"),ut=F.$lazyBundleId$,Lt=Dn.get(ut);if(Lt)return Lt[Le];if(!Ie||!BUILD.hotModuleReplacement){const $t=sn=>(Dn.set(ut,sn),sn[Le]);switch(ut){case"pwa-action-sheet":return N.e(6301).then(N.bind(N,6301)).then($t,pr);case"pwa-camera-modal":return N.e(2982).then(N.bind(N,2982)).then($t,pr);case"pwa-toast":return N.e(3574).then(N.bind(N,3574)).then($t,pr);case"pwa-camera-modal-instance":return N.e(5640).then(N.bind(N,5640)).then($t,pr);case"pwa-camera":return N.e(6086).then(N.bind(N,6086)).then($t,pr)}}return N(5235)(`./${ut}.entry.js`).then($t=>(Dn.set(ut,$t),$t[Le]),pr)},_r=new Map,Un=typeof window<"u"?window:{},In=Un.document||{head:{}},Pn={$flags$:0,$resourcesUrl$:"",jmp:F=>F(),raf:F=>requestAnimationFrame(F),ael:(F,B,Ie,Le)=>F.addEventListener(B,Ie,Le),rel:(F,B,Ie,Le)=>F.removeEventListener(B,Ie,Le),ce:(F,B)=>new CustomEvent(F,B)},ar=F=>Promise.resolve(F),Tr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),it=[],Ye=[],yt=(F,B)=>Ie=>{F.push(Ie),ke||(ke=!0,B&&4&Pn.$flags$?Ee(de):Pn.raf(de))},rt=F=>{for(let B=0;B<F.length;B++)try{F[B](performance.now())}catch(Ie){pr(Ie)}F.length=0},de=()=>{rt(it),rt(Ye),(ke=it.length>0)&&Pn.raf(de)},Ee=F=>ar().then(F),ne=yt(Ye,!0)},5297:(hn,ft,N)=>{"use strict";N.d(ft,{f:()=>vc});var c=N(467),d=N(9842),Re=(N(2438),N(177)),Y=N(4438),ke=N(5407),ie=N(9253),Ce=N(1413),Ze=N(7673),_e=N(1985),ge=N(8455),Ke=N(6365),qe=N(8750),We=N(983),nt=N(3794),ot=N(941),Xe=N(5558),et=N(6354),Qe=N(6129);class tt extends Ce.B{constructor(_=1/0,U=1/0,G=Qe.U){super(),this._bufferSize=_,this._windowTime=U,this._timestampProvider=G,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=U===1/0,this._bufferSize=Math.max(1,_),this._windowTime=Math.max(1,U)}next(_){const{isStopped:U,_buffer:G,_infiniteTimeWindow:be,_timestampProvider:at,_windowTime:Gt}=this;U||(G.push(_),!be&&G.push(at.now()+Gt)),this._trimBuffer(),super.next(_)}_subscribe(_){this._throwIfClosed(),this._trimBuffer();const U=this._innerSubscribe(_),{_infiniteTimeWindow:G,_buffer:be}=this,at=be.slice();for(let Gt=0;Gt<at.length&&!_.closed;Gt+=G?1:2)_.next(at[Gt]);return this._checkFinalizedStatuses(_),U}_trimBuffer(){const{_bufferSize:_,_timestampProvider:U,_buffer:G,_infiniteTimeWindow:be}=this,at=(be?1:2)*_;if(_<1/0&&at<G.length&&G.splice(0,G.length-at),!be){const Gt=U.now();let Jt=0;for(let cn=1;cn<G.length&&G[cn]<=Gt;cn+=2)Jt=cn;Jt&&G.splice(0,Jt+1)}}}var Se=N(7707),ze=N(9974);function dt(R,_,...U){if(!0===_)return void R();if(!1===_)return;const G=new Se.Ms({next:()=>{G.unsubscribe(),R()}});return(0,qe.Tg)(_(...U)).subscribe(G)}function Ct(R,_,U){let G,be=!1;return R&&"object"==typeof R?({bufferSize:G=1/0,windowTime:_=1/0,refCount:be=!1,scheduler:U}=R):G=null!=R?R:1/0,function je(R={}){const{connector:_=(()=>new Ce.B),resetOnError:U=!0,resetOnComplete:G=!0,resetOnRefCountZero:be=!0}=R;return at=>{let Gt,Jt,cn,An=0,er=!1,kr=!1;const yi=()=>{null==Jt||Jt.unsubscribe(),Jt=void 0},fi=()=>{yi(),Gt=cn=void 0,er=kr=!1},Si=()=>{const Oi=Gt;fi(),null==Oi||Oi.unsubscribe()};return(0,ze.N)((Oi,Mr)=>{An++,!kr&&!er&&yi();const qr=cn=null!=cn?cn:_();Mr.add(()=>{An--,0===An&&!kr&&!er&&(Jt=dt(Si,be))}),qr.subscribe(Mr),!Gt&&An>0&&(Gt=new Se.Ms({next:$i=>qr.next($i),error:$i=>{kr=!0,yi(),Jt=dt(fi,U,$i),qr.error($i)},complete:()=>{er=!0,yi(),Jt=dt(fi,G),qr.complete()}}),(0,qe.Tg)(Oi).subscribe(Gt))})(at)}}({connector:()=>new tt(G,_,U),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:be})}var we=N(1594),Dt=N(8071);function kt(R,_){return(0,Dt.T)(_)?(0,Xe.n)(()=>R,_):(0,Xe.n)(()=>R)}var rn=N(6745),fn=N(5964);N(7935);const mt=new Y.nKC("angularfire2.auth.use-emulator"),Ne=new Y.nKC("angularfire2.auth.settings"),J=new Y.nKC("angularfire2.auth.tenant-id"),Z=new Y.nKC("angularfire2.auth.langugage-code"),ce=new Y.nKC("angularfire2.auth.use-device-language"),pe=new Y.nKC("angularfire.auth.persistence"),se=(R,_,U,G,be,at,Gt,Jt)=>(0,ie.BM)(`${R.name}.auth`,"AngularFireAuth",R.name,()=>{const cn=_.runOutsideAngular(()=>R.auth());if(U&&cn.useEmulator(...U),G&&(cn.tenantId=G),cn.languageCode=be,at&&cn.useDeviceLanguage(),Gt)for(const[An,er]of Object.entries(Gt))cn.settings[An]=er;return Jt&&cn.setPersistence(Jt),cn},[U,G,be,at,Gt,Jt]);let Me=(()=>{var R;class _{constructor(G,be,at,Gt,Jt,cn,An,er,kr,yi,fi,Si){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const Oi=new Ce.B,Mr=(0,Ze.of)(void 0).pipe((0,ot.Q)(Jt.outsideAngular),(0,Xe.n)(()=>Gt.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,2438)))),(0,et.T)(()=>(0,ie.iB)(G,Gt,be)),(0,et.T)(qr=>se(qr,Gt,cn,er,kr,yi,An,fi)),Ct({bufferSize:1,refCount:!1}));if((0,Re.Vy)(at))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{Mr.pipe((0,we.$)()).subscribe();const qr=Mr.pipe((0,Xe.n)(Ir=>Ir.getRedirectResult().then(ki=>ki,()=>null)),ke.U0,Ct({bufferSize:1,refCount:!1})),$i=Mr.pipe((0,Xe.n)(Ir=>new _e.c(ki=>({unsubscribe:Gt.runOutsideAngular(()=>Ir.onAuthStateChanged(Xr=>ki.next(Xr),Xr=>ki.error(Xr),()=>ki.complete()))})))),Xi=Mr.pipe((0,Xe.n)(Ir=>new _e.c(ki=>({unsubscribe:Gt.runOutsideAngular(()=>Ir.onIdTokenChanged(Xr=>ki.next(Xr),Xr=>ki.error(Xr),()=>ki.complete()))}))));this.authState=qr.pipe(kt($i),(0,rn._)(Jt.outsideAngular),(0,ot.Q)(Jt.insideAngular)),this.user=qr.pipe(kt(Xi),(0,rn._)(Jt.outsideAngular),(0,ot.Q)(Jt.insideAngular)),this.idToken=this.user.pipe((0,Xe.n)(Ir=>Ir?(0,ge.H)(Ir.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe((0,Xe.n)(Ir=>Ir?(0,ge.H)(Ir.getIdTokenResult()):(0,Ze.of)(null))),this.credential=function ct(...R){const _=(0,nt.lI)(R),U=(0,nt.R0)(R,1/0),G=R;return G.length?1===G.length?(0,qe.Tg)(G[0]):(0,Ke.U)(U)((0,ge.H)(G,_)):We.w}(qr,Oi,this.authState.pipe((0,fn.p)(Ir=>!Ir))).pipe((0,et.T)(Ir=>null!=Ir&&Ir.user?Ir:null),(0,rn._)(Jt.outsideAngular),(0,ot.Q)(Jt.insideAngular))}return(0,ie.Gt)(this,Mr,Gt,{spy:{apply:(qr,$i,Xi)=>{(qr.startsWith("signIn")||qr.startsWith("createUser"))&&Xi.then(Ir=>Oi.next(Ir))}}})}}return R=_,(0,d.A)(_,"\u0275fac",function(G){return new(G||R)(Y.KVO(ie.rx),Y.KVO(ie.uP,8),Y.KVO(Y.Agw),Y.KVO(Y.SKi),Y.KVO(ke.u0),Y.KVO(mt,8),Y.KVO(Ne,8),Y.KVO(J,8),Y.KVO(Z,8),Y.KVO(ce,8),Y.KVO(pe,8),Y.KVO(ke.Jv,8))}),(0,d.A)(_,"\u0275prov",Y.jDH({token:R,factory:R.\u0275fac,providedIn:"any"})),_})();var lt=N(8407),Mt=N(7852),wt=N(1076),nn=(N(8041),N(1362)),vn=N(3236),Bn=N(9172),Hn=N(4360);function tr(){return(0,ze.N)((R,_)=>{let U,G=!1;R.subscribe((0,Hn._)(_,be=>{const at=U;U=be,G&&_.next([at,be]),G=!0}))})}var Vn=N(2816),zn=N(3294),gt=N(3345),Be=N(2824);function Wn(R,_){if(void 0===_)return{merge:!1};if(void 0!==_.mergeFields&&void 0!==_.merge)throw new Be.W6("invalid-argument",`Invalid options passed to function ${R}(): You cannot specify both "merge" and "mergeFields".`);return _}function ur(){if(typeof Uint8Array>"u")throw new Be.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Xn(){if(!(0,Be.qG)())throw new Be.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class un{constructor(_){this._delegate=_}static fromBase64String(_){return Xn(),new un(Be.Ix.fromBase64String(_))}static fromUint8Array(_){return ur(),new un(Be.Ix.fromUint8Array(_))}toBase64(){return Xn(),this._delegate.toBase64()}toUint8Array(){return ur(),this._delegate.toUint8Array()}isEqual(_){return this._delegate.isEqual(_._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zt(R){return function Nn(R,_){if("object"!=typeof R||null===R)return!1;const U=R;for(const G of _)if(G in U&&"function"==typeof U[G])return!0;return!1}(R,["next","error","complete"])}class ir{enableIndexedDbPersistence(_,U){return(0,Be.ol)(_._delegate,{forceOwnership:U})}enableMultiTabIndexedDbPersistence(_){return(0,Be.Q5)(_._delegate)}clearIndexedDbPersistence(_){return(0,Be.me)(_._delegate)}}class qn{constructor(_,U,G){this._delegate=U,this._persistenceProvider=G,this.INTERNAL={delete:()=>this.terminate()},_ instanceof Be.cm||(this._appCompat=_)}get _databaseId(){return this._delegate._databaseId}settings(_){const U=this._delegate._getSettings();!_.merge&&U.host!==_.host&&(0,Be.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),_.merge&&delete(_=Object.assign(Object.assign({},U),_)).merge,this._delegate._setSettings(_)}useEmulator(_,U,G={}){(0,Be.vN)(this._delegate,_,U,G)}enableNetwork(){return(0,Be.Os)(this._delegate)}disableNetwork(){return(0,Be.LA)(this._delegate)}enablePersistence(_){let U=!1,G=!1;return _&&(U=!!_.synchronizeTabs,G=!!_.experimentalForceOwningTab,(0,Be.c8)("synchronizeTabs",U,"experimentalForceOwningTab",G)),U?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,G)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Be.iB)(this._delegate)}onSnapshotsInSync(_){return(0,Be.FC)(this._delegate,_)}get app(){if(!this._appCompat)throw new Be.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(_){try{return new Ye(this,(0,Be.rJ)(this._delegate,_))}catch(U){throw Sn(U,"collection()","Firestore.collection()")}}doc(_){try{return new Dn(this,(0,Be.H9)(this._delegate,_))}catch(U){throw Sn(U,"doc()","Firestore.doc()")}}collectionGroup(_){try{return new ar(this,(0,Be.Cs)(this._delegate,_))}catch(U){throw Sn(U,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(_){return(0,Be.c4)(this._delegate,U=>_(new Er(this,U)))}batch(){return(0,Be.Ws)(this._delegate),new Fn(new Be.GA(this._delegate,_=>(0,Be.z6)(this._delegate,_)))}loadBundle(_){return(0,Be.po)(this._delegate,_)}namedQuery(_){return(0,Be.St)(this._delegate,_).then(U=>U?new ar(this,U):null)}}class Qn extends Be.fS{constructor(_){super(),this.firestore=_}convertBytes(_){return new un(new Be.Ix(_))}convertReference(_){const U=this.convertDocumentKey(_,this.firestore._databaseId);return Dn.forKey(U,this.firestore,null)}}class Er{constructor(_,U){this._firestore=_,this._delegate=U,this._userDataWriter=new Qn(_)}get(_){const U=yt(_);return this._delegate.get(U).then(G=>new In(this._firestore,new Be.Wq(this._firestore._delegate,this._userDataWriter,G._key,G._document,G.metadata,U.converter)))}set(_,U,G){const be=yt(_);return G?(Wn("Transaction.set",G),this._delegate.set(be,U,G)):this._delegate.set(be,U),this}update(_,U,G,...be){const at=yt(_);return 2===arguments.length?this._delegate.update(at,U):this._delegate.update(at,U,G,...be),this}delete(_){const U=yt(_);return this._delegate.delete(U),this}}class Fn{constructor(_){this._delegate=_}set(_,U,G){const be=yt(_);return G?(Wn("WriteBatch.set",G),this._delegate.set(be,U,G)):this._delegate.set(be,U),this}update(_,U,G,...be){const at=yt(_);return 2===arguments.length?this._delegate.update(at,U):this._delegate.update(at,U,G,...be),this}delete(_){const U=yt(_);return this._delegate.delete(U),this}commit(){return this._delegate.commit()}}class pr{constructor(_,U,G){this._firestore=_,this._userDataWriter=U,this._delegate=G}fromFirestore(_,U){const G=new Be.YQ(this._firestore._delegate,this._userDataWriter,_._key,_._document,_.metadata,null);return this._delegate.fromFirestore(new Pn(this._firestore,G),null!=U?U:{})}toFirestore(_,U){return U?this._delegate.toFirestore(_,U):this._delegate.toFirestore(_)}static getInstance(_,U){const G=pr.INSTANCES;let be=G.get(_);be||(be=new WeakMap,G.set(_,be));let at=be.get(U);return at||(at=new pr(_,new Qn(_),U),be.set(U,at)),at}}pr.INSTANCES=new WeakMap;class Dn{constructor(_,U){this.firestore=_,this._delegate=U,this._userDataWriter=new Qn(_)}static forPath(_,U,G){if(_.length%2!=0)throw new Be.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${_.canonicalString()} has ${_.length}`);return new Dn(U,new Be.T1(U._delegate,G,new Be.K$(_)))}static forKey(_,U,G){return new Dn(U,new Be.T1(U._delegate,G,_))}get id(){return this._delegate.id}get parent(){return new Ye(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(_){try{return new Ye(this.firestore,(0,Be.rJ)(this._delegate,_))}catch(U){throw Sn(U,"collection()","DocumentReference.collection()")}}isEqual(_){return(_=(0,wt.Ku)(_))instanceof Be.T1&&(0,Be.yx)(this._delegate,_)}set(_,U){U=Wn("DocumentReference.set",U);try{return U?(0,Be.BN)(this._delegate,_,U):(0,Be.BN)(this._delegate,_)}catch(G){throw Sn(G,"setDoc()","DocumentReference.set()")}}update(_,U,...G){try{return 1===arguments.length?(0,Be.mZ)(this._delegate,_):(0,Be.mZ)(this._delegate,_,U,...G)}catch(be){throw Sn(be,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Be.kd)(this._delegate)}onSnapshot(..._){const U=_r(_),G=Un(_,be=>new In(this.firestore,new Be.Wq(this.firestore._delegate,this._userDataWriter,be._key,be._document,be.metadata,this._delegate.converter)));return(0,Be.aQ)(this._delegate,U,G)}get(_){let U;return U="cache"===(null==_?void 0:_.source)?(0,Be.nY)(this._delegate):"server"===(null==_?void 0:_.source)?(0,Be._e)(this._delegate):(0,Be.x7)(this._delegate),U.then(G=>new In(this.firestore,new Be.Wq(this.firestore._delegate,this._userDataWriter,G._key,G._document,G.metadata,this._delegate.converter)))}withConverter(_){return new Dn(this.firestore,this._delegate.withConverter(_?pr.getInstance(this.firestore,_):null))}}function Sn(R,_,U){return R.message=R.message.replace(_,U),R}function _r(R){for(const _ of R)if("object"==typeof _&&!Zt(_))return _;return{}}function Un(R,_){var U,G;let be;return be=Zt(R[0])?R[0]:Zt(R[1])?R[1]:"function"==typeof R[0]?{next:R[0],error:R[1],complete:R[2]}:{next:R[1],error:R[2],complete:R[3]},{next:at=>{be.next&&be.next(_(at))},error:null===(U=be.error)||void 0===U?void 0:U.bind(be),complete:null===(G=be.complete)||void 0===G?void 0:G.bind(be)}}class In{constructor(_,U){this._firestore=_,this._delegate=U}get ref(){return new Dn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(_){return this._delegate.data(_)}get(_,U){return this._delegate.get(_,U)}isEqual(_){return(0,Be.lN)(this._delegate,_._delegate)}}class Pn extends In{data(_){const U=this._delegate.data(_);return this._delegate._converter||(0,Be.bI)(void 0!==U,"Document in a QueryDocumentSnapshot should exist"),U}}class ar{constructor(_,U){this.firestore=_,this._delegate=U,this._userDataWriter=new Qn(_)}where(_,U,G){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be._M)(_,U,G)))}catch(be){throw Sn(be,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(_,U){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.My)(_,U)))}catch(G){throw Sn(G,/(orderBy|where)\(\)/,"Query.$1()")}}limit(_){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.AB)(_)))}catch(U){throw Sn(U,"limit()","Query.limit()")}}limitToLast(_){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.$1)(_)))}catch(U){throw Sn(U,"limitToLast()","Query.limitToLast()")}}startAt(..._){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.EO)(..._)))}catch(U){throw Sn(U,"startAt()","Query.startAt()")}}startAfter(..._){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.HM)(..._)))}catch(U){throw Sn(U,"startAfter()","Query.startAfter()")}}endBefore(..._){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.rf)(..._)))}catch(U){throw Sn(U,"endBefore()","Query.endBefore()")}}endAt(..._){try{return new ar(this.firestore,(0,Be.P)(this._delegate,(0,Be.FD)(..._)))}catch(U){throw Sn(U,"endAt()","Query.endAt()")}}isEqual(_){return(0,Be.B)(this._delegate,_._delegate)}get(_){let U;return U="cache"===(null==_?void 0:_.source)?(0,Be.kU)(this._delegate):"server"===(null==_?void 0:_.source)?(0,Be.Rr)(this._delegate):(0,Be.GG)(this._delegate),U.then(G=>new it(this.firestore,new Be.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,G._snapshot)))}onSnapshot(..._){const U=_r(_),G=Un(_,be=>new it(this.firestore,new Be.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,be._snapshot)));return(0,Be.aQ)(this._delegate,U,G)}withConverter(_){return new ar(this.firestore,this._delegate.withConverter(_?pr.getInstance(this.firestore,_):null))}}class Tr{constructor(_,U){this._firestore=_,this._delegate=U}get type(){return this._delegate.type}get doc(){return new Pn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class it{constructor(_,U){this._firestore=_,this._delegate=U}get query(){return new ar(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(_=>new Pn(this._firestore,_))}docChanges(_){return this._delegate.docChanges(_).map(U=>new Tr(this._firestore,U))}forEach(_,U){this._delegate.forEach(G=>{_.call(U,new Pn(this._firestore,G))})}isEqual(_){return(0,Be.lN)(this._delegate,_._delegate)}}class Ye extends ar{constructor(_,U){super(_,U),this.firestore=_,this._delegate=U}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const _=this._delegate.parent;return _?new Dn(this.firestore,_):null}doc(_){try{return new Dn(this.firestore,void 0===_?(0,Be.H9)(this._delegate):(0,Be.H9)(this._delegate,_))}catch(U){throw Sn(U,"doc()","CollectionReference.doc()")}}add(_){return(0,Be.gS)(this._delegate,_).then(U=>new Dn(this.firestore,U))}isEqual(_){return(0,Be.yx)(this._delegate,_._delegate)}withConverter(_){return new Ye(this.firestore,this._delegate.withConverter(_?pr.getInstance(this.firestore,_):null))}}function yt(R){return(0,Be.lo)(R,Be.T1)}class rt{constructor(..._){this._delegate=new Be.uY(..._)}static documentId(){return new rt(Be.FA.keyField().canonicalString())}isEqual(_){return(_=(0,wt.Ku)(_))instanceof Be.uY&&this._delegate._internalPath.isEqual(_._internalPath)}}class de{constructor(_){this._delegate=_}static serverTimestamp(){const _=(0,Be.O5)();return _._methodName="FieldValue.serverTimestamp",new de(_)}static delete(){const _=(0,Be.CL)();return _._methodName="FieldValue.delete",new de(_)}static arrayUnion(..._){const U=(0,Be.hq)(..._);return U._methodName="FieldValue.arrayUnion",new de(U)}static arrayRemove(..._){const U=(0,Be.C3)(..._);return U._methodName="FieldValue.arrayRemove",new de(U)}static increment(_){const U=(0,Be.GV)(_);return U._methodName="FieldValue.increment",new de(U)}isEqual(_){return this._delegate.isEqual(_._delegate)}}const Ee={Firestore:qn,GeoPoint:Be.Ci,Timestamp:Be.Dc,Blob:un,Transaction:Er,WriteBatch:Fn,DocumentReference:Dn,DocumentSnapshot:In,Query:ar,QueryDocumentSnapshot:Pn,QuerySnapshot:it,CollectionReference:Ye,FieldPath:rt,FieldValue:de,setLogLevel:function Rn(R){(0,Be.He)(R)},CACHE_SIZE_UNLIMITED:Be.H6};function Ie(R,_){return function B(R,_=vn.E){return new _e.c(U=>{let G;return null!=_?_.schedule(()=>{G=R.onSnapshot({includeMetadataChanges:!0},U)}):G=R.onSnapshot({includeMetadataChanges:!0},U),()=>{null!=G&&G()}})}(R,_)}function ut(R,_){return Ie(R,_).pipe((0,et.T)(U=>({payload:U,type:"query"})))}!function F(R){(function ne(R,_){R.INTERNAL.registerComponent(new nn.uA("firestore-compat",U=>{const G=U.getProvider("app-compat").getImmediate(),be=U.getProvider("firestore").getImmediate();return _(G,be)},"PUBLIC").setServiceProps(Object.assign({},Ee)))})(R,(_,U)=>new qn(_,U,new ir)),R.registerVersion("@firebase/firestore-compat","0.3.30")}(gt.A);class Lt{constructor(_,U){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=_,this.afs=U}set(_,U){return this.ref.set(_,U)}update(_){return this.ref.update(_)}delete(){return this.ref.delete()}collection(_,U){const G=this.ref.collection(_),{ref:be,query:at}=xt(G,U);return new Lr(be,at,this.afs)}snapshotChanges(){return function Le(R,_){return Ie(R,_).pipe((0,Bn.Z)(void 0),tr(),(0,et.T)(U=>{const[G,be]=U;return be.exists?null!=G&&G.exists?{payload:be,type:"modified"}:{payload:be,type:"added"}:{payload:be,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.U0)}valueChanges(_={}){return this.snapshotChanges().pipe((0,et.T)(({payload:U})=>_.idField?{...U.data(),[_.idField]:U.id}:U.data()))}get(_){return(0,ge.H)(this.ref.get(_)).pipe(ke.U0)}}function $t(R,_){return ut(R,_).pipe((0,Bn.Z)(void 0),tr(),(0,et.T)(U=>{const[G,be]=U,at=be.payload.docChanges(),Gt=at.map(Jt=>({type:Jt.type,payload:Jt}));return G&&JSON.stringify(G.payload.metadata)!==JSON.stringify(be.payload.metadata)&&be.payload.docs.forEach((Jt,cn)=>{const An=at.find(kr=>kr.doc.ref.isEqual(Jt.ref)),er=null==G?void 0:G.payload.docs.find(kr=>kr.ref.isEqual(Jt.ref));An&&JSON.stringify(An.doc.metadata)===JSON.stringify(Jt.metadata)||!An&&er&&JSON.stringify(er.metadata)===JSON.stringify(Jt.metadata)||Gt.push({type:"modified",payload:{oldIndex:cn,newIndex:cn,type:"modified",doc:Jt}})}),Gt}))}function sn(R,_,U){return $t(R,U).pipe((0,Vn.S)((G,be)=>function zt(R,_,U){return _.forEach(G=>{U.indexOf(G.type)>-1&&(R=function Tn(R,_){switch(_.type){case"added":if(!R[_.newIndex]||!R[_.newIndex].doc.ref.isEqual(_.doc.ref))return Ot(R,_.newIndex,0,_);break;case"modified":if(null==R[_.oldIndex]||R[_.oldIndex].doc.ref.isEqual(_.doc.ref)){if(_.oldIndex!==_.newIndex){const U=R.slice();return U.splice(_.oldIndex,1),U.splice(_.newIndex,0,_),U}return Ot(R,_.newIndex,1,_)}break;case"removed":if(R[_.oldIndex]&&R[_.oldIndex].doc.ref.isEqual(_.doc.ref))return Ot(R,_.oldIndex,1)}return R}(R,G))}),R}(G,be.map(at=>at.payload),_),[]),(0,zn.F)(),(0,et.T)(G=>G.map(be=>({type:be.type,payload:be}))))}function Ot(R,_,U,...G){const be=R.slice();return be.splice(_,U,...G),be}function lr(R){return(!R||0===R.length)&&(R=["added","removed","modified"]),R}class Lr{constructor(_,U,G){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=_,this.query=U,this.afs=G}stateChanges(_){let U=$t(this.query,this.afs.schedulers.outsideAngular);return _&&_.length>0&&(U=U.pipe((0,et.T)(G=>G.filter(be=>_.indexOf(be.type)>-1)))),U.pipe((0,Bn.Z)(void 0),tr(),(0,fn.p)(([G,be])=>be.length>0||!G),(0,et.T)(([,G])=>G),ke.U0)}auditTrail(_){return this.stateChanges(_).pipe((0,Vn.S)((U,G)=>[...U,...G],[]))}snapshotChanges(_){const U=lr(_);return sn(this.query,U,this.afs.schedulers.outsideAngular).pipe(ke.U0)}valueChanges(_={}){return ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.T)(U=>U.payload.docs.map(G=>_.idField?{...G.data(),[_.idField]:G.id}:G.data())),ke.U0)}get(_){return(0,ge.H)(this.query.get(_)).pipe(ke.U0)}add(_){return this.ref.add(_)}doc(_){return new Lt(this.ref.doc(_),this.afs)}}class ci{constructor(_,U){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=_,this.afs=U}stateChanges(_){return _&&0!==_.length?$t(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.T)(U=>U.filter(G=>_.indexOf(G.type)>-1)),(0,fn.p)(U=>U.length>0),ke.U0):$t(this.query,this.afs.schedulers.outsideAngular).pipe(ke.U0)}auditTrail(_){return this.stateChanges(_).pipe((0,Vn.S)((U,G)=>[...U,...G],[]))}snapshotChanges(_){const U=lr(_);return sn(this.query,U,this.afs.schedulers.outsideAngular).pipe(ke.U0)}valueChanges(_={}){return ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.T)(G=>G.payload.docs.map(be=>_.idField?{[_.idField]:be.id,...be.data()}:be.data())),ke.U0)}get(_){return(0,ge.H)(this.query.get(_)).pipe(ke.U0)}}const Jr=new Y.nKC("angularfire2.enableFirestorePersistence"),or=new Y.nKC("angularfire2.firestore.persistenceSettings"),Br=new Y.nKC("angularfire2.firestore.settings"),Ti=new Y.nKC("angularfire2.firestore.use-emulator");function xt(R,_=(U=>U)){return{query:_(R),ref:R}}let _t=(()=>{var R;class _{constructor(G,be,at,Gt,Jt,cn,An,er,kr,yi,fi,Si,Oi,Mr,qr,$i,Xi){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=An;const Ir=(0,ie.iB)(G,cn,be),ki=kr;yi&&se(Ir,cn,fi,Oi,Mr,qr,Si,$i),[this.firestore,this.persistenceEnabled$]=(0,ie.BM)(`${Ir.name}.firestore`,"AngularFirestore",Ir.name,()=>{const Xr=cn.runOutsideAngular(()=>Ir.firestore());if(Gt&&Xr.settings(Gt),ki&&Xr.useEmulator(...ki),at&&!(0,Re.Vy)(Jt)){const sl=()=>{try{return(0,ge.H)(Xr.enablePersistence(er||void 0).then(()=>!0,()=>!1))}catch(oa){return typeof console<"u"&&console.warn(oa),(0,Ze.of)(!1)}};return[Xr,cn.runOutsideAngular(sl)]}return[Xr,(0,Ze.of)(!1)]},[Gt,ki,at])}collection(G,be){let at;at="string"==typeof G?this.firestore.collection(G):G;const{ref:Gt,query:Jt}=xt(at,be),cn=this.schedulers.ngZone.run(()=>Gt);return new Lr(cn,Jt,this)}collectionGroup(G,be){const at=be||(Jt=>Jt),Gt=this.firestore.collectionGroup(G);return new ci(at(Gt),this)}doc(G){let be;be="string"==typeof G?this.firestore.doc(G):G;const at=this.schedulers.ngZone.run(()=>be);return new Lt(at,this)}createId(){return this.firestore.collection("_").doc().id}}return R=_,(0,d.A)(_,"\u0275fac",function(G){return new(G||R)(Y.KVO(ie.rx),Y.KVO(ie.uP,8),Y.KVO(Jr,8),Y.KVO(Br,8),Y.KVO(Y.Agw),Y.KVO(Y.SKi),Y.KVO(ke.u0),Y.KVO(or,8),Y.KVO(Ti,8),Y.KVO(Me,8),Y.KVO(mt,8),Y.KVO(Ne,8),Y.KVO(J,8),Y.KVO(Z,8),Y.KVO(ce,8),Y.KVO(pe,8),Y.KVO(ke.Jv,8))}),(0,d.A)(_,"\u0275prov",Y.jDH({token:R,factory:R.\u0275fac,providedIn:"any"})),_})();N(2214);var gi=N(2784),so=function(){return so=Object.assign||function(_){for(var U,G=1,be=arguments.length;G<be;G++)for(var at in U=arguments[G])Object.prototype.hasOwnProperty.call(U,at)&&(_[at]=U[at]);return _},so.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Di={includeMetadataChanges:!1};function ao(R,_){return void 0===_&&(_={}),function ko(R){return function Yi(R,_){return void 0===_&&(_=Di),new _e.c(function(U){return{unsubscribe:(0,gi.aQ)(R,_,{next:U.next.bind(U),error:U.error.bind(U),complete:U.complete.bind(U)})}})}(R,{includeMetadataChanges:!0}).pipe((0,et.T)(function(_){return _.docs}))}(R).pipe((0,et.T)(function(U){return U.map(function(G){return function nr(R,_){var U;void 0===_&&(_={});var G=R.data(_);return R.exists()&&"object"==typeof G&&null!==G&&_.idField?so(so({},G),((U={})[_.idField]=R.id,U)):G}(G,_)})}))}const qt=(0,ke.S3)(ao,!0),si=(0,ke.S3)(gi.gS,!0),Ms=(0,ke.S3)(gi.rJ,!0),Hi=(0,ke.S3)(gi.kd,!0),zi=(0,ke.S3)(gi.H9,!0),xs=(0,ke.S3)(gi.x7,!0),xo=(0,ke.S3)(gi.aU,!0),Fa=(0,ke.S3)(gi.P,!0),cr=(0,ke.S3)(gi.BN,!0),fu=(0,ke.S3)(gi.mZ,!0),Go="firebasestorage.googleapis.com",Da="storageBucket";class Rr extends wt.g{constructor(_,U,G=0){super(Ys(_),`Firebase Storage: ${U} (${Ys(_)})`),this.status_=G,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}get status(){return this.status_}set status(_){this.status_=_}_codeEquals(_){return Ys(_)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_){this.customData.serverResponse=_,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ei=function(R){return R.UNKNOWN="unknown",R.OBJECT_NOT_FOUND="object-not-found",R.BUCKET_NOT_FOUND="bucket-not-found",R.PROJECT_NOT_FOUND="project-not-found",R.QUOTA_EXCEEDED="quota-exceeded",R.UNAUTHENTICATED="unauthenticated",R.UNAUTHORIZED="unauthorized",R.UNAUTHORIZED_APP="unauthorized-app",R.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",R.INVALID_CHECKSUM="invalid-checksum",R.CANCELED="canceled",R.INVALID_EVENT_NAME="invalid-event-name",R.INVALID_URL="invalid-url",R.INVALID_DEFAULT_BUCKET="invalid-default-bucket",R.NO_DEFAULT_BUCKET="no-default-bucket",R.CANNOT_SLICE_BLOB="cannot-slice-blob",R.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",R.NO_DOWNLOAD_URL="no-download-url",R.INVALID_ARGUMENT="invalid-argument",R.INVALID_ARGUMENT_COUNT="invalid-argument-count",R.APP_DELETED="app-deleted",R.INVALID_ROOT_OPERATION="invalid-root-operation",R.INVALID_FORMAT="invalid-format",R.INTERNAL_ERROR="internal-error",R.UNSUPPORTED_ENVIRONMENT="unsupported-environment",R}(Ei||{});function Ys(R){return"storage/"+R}function Ko(){return new Rr(Ei.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Os(){return new Rr(Ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qo(){return new Rr(Ei.CANCELED,"User canceled the upload/download.")}function wa(){return new Rr(Ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ps(R){return new Rr(Ei.INVALID_ARGUMENT,R)}function Zi(){return new Rr(Ei.APP_DELETED,"The Firebase app was deleted.")}function ks(R){return new Rr(Ei.INVALID_ROOT_OPERATION,"The operation '"+R+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oo(R,_){return new Rr(Ei.INVALID_FORMAT,"String does not match format '"+R+"': "+_)}function gs(R){throw new Rr(Ei.INTERNAL_ERROR,"Internal error: "+R)}class Pi{constructor(_,U){this.bucket=_,this.path_=U}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const _=encodeURIComponent;return"/b/"+_(this.bucket)+"/o/"+_(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_,U){let G;try{G=Pi.makeFromUrl(_,U)}catch{return new Pi(_,"")}if(""===G.path)return G;throw function _l(R){return new Rr(Ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+R+"'.")}(_)}static makeFromUrl(_,U){let G=null;const be="([A-Za-z0-9.\\-_]+)",Jt=new RegExp("^gs://"+be+"(/(.*))?$","i");function An(Ir){Ir.path_=decodeURIComponent(Ir.path)}const kr=U.replace(/[.]/g,"\\."),Xi=[{regex:Jt,indices:{bucket:1,path:3},postModify:function at(Ir){"/"===Ir.path.charAt(Ir.path.length-1)&&(Ir.path_=Ir.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${kr}/v[A-Za-z0-9_]+/b/${be}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:An},{regex:new RegExp(`^https?://${U===Go?"(?:storage.googleapis.com|storage.cloud.google.com)":U}/${be}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:An}];for(let Ir=0;Ir<Xi.length;Ir++){const ki=Xi[Ir],Xr=ki.regex.exec(_);if(Xr){let oa=Xr[ki.indices.path];oa||(oa=""),G=new Pi(Xr[ki.indices.bucket],oa),ki.postModify(G);break}}if(null==G)throw function da(R){return new Rr(Ei.INVALID_URL,"Invalid URL '"+R+"'.")}(_);return G}}class E{constructor(_){this.promise_=Promise.reject(_)}getPromise(){return this.promise_}cancel(_=!1){}}function Ht(R){return"string"==typeof R||R instanceof String}function Et(R){return It()&&R instanceof Blob}function It(){return typeof Blob<"u"}function Bt(R,_,U,G){if(G<_)throw ps(`Invalid value for '${R}'. Expected ${_} or greater.`);if(G>U)throw ps(`Invalid value for '${R}'. Expected ${U} or less.`)}function Zn(R,_,U){let G=_;return null==U&&(G=`https://${_}`),`${U}://${G}/v0${R}`}function Cr(R){const _=encodeURIComponent;let U="?";for(const G in R)R.hasOwnProperty(G)&&(U=U+(_(G)+"=")+_(R[G])+"&");return U=U.slice(0,-1),U}var Or=function(R){return R[R.NO_ERROR=0]="NO_ERROR",R[R.NETWORK_ERROR=1]="NETWORK_ERROR",R[R.ABORT=2]="ABORT",R}(Or||{});function Hr(R,_){const U=R>=500&&R<600,be=-1!==[408,429].indexOf(R),at=-1!==_.indexOf(R);return U||be||at}class eo{constructor(_,U,G,be,at,Gt,Jt,cn,An,er,kr,yi=!0){this.url_=_,this.method_=U,this.headers_=G,this.body_=be,this.successCodes_=at,this.additionalRetryCodes_=Gt,this.callback_=Jt,this.errorCallback_=cn,this.timeout_=An,this.progressCallback_=er,this.connectionFactory_=kr,this.retry=yi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fi,Si)=>{this.resolve_=fi,this.reject_=Si,this.start_()})}start_(){const U=(G,be)=>{const at=this.resolve_,Gt=this.reject_,Jt=be.connection;if(be.wasSuccessCode)try{const cn=this.callback_(Jt,Jt.getResponse());!function $(R){return void 0!==R}(cn)?at():at(cn)}catch(cn){Gt(cn)}else if(null!==Jt){const cn=Ko();cn.serverResponse=Jt.getErrorText(),Gt(this.errorCallback_?this.errorCallback_(Jt,cn):cn)}else Gt(be.canceled?this.appDelete_?Zi():qo():Os())};this.canceled_?U(0,new zr(!1,null,!0)):this.backoffId_=function H(R,_,U){let G=1,be=null,at=null,Gt=!1,Jt=0;function cn(){return 2===Jt}let An=!1;function er(...Mr){An||(An=!0,_.apply(null,Mr))}function kr(Mr){be=setTimeout(()=>{be=null,R(fi,cn())},Mr)}function yi(){at&&clearTimeout(at)}function fi(Mr,...qr){if(An)return void yi();if(Mr)return yi(),void er.call(null,Mr,...qr);if(cn()||Gt)return yi(),void er.call(null,Mr,...qr);let Xi;G<64&&(G*=2),1===Jt?(Jt=2,Xi=0):Xi=1e3*(G+Math.random()),kr(Xi)}let Si=!1;function Oi(Mr){Si||(Si=!0,yi(),!An&&(null!==be?(Mr||(Jt=2),clearTimeout(be),kr(0)):Mr||(Jt=1)))}return kr(0),at=setTimeout(()=>{Gt=!0,Oi(!0)},U),Oi}((G,be)=>{if(be)return void G(!1,new zr(!1,null,!0));const at=this.connectionFactory_();this.pendingConnection_=at;const Gt=Jt=>{null!==this.progressCallback_&&this.progressCallback_(Jt.loaded,Jt.lengthComputable?Jt.total:-1)};null!==this.progressCallback_&&at.addUploadProgressListener(Gt),at.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&at.removeUploadProgressListener(Gt),this.pendingConnection_=null;const Jt=at.getErrorCode()===Or.NO_ERROR,cn=at.getStatus();if(!Jt||Hr(cn,this.additionalRetryCodes_)&&this.retry){const er=at.getErrorCode()===Or.ABORT;return void G(!1,new zr(!1,null,er))}const An=-1!==this.successCodes_.indexOf(cn);G(!0,new zr(An,at))})},U,this.timeout_)}getPromise(){return this.promise_}cancel(_){this.canceled_=!0,this.appDelete_=_||!1,null!==this.backoffId_&&function Oe(R){R(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zr{constructor(_,U,G){this.wasSuccessCode=_,this.connection=U,this.canceled=!!G}}function dr(...R){const _=function to(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==_){const U=new _;for(let G=0;G<R.length;G++)U.append(R[G]);return U.getBlob()}if(It())return new Blob(R);throw new Rr(Ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class an{constructor(_,U){this.data=_,this.contentType=U||null}}function Xo(R,_){switch(R){case Dr.RAW:return new an(Pr(_));case Dr.BASE64:case Dr.BASE64URL:return new an(mr(R,_));case Dr.DATA_URL:return new an(function Fs(R){const _=new En(R);return _.base64?mr(Dr.BASE64,_.rest):function yl(R){let _;try{_=decodeURIComponent(R)}catch{throw oo(Dr.DATA_URL,"Malformed data URL.")}return Pr(_)}(_.rest)}(_),function Ls(R){return new En(R).contentType}(_))}throw Ko()}function Pr(R){const _=[];for(let U=0;U<R.length;U++){let G=R.charCodeAt(U);G<=127?_.push(G):G<=2047?_.push(192|G>>6,128|63&G):55296==(64512&G)?U<R.length-1&&56320==(64512&R.charCodeAt(U+1))?(G=65536|(1023&G)<<10|1023&R.charCodeAt(++U),_.push(240|G>>18,128|G>>12&63,128|G>>6&63,128|63&G)):_.push(239,191,189):56320==(64512&G)?_.push(239,191,189):_.push(224|G>>12,128|G>>6&63,128|63&G)}return new Uint8Array(_)}function mr(R,_){switch(R){case Dr.BASE64:{const be=-1!==_.indexOf("-"),at=-1!==_.indexOf("_");if(be||at)throw oo(R,"Invalid character '"+(be?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const be=-1!==_.indexOf("+"),at=-1!==_.indexOf("/");if(be||at)throw oo(R,"Invalid character '"+(be?"+":"/")+"' found: is it base64 encoded?");_=_.replace(/-/g,"+").replace(/_/g,"/");break}}let U;try{U=function wo(R){if(typeof atob>"u")throw function as(R){return new Rr(Ei.UNSUPPORTED_ENVIRONMENT,`${R} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(R)}(_)}catch(be){throw be.message.includes("polyfill")?be:oo(R,"Invalid character found")}const G=new Uint8Array(U.length);for(let be=0;be<U.length;be++)G[be]=U.charCodeAt(be);return G}class En{constructor(_){this.base64=!1,this.contentType=null;const U=_.match(/^data:([^,]+)?,/);if(null===U)throw oo(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const G=U[1]||null;null!=G&&(this.base64=function Zs(R,_){return R.length>=_.length&&R.substring(R.length-_.length)===_}(G,";base64"),this.contentType=this.base64?G.substring(0,G.length-7):G),this.rest=_.substring(_.indexOf(",")+1)}}class ha{constructor(_,U){let G=0,be="";Et(_)?(this.data_=_,G=_.size,be=_.type):_ instanceof ArrayBuffer?(U?this.data_=new Uint8Array(_):(this.data_=new Uint8Array(_.byteLength),this.data_.set(new Uint8Array(_))),G=this.data_.length):_ instanceof Uint8Array&&(U?this.data_=_:(this.data_=new Uint8Array(_.length),this.data_.set(_)),G=_.length),this.size_=G,this.type_=be}size(){return this.size_}type(){return this.type_}slice(_,U){if(Et(this.data_)){const be=function li(R,_,U){return R.webkitSlice?R.webkitSlice(_,U):R.mozSlice?R.mozSlice(_,U):R.slice?R.slice(_,U):null}(this.data_,_,U);return null===be?null:new ha(be)}{const G=new Uint8Array(this.data_.buffer,_,U-_);return new ha(G,!0)}}static getBlob(..._){if(It()){const U=_.map(G=>G instanceof ha?G.data_:G);return new ha(dr.apply(null,U))}{const U=_.map(Gt=>Ht(Gt)?Xo(Dr.RAW,Gt).data:Gt.data_);let G=0;U.forEach(Gt=>{G+=Gt.byteLength});const be=new Uint8Array(G);let at=0;return U.forEach(Gt=>{for(let Jt=0;Jt<Gt.length;Jt++)be[at++]=Gt[Jt]}),new ha(be,!0)}}uploadData(){return this.data_}}function bo(R){let _;try{_=JSON.parse(R)}catch{return null}return function De(R){return"object"==typeof R&&!Array.isArray(R)}(_)?_:null}function Ar(R){const _=R.lastIndexOf("/",R.length-2);return-1===_?R:R.slice(_+1)}function Hl(R,_){return _}class Zr{constructor(_,U,G,be){this.server=_,this.local=U||_,this.writable=!!G,this.xform=be||Hl}}let Vo=null;function ea(){if(Vo)return Vo;const R=[];R.push(new Zr("bucket")),R.push(new Zr("generation")),R.push(new Zr("metageneration")),R.push(new Zr("name","fullPath",!0));const U=new Zr("name");U.xform=function _(at,Gt){return function Ui(R){return!Ht(R)||R.length<2?R:Ar(R)}(Gt)},R.push(U);const be=new Zr("size");return be.xform=function G(at,Gt){return void 0!==Gt?Number(Gt):Gt},R.push(be),R.push(new Zr("timeCreated")),R.push(new Zr("updated")),R.push(new Zr("md5Hash",null,!0)),R.push(new Zr("cacheControl",null,!0)),R.push(new Zr("contentDisposition",null,!0)),R.push(new Zr("contentEncoding",null,!0)),R.push(new Zr("contentLanguage",null,!0)),R.push(new Zr("contentType",null,!0)),R.push(new Zr("metadata","customMetadata",!0)),Vo=R,Vo}function At(R,_,U){const G=bo(_);return null===G?null:function zl(R,_,U){const G={type:"file"},be=U.length;for(let at=0;at<be;at++){const Gt=U[at];G[Gt.local]=Gt.xform(G,_[Gt.server])}return function Ai(R,_){Object.defineProperty(R,"ref",{get:function U(){const at=new Pi(R.bucket,R.fullPath);return _._makeStorageReference(at)}})}(G,R),G}(R,G,U)}function ms(R,_){const U={},G=_.length;for(let be=0;be<G;be++){const at=_[be];at.writable&&(U[at.server]=R[at.local])}return JSON.stringify(U)}const Vs="prefixes",El="items";class ls{constructor(_,U,G,be){this.url=_,this.method=U,this.handler=G,this.timeout=be,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Eo(R){if(!R)throw Ko()}function Ba(R,_){return function U(G,be){const at=At(R,be,_);return Eo(null!==at),at}}function ta(R){return function _(U,G){let be;return be=401===U.getStatus()?U.getErrorText().includes("Firebase App Check token is invalid")?function vl(){return new Rr(Ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Js(){return new Rr(Ei.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===U.getStatus()?function Ua(R){return new Rr(Ei.QUOTA_EXCEEDED,"Quota for bucket '"+R+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(R.bucket):403===U.getStatus()?function Bl(R){return new Rr(Ei.UNAUTHORIZED,"User does not have permission to access '"+R+"'.")}(R.path):G,be.status=U.getStatus(),be.serverResponse=G.serverResponse,be}}function Qo(R){const _=ta(R);return function U(G,be){let at=_(G,be);return 404===G.getStatus()&&(at=function Va(R){return new Rr(Ei.OBJECT_NOT_FOUND,"Object '"+R+"' does not exist.")}(R.path)),at.serverResponse=be.serverResponse,at}}function nl(R,_,U){const be=Zn(_.fullServerUrl(),R.host,R._protocol),Gt=R.maxOperationRetryTime,Jt=new ls(be,"GET",Ba(R,U),Gt);return Jt.errorHandler=Qo(_),Jt}function Gl(R,_,U,G,be){const at={};at.prefix=_.isRoot?"":_.path+"/",U&&U.length>0&&(at.delimiter=U),G&&(at.pageToken=G),be&&(at.maxResults=be);const Jt=Zn(_.bucketOnlyServerUrl(),R.host,R._protocol),An=R.maxOperationRetryTime,er=new ls(Jt,"GET",function tl(R,_){return function U(G,be){const at=function Us(R,_,U){const G=bo(U);return null===G?null:function So(R,_,U){const G={prefixes:[],items:[],nextPageToken:U.nextPageToken};if(U[Vs])for(const be of U[Vs]){const at=be.replace(/\/$/,""),Gt=R._makeStorageReference(new Pi(_,at));G.prefixes.push(Gt)}if(U[El])for(const be of U[El]){const at=R._makeStorageReference(new Pi(_,be.name));G.items.push(at)}return G}(R,_,G)}(R,_,be);return Eo(null!==at),at}}(R,_.bucket),An);return er.urlParams=at,er.errorHandler=ta(_),er}function M(R,_,U){const G=Object.assign({},U);return G.fullPath=R.path,G.size=_.size(),G.contentType||(G.contentType=function D(R,_){return R&&R.contentType||_&&_.type()||"application/octet-stream"}(null,_)),G}function w(R,_,U,G,be){const at=_.bucketOnlyServerUrl(),Gt={"X-Goog-Upload-Protocol":"multipart"},cn=function Jt(){let Xi="";for(let Ir=0;Ir<2;Ir++)Xi+=Math.random().toString().slice(2);return Xi}();Gt["Content-Type"]="multipart/related; boundary="+cn;const An=M(_,G,be),er=ms(An,U),fi=ha.getBlob("--"+cn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+er+"\r\n--"+cn+"\r\nContent-Type: "+An.contentType+"\r\n\r\n",G,"\r\n--"+cn+"--");if(null===fi)throw wa();const Si={name:An.fullPath},Oi=Zn(at,R.host,R._protocol),qr=R.maxUploadRetryTime,$i=new ls(Oi,"POST",Ba(R,U),qr);return $i.urlParams=Si,$i.headers=Gt,$i.body=fi.uploadData(),$i.errorHandler=ta(_),$i}class L{constructor(_,U,G,be){this.current=_,this.total=U,this.finalized=!!G,this.metadata=be||null}}function le(R,_){let U=null;try{U=R.getResponseHeader("X-Goog-Upload-Status")}catch{Eo(!1)}return Eo(!!U&&-1!==(_||["active"]).indexOf(U)),U}const kn={STATE_CHANGED:"state_changed"},rr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ni(R){switch(R){case"running":case"pausing":case"canceling":return rr.RUNNING;case"paused":return rr.PAUSED;case"success":return rr.SUCCESS;case"canceled":return rr.CANCELED;default:return rr.ERROR}}class ri{constructor(_,U,G){if(function ee(R){return"function"==typeof R}(_)||null!=U||null!=G)this.next=_,this.error=null!=U?U:void 0,this.complete=null!=G?G:void 0;else{const at=_;this.next=at.next,this.error=at.error,this.complete=at.complete}}}function Ki(R){return(..._)=>{Promise.resolve().then(()=>R(..._))}}let na=null;class Al{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Or.NO_ERROR,this.sendPromise_=new Promise(_=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Or.ABORT,_()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Or.NETWORK_ERROR,_()}),this.xhr_.addEventListener("load",()=>{_()})})}send(_,U,G,be){if(this.sent_)throw gs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(U,_,!0),void 0!==be)for(const at in be)be.hasOwnProperty(at)&&this.xhr_.setRequestHeader(at,be[at].toString());return void 0!==G?this.xhr_.send(G):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(_){return this.xhr_.getResponseHeader(_)}addUploadProgressListener(_){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",_)}removeUploadProgressListener(_){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",_)}}class Cl extends Al{initXhr(){this.xhr_.responseType="text"}}function Uo(){return na?na():new Cl}class Ds{constructor(_,U,G=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=_,this._blob=U,this._metadata=G,this._mappings=ea(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=be=>{if(this._request=void 0,this._chunkMultiplier=1,be._codeEquals(Ei.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const at=this.isExponentialBackoffExpired();if(Hr(be.status,[])){if(!at)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();be=Os()}this._error=be,this._transition("error")}},this._metadataErrorHandler=be=>{this._request=void 0,be._codeEquals(Ei.CANCELED)?this.completeTransitions_():(this._error=be,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((be,at)=>{this._resolve=be,this._reject=at,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const _=this._transferred;return U=>this._updateProgress(_+U)}_shouldDoResumable(_){return _.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(_){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([U,G])=>{switch(this._state){case"running":_(U,G);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((_,U)=>{const G=function Te(R,_,U,G,be){const at=_.bucketOnlyServerUrl(),Gt=M(_,G,be),Jt={name:Gt.fullPath},cn=Zn(at,R.host,R._protocol),er={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${G.size()}`,"X-Goog-Upload-Header-Content-Type":Gt.contentType,"Content-Type":"application/json; charset=utf-8"},kr=ms(Gt,U),Si=new ls(cn,"POST",function fi(Oi){let Mr;le(Oi);try{Mr=Oi.getResponseHeader("X-Goog-Upload-URL")}catch{Eo(!1)}return Eo(Ht(Mr)),Mr},R.maxUploadRetryTime);return Si.urlParams=Jt,Si.headers=er,Si.body=kr,Si.errorHandler=ta(_),Si}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),be=this._ref.storage._makeRequest(G,Uo,_,U);this._request=be,be.getPromise().then(at=>{this._request=void 0,this._uploadUrl=at,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const _=this._uploadUrl;this._resolveToken((U,G)=>{const be=function Tt(R,_,U,G){const cn=new ls(U,"POST",function at(An){const er=le(An,["active","final"]);let kr=null;try{kr=An.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Eo(!1)}kr||Eo(!1);const yi=Number(kr);return Eo(!isNaN(yi)),new L(yi,G.size(),"final"===er)},R.maxUploadRetryTime);return cn.headers={"X-Goog-Upload-Command":"query"},cn.errorHandler=ta(_),cn}(this._ref.storage,this._ref._location,_,this._blob),at=this._ref.storage._makeRequest(be,Uo,U,G);this._request=at,at.getPromise().then(Gt=>{this._request=void 0,this._updateProgress(Gt.current),this._needToFetchStatus=!1,Gt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const _=262144*this._chunkMultiplier,U=new L(this._transferred,this._blob.size()),G=this._uploadUrl;this._resolveToken((be,at)=>{let Gt;try{Gt=function Ft(R,_,U,G,be,at,Gt,Jt){const cn=new L(0,0);if(Gt?(cn.current=Gt.current,cn.total=Gt.total):(cn.current=0,cn.total=G.size()),G.size()!==cn.total)throw function el(){return new Rr(Ei.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const An=cn.total-cn.current;let er=An;be>0&&(er=Math.min(er,be));const kr=cn.current;let fi="";fi=0===er?"finalize":An===er?"upload, finalize":"upload";const Si={"X-Goog-Upload-Command":fi,"X-Goog-Upload-Offset":`${cn.current}`},Oi=G.slice(kr,kr+er);if(null===Oi)throw wa();const Xi=new ls(U,"POST",function Mr(Ir,ki){const Xr=le(Ir,["active","final"]),sl=cn.current+er,oa=G.size();let Yl;return Yl="final"===Xr?Ba(_,at)(Ir,ki):null,new L(sl,oa,"final"===Xr,Yl)},_.maxUploadRetryTime);return Xi.headers=Si,Xi.body=Oi.uploadData(),Xi.progressCallback=Jt||null,Xi.errorHandler=ta(R),Xi}(this._ref._location,this._ref.storage,G,this._blob,_,this._mappings,U,this._makeProgressCallback())}catch(cn){return this._error=cn,void this._transition("error")}const Jt=this._ref.storage._makeRequest(Gt,Uo,be,at,!1);this._request=Jt,Jt.getPromise().then(cn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(cn.current),cn.finalized?(this._metadata=cn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((_,U)=>{const G=nl(this._ref.storage,this._ref._location,this._mappings),be=this._ref.storage._makeRequest(G,Uo,_,U);this._request=be,be.getPromise().then(at=>{this._request=void 0,this._metadata=at,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((_,U)=>{const G=w(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),be=this._ref.storage._makeRequest(G,Uo,_,U);this._request=be,be.getPromise().then(at=>{this._request=void 0,this._metadata=at,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(_){const U=this._transferred;this._transferred=_,this._transferred!==U&&this._notifyObservers()}_transition(_){if(this._state!==_)switch(_){case"canceling":case"pausing":this._state=_,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const U="paused"===this._state;this._state=_,U&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=_,this._notifyObservers();break;case"canceled":this._error=qo(),this._state=_,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const _=Ni(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:_,metadata:this._metadata,task:this,ref:this._ref}}on(_,U,G,be){const at=new ri(U||void 0,G||void 0,be||void 0);return this._addObserver(at),()=>{this._removeObserver(at)}}then(_,U){return this._promise.then(_,U)}catch(_){return this.then(null,_)}_addObserver(_){this._observers.push(_),this._notifyObserver(_)}_removeObserver(_){const U=this._observers.indexOf(_);-1!==U&&this._observers.splice(U,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(U=>{this._notifyObserver(U)})}_finishPromise(){if(void 0!==this._resolve){let _=!0;switch(Ni(this._state)){case rr.SUCCESS:Ki(this._resolve.bind(null,this.snapshot))();break;case rr.CANCELED:case rr.ERROR:Ki(this._reject.bind(null,this._error))();break;default:_=!1}_&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(_){switch(Ni(this._state)){case rr.RUNNING:case rr.PAUSED:_.next&&Ki(_.next.bind(_,this.snapshot))();break;case rr.SUCCESS:_.complete&&Ki(_.complete.bind(_))();break;default:_.error&&Ki(_.error.bind(_,this._error))()}}resume(){const _="paused"===this._state||"pausing"===this._state;return _&&this._transition("running"),_}pause(){const _="running"===this._state;return _&&this._transition("pausing"),_}cancel(){const _="running"===this._state||"pausing"===this._state;return _&&this._transition("canceling"),_}}class ja{constructor(_,U){this._service=_,this._location=U instanceof Pi?U:Pi.makeFromUrl(U,_.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_,U){return new ja(_,U)}get root(){const _=new Pi(this._location.bucket,"");return this._newRef(this._service,_)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ar(this._location.path)}get storage(){return this._service}get parent(){const _=function Il(R){if(0===R.length)return null;const _=R.lastIndexOf("/");return-1===_?"":R.slice(0,_)}(this._location.path);if(null===_)return null;const U=new Pi(this._location.bucket,_);return new ja(this._service,U)}_throwIfRoot(_){if(""===this._location.path)throw ks(_)}}function Wr(R,_,U){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.A)(function*(R,_,U){const be=yield $o(R,{pageToken:U});_.prefixes.push(...be.prefixes),_.items.push(...be.items),null!=be.nextPageToken&&(yield Wr(R,_,be.nextPageToken))})).apply(this,arguments)}function $o(R,_){null!=_&&"number"==typeof _.maxResults&&Bt("options.maxResults",1,1e3,_.maxResults);const U=_||{},G=Gl(R.storage,R._location,"/",U.pageToken,U.maxResults);return R.storage.makeRequestWithTokens(G,Uo)}function Ro(R){R._throwIfRoot("getDownloadURL");const _=function us(R,_,U){const be=Zn(_.fullServerUrl(),R.host,R._protocol),Gt=R.maxOperationRetryTime,Jt=new ls(be,"GET",function pu(R,_){return function U(G,be){const at=At(R,be,_);return Eo(null!==at),function Io(R,_,U,G){const be=bo(_);if(null===be||!Ht(be.downloadTokens))return null;const at=be.downloadTokens;if(0===at.length)return null;const Gt=encodeURIComponent;return at.split(",").map(An=>{const kr=R.fullPath;return Zn("/b/"+Gt(R.bucket)+"/o/"+Gt(kr),U,G)+Cr({alt:"media",token:An})})[0]}(at,be,R.host,R._protocol)}}(R,U),Gt);return Jt.errorHandler=Qo(_),Jt}(R.storage,R._location,ea());return R.storage.makeRequestWithTokens(_,Uo).then(U=>{if(null===U)throw function $a(){return new Rr(Ei.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return U})}function gu(R,_){const U=function Lo(R,_){const U=_.split("/").filter(G=>G.length>0).join("/");return 0===R.length?U:R+"/"+U}(R._location.path,_),G=new Pi(R._location.bucket,U);return new ja(R.storage,G)}function fc(R,_){if(R instanceof Sa){const U=R;if(null==U._bucket)throw function jl(){return new Rr(Ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Da+"' property when initializing the app?")}();const G=new ja(U,U._bucket);return null!=_?fc(G,_):G}return void 0!==_?gu(R,_):R}function pa(R,_){if(_&&function zd(R){return/^[A-Za-z]+:\/\//.test(R)}(_)){if(R instanceof Sa)return function bi(R,_){return new ja(R,_)}(R,_);throw ps("To use ref(service, url), the first argument must be a Storage instance.")}return fc(R,_)}function no(R,_){const U=null==_?void 0:_[Da];return null==U?null:Pi.makeFromBucketSpec(U,R)}class Sa{constructor(_,U,G,be,at){this.app=_,this._authProvider=U,this._appCheckProvider=G,this._url=be,this._firebaseVersion=at,this._bucket=null,this._host=Go,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=be?Pi.makeFromBucketSpec(be,this._host):no(this._host,this.app.options)}get host(){return this._host}set host(_){this._host=_,this._bucket=null!=this._url?Pi.makeFromBucketSpec(this._url,_):no(_,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_){Bt("time",0,Number.POSITIVE_INFINITY,_),this._maxUploadRetryTime=_}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_){Bt("time",0,Number.POSITIVE_INFINITY,_),this._maxOperationRetryTime=_}_getAuthToken(){var _=this;return(0,c.A)(function*(){if(_._overrideAuthToken)return _._overrideAuthToken;const U=_._authProvider.getImmediate({optional:!0});if(U){const G=yield U.getToken();if(null!==G)return G.accessToken}return null})()}_getAppCheckToken(){var _=this;return(0,c.A)(function*(){const U=_._appCheckProvider.getImmediate({optional:!0});return U?(yield U.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_=>_.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_){return new ja(this,_)}_makeRequest(_,U,G,be,at=!0){if(this._deleted)return new E(Zi());{const Gt=function mi(R,_,U,G,be,at,Gt=!0){const Jt=Cr(R.urlParams),cn=R.url+Jt,An=Object.assign({},R.headers);return function ai(R,_){_&&(R["X-Firebase-GMPID"]=_)}(An,_),function gn(R,_){null!==_&&_.length>0&&(R.Authorization="Firebase "+_)}(An,U),function Ln(R,_){R["X-Firebase-Storage-Version"]="webjs/"+(null!=_?_:"AppManager")}(An,at),function Vi(R,_){null!==_&&(R["X-Firebase-AppCheck"]=_)}(An,G),new eo(cn,R.method,An,R.body,R.successCodes,R.additionalRetryCodes,R.handler,R.errorHandler,R.timeout,R.progressCallback,be,Gt)}(_,this._appId,G,be,U,this._firebaseVersion,at);return this._requests.add(Gt),Gt.getPromise().then(()=>this._requests.delete(Gt),()=>this._requests.delete(Gt)),Gt}}makeRequestWithTokens(_,U){var G=this;return(0,c.A)(function*(){const[be,at]=yield Promise.all([G._getAuthToken(),G._getAppCheckToken()]);return G._makeRequest(_,U,be,at).getPromise()})()}}const Ha="@firebase/storage",Ou="storage";function wl(R,_,U,G){return function Gr(R,_,U=Dr.RAW,G){R._throwIfRoot("uploadString");const be=Xo(U,_),at=Object.assign({},G);return null==at.contentType&&null!=be.contentType&&(at.contentType=be.contentType),function Ao(R,_,U){R._throwIfRoot("uploadBytes");const G=w(R.storage,R._location,ea(),new ha(_,!0),U);return R.storage.makeRequestWithTokens(G,Uo).then(be=>({metadata:be,ref:R}))}(R,be.data,at)}(R=(0,wt.Ku)(R),_,U,G)}function ra(R){return Ro(R=(0,wt.Ku)(R))}function Fu(R){return function vs(R){R._throwIfRoot("deleteObject");const _=function I(R,_){const G=Zn(_.fullServerUrl(),R.host,R._protocol),Jt=new ls(G,"DELETE",function Gt(cn,An){},R.maxOperationRetryTime);return Jt.successCodes=[200,204],Jt.errorHandler=Qo(_),Jt}(R.storage,R._location);return R.storage.makeRequestWithTokens(_,Uo)}(R=(0,wt.Ku)(R))}function ga(R,_){return pa(R=(0,wt.Ku)(R),_)}function Kl(R=(0,Mt.getApp)(),_){R=(0,wt.Ku)(R);const G=(0,Mt._getProvider)(R,Ou).getImmediate({identifier:_}),be=(0,wt.yU)("storage");return be&&rl(G,...be),G}function rl(R,_,U,G={}){!function $s(R,_,U,G={}){R.host=`${_}:${U}`,R._protocol="http";const{mockUserToken:be}=G;be&&(R._overrideAuthToken="string"==typeof be?be:(0,wt.Fy)(be,R.app.options.projectId))}(R,_,U,G)}function Sl(R,{instanceIdentifier:_}){const U=R.getProvider("app").getImmediate(),G=R.getProvider("auth-internal"),be=R.getProvider("app-check-internal");return new Sa(U,G,be,_,Mt.SDK_VERSION)}!function ql(){(0,Mt._registerComponent)(new nn.uA(Ou,Sl,"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(Ha,"0.12.4",""),(0,Mt.registerVersion)(Ha,"0.12.4","esm2017")}();class ii{constructor(_,U,G){this._delegate=_,this.task=U,this.ref=G}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mu{constructor(_,U){this._delegate=_,this._ref=U,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ii(this._delegate.snapshot,this,this._ref)}then(_,U){return this._delegate.then(G=>{if(_)return _(new ii(G,this,this._ref))},U)}on(_,U,G,be){let at;return U&&(at="function"==typeof U?Gt=>U(new ii(Gt,this,this._ref)):{next:U.next?Gt=>U.next(new ii(Gt,this,this._ref)):void 0,complete:U.complete||void 0,error:U.error||void 0}),this._delegate.on(_,at,G||void 0,be||void 0)}}class il{constructor(_,U){this._delegate=_,this._service=U}get prefixes(){return this._delegate.prefixes.map(_=>new Po(_,this._service))}get items(){return this._delegate.items.map(_=>new Po(_,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Po{constructor(_,U){this._delegate=_,this.storage=U}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(_){const U=function bl(R,_){return gu(R,_)}(this._delegate,_);return new Po(U,this.storage)}get root(){return new Po(this._delegate.root,this.storage)}get parent(){const _=this._delegate.parent;return null==_?null:new Po(_,this.storage)}put(_,U){return this._throwIfRoot("put"),new mu(function za(R,_,U){return function Hd(R,_,U){return R._throwIfRoot("uploadBytesResumable"),new Ds(R,new ha(_),U)}(R=(0,wt.Ku)(R),_,U)}(this._delegate,_,U),this)}putString(_,U=Dr.RAW,G){this._throwIfRoot("putString");const be=Xo(U,_),at=Object.assign({},G);return null==at.contentType&&null!=be.contentType&&(at.contentType=be.contentType),new mu(new Ds(this._delegate,new ha(be.data,!0),at),this)}listAll(){return function ku(R){return function Nu(R){const _={prefixes:[],items:[]};return Wr(R,_).then(()=>_)}(R=(0,wt.Ku)(R))}(this._delegate).then(_=>new il(_,this.storage))}list(_){return function Ga(R,_){return $o(R=(0,wt.Ku)(R),_)}(this._delegate,_||void 0).then(U=>new il(U,this.storage))}getMetadata(){return function Ra(R){return function vi(R){R._throwIfRoot("getMetadata");const _=nl(R.storage,R._location,ea());return R.storage.makeRequestWithTokens(_,Uo)}(R=(0,wt.Ku)(R))}(this._delegate)}updateMetadata(_){return function Wl(R,_){return function Dl(R,_){R._throwIfRoot("updateMetadata");const U=function qh(R,_,U,G){const at=Zn(_.fullServerUrl(),R.host,R._protocol),Jt=ms(U,G),An=R.maxOperationRetryTime,er=new ls(at,"PATCH",Ba(R,G),An);return er.headers={"Content-Type":"application/json; charset=utf-8"},er.body=Jt,er.errorHandler=Qo(_),er}(R.storage,R._location,_,ea());return R.storage.makeRequestWithTokens(U,Uo)}(R=(0,wt.Ku)(R),_)}(this._delegate,_)}getDownloadURL(){return ra(this._delegate)}delete(){return this._throwIfRoot("delete"),Fu(this._delegate)}_throwIfRoot(_){if(""===this._delegate._location.path)throw ks(_)}}class Rl{constructor(_,U){this.app=_,this._delegate=U}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(_){if(Mo(_))throw ps("ref() expected a child path but got a URL, use refFromURL instead.");return new Po(ga(this._delegate,_),this)}refFromURL(_){if(!Mo(_))throw ps("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Pi.makeFromUrl(_,this._delegate.host)}catch{throw ps("refFromUrl() expected a valid full URL but got an invalid one.")}return new Po(ga(this._delegate,_),this)}setMaxUploadRetryTime(_){this._delegate.maxUploadRetryTime=_}setMaxOperationRetryTime(_){this._delegate.maxOperationRetryTime=_}useEmulator(_,U,G={}){rl(this._delegate,_,U,G)}}function Mo(R){return/^[A-Za-z]+:\/\//.test(R)}function cs(R,{instanceIdentifier:_}){const U=R.getProvider("app-compat").getImmediate(),G=R.getProvider("storage").getImmediate({identifier:_});return new Rl(U,G)}function ia(R){const _=function ol(R){return new _e.c(_=>{const U=Gt=>_.next(Gt);U(R.snapshot);const at=R.on("state_changed",U);return R.then(Gt=>{U(Gt),_.complete()},Gt=>{U(R.snapshot),(Gt=>{_.error(Gt)})(Gt)}),function(){at()}}).pipe(function ca(R,_=vn.E){return(0,ze.N)((U,G)=>{let be=null,at=null,Gt=null;const Jt=()=>{if(be){be.unsubscribe(),be=null;const An=at;at=null,G.next(An)}};function cn(){const An=Gt+R,er=_.now();if(er<An)return be=this.schedule(void 0,An-er),void G.add(be);Jt()}U.subscribe((0,Hn._)(G,An=>{at=An,Gt=_.now(),be||(be=_.schedule(cn,R),G.add(be))},()=>{Jt(),G.complete()},void 0,()=>{at=be=null}))})}(0))}(R);return{task:R,then:R.then.bind(R),catch:R.catch.bind(R),pause:R.pause.bind(R),cancel:R.cancel.bind(R),resume:R.resume.bind(R),snapshotChanges:()=>_,percentageChanges:()=>_.pipe((0,et.T)(U=>U.bytesTransferred/U.totalBytes*100))}}function Hs(R){return{getDownloadURL:()=>(0,Ze.of)(void 0).pipe(ke.Oe,(0,Xe.n)(()=>R.getDownloadURL()),ke.U0),getMetadata:()=>(0,Ze.of)(void 0).pipe(ke.Oe,(0,Xe.n)(()=>R.getMetadata()),ke.U0),delete:()=>(0,ge.H)(R.delete()),child:_=>Hs(R.child(_)),updateMetadata:_=>(0,ge.H)(R.updateMetadata(_)),put:(_,U)=>ia(R.put(_,U)),putString:(_,U,G)=>ia(R.putString(_,U,G)),list:_=>(0,ge.H)(R.list(_)),listAll:()=>(0,ge.H)(R.listAll())}}!function ma(R){const _={TaskState:rr,TaskEvent:kn,StringFormat:Dr,Storage:Rl,Reference:Po};R.INTERNAL.registerComponent(new nn.uA("storage-compat",cs,"PUBLIC").setServiceProps(_).setMultipleInstances(!0)),R.registerVersion("@firebase/storage-compat","0.3.7")}(gt.A);const ei=new Y.nKC("angularfire2.storageBucket"),_i=new Y.nKC("angularfire2.storage.maxUploadRetryTime"),Xl=new Y.nKC("angularfire2.storage.maxOperationRetryTime"),gc=new Y.nKC("angularfire2.storage.use-emulator");let Ql=(()=>{var R;class _{constructor(G,be,at,Gt,Jt,cn,An,er,kr,yi){(0,d.A)(this,"storage",void 0);const fi=(0,ie.iB)(G,Jt,be);this.storage=(0,ie.BM)(`${fi.name}.storage.${at}`,"AngularFireStorage",fi.name,()=>{const Si=Jt.runOutsideAngular(()=>fi.storage(at||void 0)),Oi=kr;return Oi&&Si.useEmulator(...Oi),An&&Si.setMaxUploadRetryTime(An),er&&Si.setMaxOperationRetryTime(er),Si},[An,er])}ref(G){return Hs(this.storage.ref(G))}refFromURL(G){return Hs(this.storage.refFromURL(G))}upload(G,be,at){return Hs(this.storage.ref(G)).put(be,at)}}return R=_,(0,d.A)(_,"\u0275fac",function(G){return new(G||R)(Y.KVO(ie.rx),Y.KVO(ie.uP,8),Y.KVO(ei,8),Y.KVO(Y.Agw),Y.KVO(Y.SKi),Y.KVO(ke.u0),Y.KVO(_i,8),Y.KVO(Xl,8),Y.KVO(gc,8),Y.KVO(ke.Jv,8))}),(0,d.A)(_,"\u0275prov",Y.jDH({token:R,factory:R.\u0275fac,providedIn:"any"})),_})();var qc=N(5265);let vc=(()=>{var R;class _{constructor(){this.auth=(0,Y.WQX)(Me),this.firestore=(0,Y.WQX)(_t),this.storage=(0,Y.WQX)(Ql),this.utils=(0,Y.WQX)(qc.T)}signIn(G){return(0,lt.ab)((0,lt.o)(),G.email,G.password)}signUp(G){return(0,lt.aa)((0,lt.o)(),G.email,G.password)}updateUserProfile(G){return(0,lt.ak)((0,lt.o)().currentUser,{displayName:G})}setDocument(G,be){return cr(zi(xo(),G),be)}resetPassword(G){return(0,lt.a5)((0,lt.o)(),G)}getCollectionData(G,be){const at=Ms(xo(),G);return qt(Fa(at,...be),{idField:"id"})}updateDocument(G,be){return fu(zi(xo(),G),be)}deleteDocument(G){return Hi(zi(xo(),G))}getDocument(G){return(0,c.A)(function*(){return(yield xs(zi(xo(),G))).data()})()}addDocument(G,be){return si(Ms(xo(),G),be)}uploadFile(G,be){return this.storage.upload(G,be)}uploadImage(G,be){return(0,c.A)(function*(){return wl(ga(Kl(),G),be,"data_url").then(at=>ra(ga(Kl(),G)))})()}getFilePath(G){return(0,c.A)(function*(){return ga(Kl(),G).fullPath})()}deleteFile(G){return Fu(ga(Kl(),G))}getAuth(){return(0,lt.o)()}signOut(){(0,lt.o)().signOut(),localStorage.removeItem("user"),this.utils.routerLink("/")}}return(R=_).\u0275fac=function(G){return new(G||R)},R.\u0275prov=Y.jDH({token:R,factory:R.\u0275fac,providedIn:"root"}),_})()},5265:(hn,ft,N)=>{"use strict";N.d(ft,{T:()=>ce});var c=N(467),d=N(4438),V=N(4964);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var _e=function(pe){return pe.Unimplemented="UNIMPLEMENTED",pe.Unavailable="UNAVAILABLE",pe}(_e||{});class ge extends Error{constructor(se,Me,Pe){super(se),this.message=se,this.code=Me,this.data=Pe}}const qe=pe=>{var se,Me,Pe,lt,Mt;const wt=pe.CapacitorCustomPlatform||null,bt=pe.Capacitor||{},nn=bt.Plugins=bt.Plugins||{},vn=pe.CapacitorPlatforms,Hn=(null===(se=null==vn?void 0:vn.currentPlatform)||void 0===se?void 0:se.getPlatform)||(()=>null!==wt?wt.name:(pe=>{var se,Me;return null!=pe&&pe.androidBridge?"android":null!==(Me=null===(se=null==pe?void 0:pe.webkit)||void 0===se?void 0:se.messageHandlers)&&void 0!==Me&&Me.bridge?"ios":"web"})(pe)),Vn=(null===(Me=null==vn?void 0:vn.currentPlatform)||void 0===Me?void 0:Me.isNativePlatform)||(()=>"web"!==Hn()),gt=(null===(Pe=null==vn?void 0:vn.currentPlatform)||void 0===Pe?void 0:Pe.isPluginAvailable)||(Zt=>{const Nn=ur.get(Zt);return!!(null!=Nn&&Nn.platforms.has(Hn())||Rt(Zt))}),Rt=(null===(lt=null==vn?void 0:vn.currentPlatform)||void 0===lt?void 0:lt.getPluginHeader)||(Zt=>{var Nn;return null===(Nn=bt.PluginHeaders)||void 0===Nn?void 0:Nn.find(ir=>ir.name===Zt)}),ur=new Map,un=(null===(Mt=null==vn?void 0:vn.currentPlatform)||void 0===Mt?void 0:Mt.registerPlugin)||((Zt,Nn={})=>{const ir=ur.get(Zt);if(ir)return console.warn(`Capacitor plugin "${Zt}" already registered. Cannot register plugins twice.`),ir.proxy;const qn=Hn(),Qn=Rt(Zt);let Rn;const Er=function(){var In=(0,c.A)(function*(){return!Rn&&qn in Nn?Rn=Rn="function"==typeof Nn[qn]?yield Nn[qn]():Nn[qn]:null!==wt&&!Rn&&"web"in Nn&&(Rn=Rn="function"==typeof Nn.web?yield Nn.web():Nn.web),Rn});return function(){return In.apply(this,arguments)}}(),pr=In=>{let Pn;const ar=(...Tr)=>{const it=Er().then(Ye=>{const yt=((In,Pn)=>{var ar,Tr;if(!Qn){if(In)return null===(Tr=In[Pn])||void 0===Tr?void 0:Tr.bind(In);throw new ge(`"${Zt}" plugin is not implemented on ${qn}`,_e.Unimplemented)}{const it=null==Qn?void 0:Qn.methods.find(Ye=>Pn===Ye.name);if(it)return"promise"===it.rtype?Ye=>bt.nativePromise(Zt,Pn.toString(),Ye):(Ye,yt)=>bt.nativeCallback(Zt,Pn.toString(),Ye,yt);if(In)return null===(ar=In[Pn])||void 0===ar?void 0:ar.bind(In)}})(Ye,In);if(yt){const rt=yt(...Tr);return Pn=null==rt?void 0:rt.remove,rt}throw new ge(`"${Zt}.${In}()" is not implemented on ${qn}`,_e.Unimplemented)});return"addListener"===In&&(it.remove=(0,c.A)(function*(){return Pn()})),it};return ar.toString=()=>`${In.toString()}() { [capacitor code] }`,Object.defineProperty(ar,"name",{value:In,writable:!1,configurable:!1}),ar},Dn=pr("addListener"),Sn=pr("removeListener"),_r=(In,Pn)=>{const ar=Dn({eventName:In},Pn),Tr=function(){var Ye=(0,c.A)(function*(){const yt=yield ar;Sn({eventName:In,callbackId:yt},Pn)});return function(){return Ye.apply(this,arguments)}}(),it=new Promise(Ye=>ar.then(()=>Ye({remove:Tr})));return it.remove=(0,c.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Tr()}),it},Un=new Proxy({},{get(In,Pn){switch(Pn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Qn?_r:Dn;case"removeListener":return Sn;default:return pr(Pn)}}});return nn[Zt]=Un,ur.set(Zt,{name:Zt,proxy:Un,platforms:new Set([...Object.keys(Nn),...Qn?[qn]:[]])}),Un});return bt.convertFileSrc||(bt.convertFileSrc=Zt=>Zt),bt.getPlatform=Hn,bt.handleError=Zt=>pe.console.error(Zt),bt.isNativePlatform=Vn,bt.isPluginAvailable=gt,bt.pluginMethodNoop=(Zt,Nn,ir)=>Promise.reject(`${ir} does not have an implementation of "${Nn}".`),bt.registerPlugin=un,bt.Exception=ge,bt.DEBUG=!!bt.DEBUG,bt.isLoggingEnabled=!!bt.isLoggingEnabled,bt.platform=bt.getPlatform(),bt.isNative=bt.isNativePlatform(),bt},nt=(pe=>pe.Capacitor=qe(pe))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ct=nt.registerPlugin;class et{constructor(se){this.listeners={},this.retainedEventArguments={},this.windowListeners={},se&&(console.warn(`Capacitor WebPlugin "${se.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=se)}addListener(se,Me){var Pe=this;let lt=!1;this.listeners[se]||(this.listeners[se]=[],lt=!0),this.listeners[se].push(Me);const wt=this.windowListeners[se];wt&&!wt.registered&&this.addWindowListener(wt),lt&&this.sendRetainedArgumentsForEvent(se);const bt=function(){var vn=(0,c.A)(function*(){return Pe.removeListener(se,Me)});return function(){return vn.apply(this,arguments)}}();return Promise.resolve({remove:bt})}removeAllListeners(){var se=this;return(0,c.A)(function*(){se.listeners={};for(const Me in se.windowListeners)se.removeWindowListener(se.windowListeners[Me]);se.windowListeners={}})()}notifyListeners(se,Me,Pe){const lt=this.listeners[se];if(lt)lt.forEach(Mt=>Mt(Me));else if(Pe){let Mt=this.retainedEventArguments[se];Mt||(Mt=[]),Mt.push(Me),this.retainedEventArguments[se]=Mt}}hasListeners(se){return!!this.listeners[se].length}registerWindowListener(se,Me){this.windowListeners[Me]={registered:!1,windowEventName:se,pluginEventName:Me,handler:Pe=>{this.notifyListeners(Me,Pe)}}}unimplemented(se="not implemented"){return new nt.Exception(se,_e.Unimplemented)}unavailable(se="not available"){return new nt.Exception(se,_e.Unavailable)}removeListener(se,Me){var Pe=this;return(0,c.A)(function*(){const lt=Pe.listeners[se];if(!lt)return;const Mt=lt.indexOf(Me);Pe.listeners[se].splice(Mt,1),Pe.listeners[se].length||Pe.removeWindowListener(Pe.windowListeners[se])})()}addWindowListener(se){window.addEventListener(se.windowEventName,se.handler),se.registered=!0}removeWindowListener(se){se&&(window.removeEventListener(se.windowEventName,se.handler),se.registered=!1)}sendRetainedArgumentsForEvent(se){const Me=this.retainedEventArguments[se];Me&&(delete this.retainedEventArguments[se],Me.forEach(Pe=>{this.notifyListeners(se,Pe)}))}}const tt=pe=>encodeURIComponent(pe).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Se=pe=>pe.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ze extends et{getCookies(){return(0,c.A)(function*(){const se=document.cookie,Me={};return se.split(";").forEach(Pe=>{if(Pe.length<=0)return;let[lt,Mt]=Pe.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");lt=Se(lt).trim(),Mt=Se(Mt).trim(),Me[lt]=Mt}),Me})()}setCookie(se){return(0,c.A)(function*(){try{const Me=tt(se.key),Pe=tt(se.value),lt=`; expires=${(se.expires||"").replace("expires=","")}`,Mt=(se.path||"/").replace("path=",""),wt=null!=se.url&&se.url.length>0?`domain=${se.url}`:"";document.cookie=`${Me}=${Pe||""}${lt}; path=${Mt}; ${wt};`}catch(Me){return Promise.reject(Me)}})()}deleteCookie(se){return(0,c.A)(function*(){try{document.cookie=`${se.key}=; Max-Age=0`}catch(Me){return Promise.reject(Me)}})()}clearCookies(){return(0,c.A)(function*(){try{const se=document.cookie.split(";")||[];for(const Me of se)document.cookie=Me.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(se){return Promise.reject(se)}})()}clearAllCookies(){var se=this;return(0,c.A)(function*(){try{yield se.clearCookies()}catch(Me){return Promise.reject(Me)}})()}}ct("CapacitorCookies",{web:()=>new ze});const dt=function(){var pe=(0,c.A)(function*(se){return new Promise((Me,Pe)=>{const lt=new FileReader;lt.onload=()=>{const Mt=lt.result;Me(Mt.indexOf(",")>=0?Mt.split(",")[1]:Mt)},lt.onerror=Mt=>Pe(Mt),lt.readAsDataURL(se)})});return function(Me){return pe.apply(this,arguments)}}();class kt extends et{request(se){return(0,c.A)(function*(){const Me=((pe,se={})=>{const Me=Object.assign({method:pe.method||"GET",headers:pe.headers},se),lt=((pe={})=>{const se=Object.keys(pe);return Object.keys(pe).map(lt=>lt.toLocaleLowerCase()).reduce((lt,Mt,wt)=>(lt[Mt]=pe[se[wt]],lt),{})})(pe.headers)["content-type"]||"";if("string"==typeof pe.data)Me.body=pe.data;else if(lt.includes("application/x-www-form-urlencoded")){const Mt=new URLSearchParams;for(const[wt,bt]of Object.entries(pe.data||{}))Mt.set(wt,bt);Me.body=Mt.toString()}else if(lt.includes("multipart/form-data")||pe.data instanceof FormData){const Mt=new FormData;if(pe.data instanceof FormData)pe.data.forEach((bt,nn)=>{Mt.append(nn,bt)});else for(const bt of Object.keys(pe.data))Mt.append(bt,pe.data[bt]);Me.body=Mt;const wt=new Headers(Me.headers);wt.delete("content-type"),Me.headers=wt}else(lt.includes("application/json")||"object"==typeof pe.data)&&(Me.body=JSON.stringify(pe.data));return Me})(se,se.webFetchExtra),Pe=((pe,se=!0)=>pe?Object.entries(pe).reduce((Pe,lt)=>{const[Mt,wt]=lt;let bt,nn;return Array.isArray(wt)?(nn="",wt.forEach(vn=>{bt=se?encodeURIComponent(vn):vn,nn+=`${Mt}=${bt}&`}),nn.slice(0,-1)):(bt=se?encodeURIComponent(wt):wt,nn=`${Mt}=${bt}`),`${Pe}&${nn}`},"").substr(1):null)(se.params,se.shouldEncodeUrlParams),lt=Pe?`${se.url}?${Pe}`:se.url,Mt=yield fetch(lt,Me),wt=Mt.headers.get("content-type")||"";let nn,vn,{responseType:bt="text"}=Mt.ok?se:{};switch(wt.includes("application/json")&&(bt="json"),bt){case"arraybuffer":case"blob":vn=yield Mt.blob(),nn=yield dt(vn);break;case"json":nn=yield Mt.json();break;default:nn=yield Mt.text()}const Bn={};return Mt.headers.forEach((Hn,tr)=>{Bn[tr]=Hn}),{data:nn,headers:Bn,status:Mt.status,url:Mt.url}})()}get(se){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},se),{method:"GET"}))})()}post(se){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},se),{method:"POST"}))})()}put(se){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},se),{method:"PUT"}))})()}patch(se){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},se),{method:"PATCH"}))})()}delete(se){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},se),{method:"DELETE"}))})()}}ct("CapacitorHttp",{web:()=>new kt});var fn=function(pe){return pe.Prompt="PROMPT",pe.Camera="CAMERA",pe.Photos="PHOTOS",pe}(fn||{}),Wt=function(pe){return pe.Rear="REAR",pe.Front="FRONT",pe}(Wt||{}),mn=function(pe){return pe.Uri="uri",pe.Base64="base64",pe.DataUrl="dataUrl",pe}(mn||{});class mt extends et{getPhoto(se){var Me=this;return(0,c.A)(function*(){return new Promise(function(){var Pe=(0,c.A)(function*(lt,Mt){if(se.webUseInput||se.source===fn.Photos)Me.fileInputExperience(se,lt,Mt);else if(se.source===fn.Prompt){let wt=document.querySelector("pwa-action-sheet");wt||(wt=document.createElement("pwa-action-sheet"),document.body.appendChild(wt)),wt.header=se.promptLabelHeader||"Photo",wt.cancelable=!1,wt.options=[{title:se.promptLabelPhoto||"From Photos"},{title:se.promptLabelPicture||"Take Picture"}],wt.addEventListener("onSelection",function(){var bt=(0,c.A)(function*(nn){0===nn.detail?Me.fileInputExperience(se,lt,Mt):Me.cameraExperience(se,lt,Mt)});return function(nn){return bt.apply(this,arguments)}}())}else Me.cameraExperience(se,lt,Mt)});return function(lt,Mt){return Pe.apply(this,arguments)}}())})()}pickImages(se){var Me=this;return(0,c.A)(function*(){return new Promise(function(){var Pe=(0,c.A)(function*(lt,Mt){Me.multipleFileInputExperience(lt,Mt)});return function(lt,Mt){return Pe.apply(this,arguments)}}())})()}cameraExperience(se,Me,Pe){var lt=this;return(0,c.A)(function*(){if(customElements.get("pwa-camera-modal")){const Mt=document.createElement("pwa-camera-modal");Mt.facingMode=se.direction===Wt.Front?"user":"environment",document.body.appendChild(Mt);try{yield Mt.componentOnReady(),Mt.addEventListener("onPhoto",function(){var wt=(0,c.A)(function*(bt){const nn=bt.detail;null===nn?Pe(new ge("User cancelled photos app")):nn instanceof Error?Pe(nn):Me(yield lt._getCameraPhoto(nn,se)),Mt.dismiss(),document.body.removeChild(Mt)});return function(bt){return wt.apply(this,arguments)}}()),Mt.present()}catch{lt.fileInputExperience(se,Me,Pe)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),lt.fileInputExperience(se,Me,Pe)})()}fileInputExperience(se,Me,Pe){let lt=document.querySelector("#_capacitor-camera-input");const Mt=()=>{var wt;null===(wt=lt.parentNode)||void 0===wt||wt.removeChild(lt)};lt||(lt=document.createElement("input"),lt.id="_capacitor-camera-input",lt.type="file",lt.hidden=!0,document.body.appendChild(lt),lt.addEventListener("change",wt=>{const bt=lt.files[0];let nn="jpeg";if("image/png"===bt.type?nn="png":"image/gif"===bt.type&&(nn="gif"),"dataUrl"===se.resultType||"base64"===se.resultType){const vn=new FileReader;vn.addEventListener("load",()=>{if("dataUrl"===se.resultType)Me({dataUrl:vn.result,format:nn});else if("base64"===se.resultType){const Bn=vn.result.split(",")[1];Me({base64String:Bn,format:nn})}Mt()}),vn.readAsDataURL(bt)}else Me({webPath:URL.createObjectURL(bt),format:nn}),Mt()}),lt.addEventListener("cancel",wt=>{Pe(new ge("User cancelled photos app")),Mt()})),lt.accept="image/*",lt.capture=!0,se.source===fn.Photos||se.source===fn.Prompt?lt.removeAttribute("capture"):se.direction===Wt.Front?lt.capture="user":se.direction===Wt.Rear&&(lt.capture="environment"),lt.click()}multipleFileInputExperience(se,Me){let Pe=document.querySelector("#_capacitor-camera-input-multiple");const lt=()=>{var Mt;null===(Mt=Pe.parentNode)||void 0===Mt||Mt.removeChild(Pe)};Pe||(Pe=document.createElement("input"),Pe.id="_capacitor-camera-input-multiple",Pe.type="file",Pe.hidden=!0,Pe.multiple=!0,document.body.appendChild(Pe),Pe.addEventListener("change",Mt=>{const wt=[];for(let bt=0;bt<Pe.files.length;bt++){const nn=Pe.files[bt];let vn="jpeg";"image/png"===nn.type?vn="png":"image/gif"===nn.type&&(vn="gif"),wt.push({webPath:URL.createObjectURL(nn),format:vn})}se({photos:wt}),lt()}),Pe.addEventListener("cancel",Mt=>{Me(new ge("User cancelled photos app")),lt()})),Pe.accept="image/*",Pe.click()}_getCameraPhoto(se,Me){return new Promise((Pe,lt)=>{const Mt=new FileReader,wt=se.type.split("/")[1];"uri"===Me.resultType?Pe({webPath:URL.createObjectURL(se),format:wt,saved:!1}):(Mt.readAsDataURL(se),Mt.onloadend=()=>{const bt=Mt.result;Pe("dataUrl"===Me.resultType?{dataUrl:bt,format:wt,saved:!1}:{base64String:bt.split(",")[1],format:wt,saved:!1})},Mt.onerror=bt=>{lt(bt)})})}checkPermissions(){var se=this;return(0,c.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw se.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw se.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var se=this;return(0,c.A)(function*(){throw se.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var se=this;return(0,c.A)(function*(){throw se.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var se=this;return(0,c.A)(function*(){throw se.unavailable("Not implemented on web.")})()}}new mt;const J=ct("Camera",{web:()=>new mt});var Z=N(1075);let ce=(()=>{var pe;class se{constructor(){this.loadingController=(0,d.WQX)(Z.Xi),this.toastController=(0,d.WQX)(Z.K_),this.router=(0,d.WQX)(V.Ix),this.modalController=(0,d.WQX)(Z.W3),this.alertController=(0,d.WQX)(Z.hG)}loading(){return this.loadingController.create({message:"Loading..."})}showToast(Pe){var lt=this;return(0,c.A)(function*(){(yield lt.toastController.create(Pe)).present()})()}routerLink(Pe){return this.router.navigateByUrl(Pe)}saveInLocalStorage(Pe,lt){return localStorage.setItem(Pe,JSON.stringify(lt))}getFromLocalStorage(Pe){return JSON.parse(localStorage.getItem(Pe))}presentModal(Pe){var lt=this;return(0,c.A)(function*(){const Mt=yield lt.modalController.create(Pe);yield Mt.present();const{data:wt}=yield Mt.onWillDismiss();if(wt)return wt})()}dismissModal(Pe){return this.modalController.dismiss(Pe)}takePic(Pe){return(0,c.A)(function*(){return yield J.getPhoto({quality:100,allowEditing:!0,resultType:mn.DataUrl,source:fn.Prompt,promptLabelHeader:Pe,promptLabelPhoto:"Selecciona una imagen",promptLabelPicture:"Toma una foto"})})()}presentAlert(Pe,lt,Mt){var wt=this;return(0,c.A)(function*(){yield(yield wt.alertController.create({header:Pe,message:lt,buttons:Mt})).present()})()}}return(pe=se).\u0275fac=function(Pe){return new(Pe||pe)},pe.\u0275prov=d.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),se})()},5557:(hn,ft,N)=>{"use strict";var c=N(345),d=N(4438),V=N(4964),Re=N(2872),Y=N(1075);let ke=(()=>{var et;class Qe{constructor(){}}return(et=Qe).\u0275fac=function(Se){return new(Se||et)},et.\u0275cmp=d.VBU({type:et,selectors:[["app-root"]],decls:2,vars:0,template:function(Se,ze){1&Se&&(d.j41(0,"ion-app"),d.nrm(1,"ion-router-outlet"),d.k0s())},dependencies:[Y.U1,Y.Rg]}),Qe})();var ie=N(5297),Ce=N(5265);const ge=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([N.e(2076),N.e(7651)]).then(N.bind(N,7651)).then(et=>et.AuthPageModule),canActivate:[(et,Qe)=>{const tt=(0,d.WQX)(ie.f),Se=(0,d.WQX)(Ce.T);return localStorage.getItem("user"),new Promise(je=>{tt.getAuth().onAuthStateChanged(dt=>{dt?(Se.routerLink("/main/home"),je(!1)):je(!0)})})}]},{path:"main",loadChildren:()=>Promise.all([N.e(2076),N.e(2547)]).then(N.bind(N,2547)).then(et=>et.MainPageModule),canActivate:[(et,Qe)=>{const tt=(0,d.WQX)(ie.f),Se=(0,d.WQX)(Ce.T);let ze=localStorage.getItem("user");return new Promise(je=>{tt.getAuth().onAuthStateChanged(dt=>{dt?ze&&je(!0):(Se.routerLink("/auth"),je(!1))})})}]}];let Ke=(()=>{var et;class Qe{}return(et=Qe).\u0275fac=function(Se){return new(Se||et)},et.\u0275mod=d.$C({type:et}),et.\u0275inj=d.G2t({imports:[V.iI.forRoot(ge,{preloadingStrategy:V.Kp}),V.iI]}),Qe})();var qe=N(9253);const We_firebaseConfig={apiKey:"AIzaSyB2RbIaqxfRgRlA3sPBBfcMMptC4Q_JkYU",authDomain:"app-movil-demo1.firebaseapp.com",projectId:"app-movil-demo1",storageBucket:"app-movil-demo1.appspot.com",messagingSenderId:"974368166921",appId:"1:974368166921:web:9c82344144c9480da414d8"};let nt=(()=>{var et;class Qe{}return(et=Qe).\u0275fac=function(Se){return new(Se||et)},et.\u0275mod=d.$C({type:et,bootstrap:[ke]}),et.\u0275inj=d.G2t({providers:[{provide:V.b,useClass:Re.jM}],imports:[c.Bb,Y.bv.forRoot({mode:"md"}),Ke,qe.bf.initializeApp(We_firebaseConfig)]}),Qe})();var ct=N(1288);window,typeof window>"u"?Promise.resolve():(0,ct.p)().then(()=>(0,ct.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],void 0)),(0,d.SmG)(),c.sG().bootstrapModule(nt).catch(et=>console.log(et))},4412:(hn,ft,N)=>{"use strict";N.d(ft,{t:()=>d});var c=N(1413);class d extends c.B{constructor(Re){super(),this._value=Re}get value(){return this.getValue()}_subscribe(Re){const Y=super._subscribe(Re);return!Y.closed&&Re.next(this._value),Y}getValue(){const{hasError:Re,thrownError:Y,_value:ke}=this;if(Re)throw Y;return this._throwIfClosed(),ke}next(Re){super.next(this._value=Re)}}},1985:(hn,ft,N)=>{"use strict";N.d(ft,{c:()=>Ce});var c=N(7707),d=N(8359),V=N(3494),Re=N(1203),Y=N(1026),ke=N(8071),ie=N(9786);let Ce=(()=>{class Ke{constructor(We){We&&(this._subscribe=We)}lift(We){const nt=new Ke;return nt.source=this,nt.operator=We,nt}subscribe(We,nt,ct){const ot=function ge(Ke){return Ke&&Ke instanceof c.vU||function _e(Ke){return Ke&&(0,ke.T)(Ke.next)&&(0,ke.T)(Ke.error)&&(0,ke.T)(Ke.complete)}(Ke)&&(0,d.Uv)(Ke)}(We)?We:new c.Ms(We,nt,ct);return(0,ie.Y)(()=>{const{operator:Xe,source:et}=this;ot.add(Xe?Xe.call(ot,et):et?this._subscribe(ot):this._trySubscribe(ot))}),ot}_trySubscribe(We){try{return this._subscribe(We)}catch(nt){We.error(nt)}}forEach(We,nt){return new(nt=Ze(nt))((ct,ot)=>{const Xe=new c.Ms({next:et=>{try{We(et)}catch(Qe){ot(Qe),Xe.unsubscribe()}},error:ot,complete:ct});this.subscribe(Xe)})}_subscribe(We){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(We)}[V.s](){return this}pipe(...We){return(0,Re.m)(We)(this)}toPromise(We){return new(We=Ze(We))((nt,ct)=>{let ot;this.subscribe(Xe=>ot=Xe,Xe=>ct(Xe),()=>nt(ot))})}}return Ke.create=qe=>new Ke(qe),Ke})();function Ze(Ke){var qe;return null!==(qe=null!=Ke?Ke:Y.$.Promise)&&void 0!==qe?qe:Promise}},1413:(hn,ft,N)=>{"use strict";N.d(ft,{B:()=>ie});var c=N(1985),d=N(8359);const Re=(0,N(1853).L)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=N(7908),ke=N(9786);let ie=(()=>{class Ze extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Ke=new Ce(this,this);return Ke.operator=ge,Ke}_throwIfClosed(){if(this.closed)throw new Re}next(ge){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ke of this.currentObservers)Ke.next(ge)}})}error(ge){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Ke}=this;for(;Ke.length;)Ke.shift().error(ge)}})}complete(){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Ke,isStopped:qe,observers:We}=this;return Ke||qe?d.Kn:(this.currentObservers=null,We.push(ge),new d.yU(()=>{this.currentObservers=null,(0,Y.o)(We,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Ke,thrownError:qe,isStopped:We}=this;Ke?ge.error(qe):We&&ge.complete()}asObservable(){const ge=new c.c;return ge.source=this,ge}}return Ze.create=(_e,ge)=>new Ce(_e,ge),Ze})();class Ce extends ie{constructor(_e,ge){super(),this.destination=_e,this.source=ge}next(_e){var ge,Ke;null===(Ke=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Ke||Ke.call(ge,_e)}error(_e){var ge,Ke;null===(Ke=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Ke||Ke.call(ge,_e)}complete(){var _e,ge;null===(ge=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===ge||ge.call(_e)}_subscribe(_e){var ge,Ke;return null!==(Ke=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(_e))&&void 0!==Ke?Ke:d.Kn}}},7707:(hn,ft,N)=>{"use strict";N.d(ft,{Ms:()=>ct,vU:()=>Ke});var c=N(8071),d=N(8359),V=N(1026),Re=N(5334),Y=N(5343);const ke=Ze("C",void 0,void 0);function Ze(tt,Se,ze){return{kind:tt,value:Se,error:ze}}var _e=N(9270),ge=N(9786);class Ke extends d.yU{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,d.Uv)(Se)&&Se.add(this)):this.destination=Qe}static create(Se,ze,je){return new ct(Se,ze,je)}next(Se){this.isStopped?et(function Ce(tt){return Ze("N",tt,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?et(function ie(tt){return Ze("E",void 0,tt)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?et(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function We(tt,Se){return qe.call(tt,Se)}class nt{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Se)}catch(je){ot(je)}}error(Se){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Se)}catch(je){ot(je)}else ot(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(ze){ot(ze)}}}class ct extends Ke{constructor(Se,ze,je){let dt;if(super(),(0,c.T)(Se)||!Se)dt={next:null!=Se?Se:void 0,error:null!=ze?ze:void 0,complete:null!=je?je:void 0};else{let Ct;this&&V.$.useDeprecatedNextContext?(Ct=Object.create(Se),Ct.unsubscribe=()=>this.unsubscribe(),dt={next:Se.next&&We(Se.next,Ct),error:Se.error&&We(Se.error,Ct),complete:Se.complete&&We(Se.complete,Ct)}):dt=Se}this.destination=new nt(dt)}}function ot(tt){V.$.useDeprecatedSynchronousErrorHandling?(0,ge.l)(tt):(0,Re.m)(tt)}function et(tt,Se){const{onStoppedNotification:ze}=V.$;ze&&_e.f.setTimeout(()=>ze(tt,Se))}const Qe={closed:!0,next:Y.l,error:function Xe(tt){throw tt},complete:Y.l}},8359:(hn,ft,N)=>{"use strict";N.d(ft,{Kn:()=>ke,yU:()=>Y,Uv:()=>ie});var c=N(8071);const V=(0,N(1853).L)(Ze=>function(ge){Ze(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Ke,qe)=>`${qe+1}) ${Ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var Re=N(7908);class Y{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const We of ge)We.remove(this);else ge.remove(this);const{initialTeardown:Ke}=this;if((0,c.T)(Ke))try{Ke()}catch(We){_e=We instanceof V?We.errors:[We]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const We of qe)try{Ce(We)}catch(nt){_e=null!=_e?_e:[],nt instanceof V?_e=[..._e,...nt.errors]:_e.push(nt)}}if(_e)throw new V(_e)}}add(_e){var ge;if(_e&&_e!==this)if(this.closed)Ce(_e);else{if(_e instanceof Y){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(_e)}}_hasParent(_e){const{_parentage:ge}=this;return ge===_e||Array.isArray(ge)&&ge.includes(_e)}_addParent(_e){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(_e),ge):ge?[ge,_e]:_e}_removeParent(_e){const{_parentage:ge}=this;ge===_e?this._parentage=null:Array.isArray(ge)&&(0,Re.o)(ge,_e)}remove(_e){const{_finalizers:ge}=this;ge&&(0,Re.o)(ge,_e),_e instanceof Y&&_e._removeParent(this)}}Y.EMPTY=(()=>{const Ze=new Y;return Ze.closed=!0,Ze})();const ke=Y.EMPTY;function ie(Ze){return Ze instanceof Y||Ze&&"closed"in Ze&&(0,c.T)(Ze.remove)&&(0,c.T)(Ze.add)&&(0,c.T)(Ze.unsubscribe)}function Ce(Ze){(0,c.T)(Ze)?Ze():Ze.unsubscribe()}},1026:(hn,ft,N)=>{"use strict";N.d(ft,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(hn,ft,N)=>{"use strict";N.d(ft,{z:()=>_e});var c=N(1985),d=N(3073),V=N(8455),Re=N(3669),Y=N(6450),ke=N(3794),ie=N(8496),Ce=N(4360),Ze=N(5225);function _e(...qe){const We=(0,ke.lI)(qe),nt=(0,ke.ms)(qe),{args:ct,keys:ot}=(0,d.D)(qe);if(0===ct.length)return(0,V.H)([],We);const Xe=new c.c(function ge(qe,We,nt=Re.D){return ct=>{Ke(We,()=>{const{length:ot}=qe,Xe=new Array(ot);let et=ot,Qe=ot;for(let tt=0;tt<ot;tt++)Ke(We,()=>{const Se=(0,V.H)(qe[tt],We);let ze=!1;Se.subscribe((0,Ce._)(ct,je=>{Xe[tt]=je,ze||(ze=!0,Qe--),Qe||ct.next(nt(Xe.slice()))},()=>{--et||ct.complete()}))},ct)},ct)}}(ct,We,ot?et=>(0,ie.e)(ot,et):Re.D));return nt?Xe.pipe((0,Y.I)(nt)):Xe}function Ke(qe,We,nt){qe?(0,Ze.N)(nt,qe,We):We()}},8793:(hn,ft,N)=>{"use strict";N.d(ft,{x:()=>Y});var c=N(6365),V=N(3794),Re=N(8455);function Y(...ke){return function d(){return(0,c.U)(1)}()((0,Re.H)(ke,(0,V.lI)(ke)))}},983:(hn,ft,N)=>{"use strict";N.d(ft,{w:()=>d});const d=new(N(1985).c)(Y=>Y.complete())},8455:(hn,ft,N)=>{"use strict";N.d(ft,{H:()=>Se});var c=N(8750),d=N(941),V=N(6745),ke=N(1985),Ce=N(4761),Ze=N(8071),_e=N(5225);function Ke(ze,je){if(!ze)throw new Error("Iterable cannot be null");return new ke.c(dt=>{(0,_e.N)(dt,je,()=>{const Ct=ze[Symbol.asyncIterator]();(0,_e.N)(dt,je,()=>{Ct.next().then(we=>{we.done?dt.complete():dt.next(we.value)})},0,!0)})})}var qe=N(5055),We=N(9858),nt=N(7441),ct=N(5397),ot=N(7953),Xe=N(591),et=N(5196);function Se(ze,je){return je?function tt(ze,je){if(null!=ze){if((0,qe.l)(ze))return function Re(ze,je){return(0,c.Tg)(ze).pipe((0,V._)(je),(0,d.Q)(je))}(ze,je);if((0,nt.X)(ze))return function ie(ze,je){return new ke.c(dt=>{let Ct=0;return je.schedule(function(){Ct===ze.length?dt.complete():(dt.next(ze[Ct++]),dt.closed||this.schedule())})})}(ze,je);if((0,We.y)(ze))return function Y(ze,je){return(0,c.Tg)(ze).pipe((0,V._)(je),(0,d.Q)(je))}(ze,je);if((0,ot.T)(ze))return Ke(ze,je);if((0,ct.x)(ze))return function ge(ze,je){return new ke.c(dt=>{let Ct;return(0,_e.N)(dt,je,()=>{Ct=ze[Ce.l](),(0,_e.N)(dt,je,()=>{let we,Dt;try{({value:we,done:Dt}=Ct.next())}catch(kt){return void dt.error(kt)}Dt?dt.complete():dt.next(we)},0,!0)}),()=>(0,Ze.T)(null==Ct?void 0:Ct.return)&&Ct.return()})}(ze,je);if((0,et.U)(ze))return function Qe(ze,je){return Ke((0,et.C)(ze),je)}(ze,je)}throw(0,Xe.L)(ze)}(ze,je):(0,c.Tg)(ze)}},3726:(hn,ft,N)=>{"use strict";N.d(ft,{R:()=>_e});var c=N(8750),d=N(1985),V=N(1397),Re=N(7441),Y=N(8071),ke=N(6450);const ie=["addListener","removeListener"],Ce=["addEventListener","removeEventListener"],Ze=["on","off"];function _e(nt,ct,ot,Xe){if((0,Y.T)(ot)&&(Xe=ot,ot=void 0),Xe)return _e(nt,ct,ot).pipe((0,ke.I)(Xe));const[et,Qe]=function We(nt){return(0,Y.T)(nt.addEventListener)&&(0,Y.T)(nt.removeEventListener)}(nt)?Ce.map(tt=>Se=>nt[tt](ct,Se,ot)):function Ke(nt){return(0,Y.T)(nt.addListener)&&(0,Y.T)(nt.removeListener)}(nt)?ie.map(ge(nt,ct)):function qe(nt){return(0,Y.T)(nt.on)&&(0,Y.T)(nt.off)}(nt)?Ze.map(ge(nt,ct)):[];if(!et&&(0,Re.X)(nt))return(0,V.Z)(tt=>_e(tt,ct,ot))((0,c.Tg)(nt));if(!et)throw new TypeError("Invalid event target");return new d.c(tt=>{const Se=(...ze)=>tt.next(1<ze.length?ze:ze[0]);return et(Se),()=>Qe(Se)})}function ge(nt,ct){return ot=>Xe=>nt[ot](ct,Xe)}},8750:(hn,ft,N)=>{"use strict";N.d(ft,{Tg:()=>qe});var c=N(1635),d=N(7441),V=N(9858),Re=N(1985),Y=N(5055),ke=N(7953),ie=N(591),Ce=N(5397),Ze=N(5196),_e=N(8071),ge=N(5334),Ke=N(3494);function qe(tt){if(tt instanceof Re.c)return tt;if(null!=tt){if((0,Y.l)(tt))return function We(tt){return new Re.c(Se=>{const ze=tt[Ke.s]();if((0,_e.T)(ze.subscribe))return ze.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,d.X)(tt))return function nt(tt){return new Re.c(Se=>{for(let ze=0;ze<tt.length&&!Se.closed;ze++)Se.next(tt[ze]);Se.complete()})}(tt);if((0,V.y)(tt))return function ct(tt){return new Re.c(Se=>{tt.then(ze=>{Se.closed||(Se.next(ze),Se.complete())},ze=>Se.error(ze)).then(null,ge.m)})}(tt);if((0,ke.T)(tt))return Xe(tt);if((0,Ce.x)(tt))return function ot(tt){return new Re.c(Se=>{for(const ze of tt)if(Se.next(ze),Se.closed)return;Se.complete()})}(tt);if((0,Ze.U)(tt))return function et(tt){return Xe((0,Ze.C)(tt))}(tt)}throw(0,ie.L)(tt)}function Xe(tt){return new Re.c(Se=>{(function Qe(tt,Se){var ze,je,dt,Ct;return(0,c.sH)(this,void 0,void 0,function*(){try{for(ze=(0,c.xN)(tt);!(je=yield ze.next()).done;)if(Se.next(je.value),Se.closed)return}catch(we){dt={error:we}}finally{try{je&&!je.done&&(Ct=ze.return)&&(yield Ct.call(ze))}finally{if(dt)throw dt.error}}Se.complete()})})(tt,Se).catch(ze=>Se.error(ze))})}},7673:(hn,ft,N)=>{"use strict";N.d(ft,{of:()=>V});var c=N(3794),d=N(8455);function V(...Re){const Y=(0,c.lI)(Re);return(0,d.H)(Re,Y)}},4360:(hn,ft,N)=>{"use strict";N.d(ft,{_:()=>d});var c=N(7707);function d(Re,Y,ke,ie,Ce){return new V(Re,Y,ke,ie,Ce)}class V extends c.vU{constructor(Y,ke,ie,Ce,Ze,_e){super(Y),this.onFinalize=Ze,this.shouldUnsubscribe=_e,this._next=ke?function(ge){try{ke(ge)}catch(Ke){Y.error(Ke)}}:super._next,this._error=Ce?function(ge){try{Ce(ge)}catch(Ke){Y.error(Ke)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(ge){Y.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},9901:(hn,ft,N)=>{"use strict";N.d(ft,{U:()=>V});var c=N(9974),d=N(4360);function V(Re){return(0,c.N)((Y,ke)=>{let ie=!1;Y.subscribe((0,d._)(ke,Ce=>{ie=!0,ke.next(Ce)},()=>{ie||ke.next(Re),ke.complete()}))})}},3294:(hn,ft,N)=>{"use strict";N.d(ft,{F:()=>Re});var c=N(3669),d=N(9974),V=N(4360);function Re(ke,ie=c.D){return ke=null!=ke?ke:Y,(0,d.N)((Ce,Ze)=>{let _e,ge=!0;Ce.subscribe((0,V._)(Ze,Ke=>{const qe=ie(Ke);(ge||!ke(_e,qe))&&(ge=!1,_e=qe,Ze.next(Ke))}))})}function Y(ke,ie){return ke===ie}},5964:(hn,ft,N)=>{"use strict";N.d(ft,{p:()=>V});var c=N(9974),d=N(4360);function V(Re,Y){return(0,c.N)((ke,ie)=>{let Ce=0;ke.subscribe((0,d._)(ie,Ze=>Re.call(Y,Ze,Ce++)&&ie.next(Ze)))})}},1594:(hn,ft,N)=>{"use strict";N.d(ft,{$:()=>ie});var c=N(9350),d=N(5964),V=N(6697),Re=N(9901),Y=N(3774),ke=N(3669);function ie(Ce,Ze){const _e=arguments.length>=2;return ge=>ge.pipe(Ce?(0,d.p)((Ke,qe)=>Ce(Ke,qe,ge)):ke.D,(0,V.s)(1),_e?(0,Re.U)(Ze):(0,Y.v)(()=>new c.G))}},6354:(hn,ft,N)=>{"use strict";N.d(ft,{T:()=>V});var c=N(9974),d=N(4360);function V(Re,Y){return(0,c.N)((ke,ie)=>{let Ce=0;ke.subscribe((0,d._)(ie,Ze=>{ie.next(Re.call(Y,Ze,Ce++))}))})}},6365:(hn,ft,N)=>{"use strict";N.d(ft,{U:()=>V});var c=N(1397),d=N(3669);function V(Re=1/0){return(0,c.Z)(d.D,Re)}},1397:(hn,ft,N)=>{"use strict";N.d(ft,{Z:()=>Ce});var c=N(6354),d=N(8750),V=N(9974),Re=N(5225),Y=N(4360),ie=N(8071);function Ce(Ze,_e,ge=1/0){return(0,ie.T)(_e)?Ce((Ke,qe)=>(0,c.T)((We,nt)=>_e(Ke,We,qe,nt))((0,d.Tg)(Ze(Ke,qe))),ge):("number"==typeof _e&&(ge=_e),(0,V.N)((Ke,qe)=>function ke(Ze,_e,ge,Ke,qe,We,nt,ct){const ot=[];let Xe=0,et=0,Qe=!1;const tt=()=>{Qe&&!ot.length&&!Xe&&_e.complete()},Se=je=>Xe<Ke?ze(je):ot.push(je),ze=je=>{We&&_e.next(je),Xe++;let dt=!1;(0,d.Tg)(ge(je,et++)).subscribe((0,Y._)(_e,Ct=>{null==qe||qe(Ct),We?Se(Ct):_e.next(Ct)},()=>{dt=!0},void 0,()=>{if(dt)try{for(Xe--;ot.length&&Xe<Ke;){const Ct=ot.shift();nt?(0,Re.N)(_e,nt,()=>ze(Ct)):ze(Ct)}tt()}catch(Ct){_e.error(Ct)}}))};return Ze.subscribe((0,Y._)(_e,Se,()=>{Qe=!0,tt()})),()=>{null==ct||ct()}}(Ke,qe,Ze,ge)))}},941:(hn,ft,N)=>{"use strict";N.d(ft,{Q:()=>Re});var c=N(5225),d=N(9974),V=N(4360);function Re(Y,ke=0){return(0,d.N)((ie,Ce)=>{ie.subscribe((0,V._)(Ce,Ze=>(0,c.N)(Ce,Y,()=>Ce.next(Ze),ke),()=>(0,c.N)(Ce,Y,()=>Ce.complete(),ke),Ze=>(0,c.N)(Ce,Y,()=>Ce.error(Ze),ke)))})}},2816:(hn,ft,N)=>{"use strict";N.d(ft,{S:()=>Re});var c=N(9974),d=N(4360);function Re(Y,ke){return(0,c.N)(function V(Y,ke,ie,Ce,Ze){return(_e,ge)=>{let Ke=ie,qe=ke,We=0;_e.subscribe((0,d._)(ge,nt=>{const ct=We++;qe=Ke?Y(qe,nt,ct):(Ke=!0,nt),Ce&&ge.next(qe)},Ze&&(()=>{Ke&&ge.next(qe),ge.complete()})))}}(Y,ke,arguments.length>=2,!0))}},9172:(hn,ft,N)=>{"use strict";N.d(ft,{Z:()=>Re});var c=N(8793),d=N(3794),V=N(9974);function Re(...Y){const ke=(0,d.lI)(Y);return(0,V.N)((ie,Ce)=>{(ke?(0,c.x)(Y,ie,ke):(0,c.x)(Y,ie)).subscribe(Ce)})}},6745:(hn,ft,N)=>{"use strict";N.d(ft,{_:()=>d});var c=N(9974);function d(V,Re=0){return(0,c.N)((Y,ke)=>{ke.add(V.schedule(()=>Y.subscribe(ke),Re))})}},5558:(hn,ft,N)=>{"use strict";N.d(ft,{n:()=>Re});var c=N(8750),d=N(9974),V=N(4360);function Re(Y,ke){return(0,d.N)((ie,Ce)=>{let Ze=null,_e=0,ge=!1;const Ke=()=>ge&&!Ze&&Ce.complete();ie.subscribe((0,V._)(Ce,qe=>{null==Ze||Ze.unsubscribe();let We=0;const nt=_e++;(0,c.Tg)(Y(qe,nt)).subscribe(Ze=(0,V._)(Ce,ct=>Ce.next(ke?ke(qe,ct,nt,We++):ct),()=>{Ze=null,Ke()}))},()=>{ge=!0,Ke()}))})}},6697:(hn,ft,N)=>{"use strict";N.d(ft,{s:()=>Re});var c=N(983),d=N(9974),V=N(4360);function Re(Y){return Y<=0?()=>c.w:(0,d.N)((ke,ie)=>{let Ce=0;ke.subscribe((0,V._)(ie,Ze=>{++Ce<=Y&&(ie.next(Ze),Y<=Ce&&ie.complete())}))})}},8141:(hn,ft,N)=>{"use strict";N.d(ft,{M:()=>Y});var c=N(8071),d=N(9974),V=N(4360),Re=N(3669);function Y(ke,ie,Ce){const Ze=(0,c.T)(ke)||ie||Ce?{next:ke,error:ie,complete:Ce}:ke;return Ze?(0,d.N)((_e,ge)=>{var Ke;null===(Ke=Ze.subscribe)||void 0===Ke||Ke.call(Ze);let qe=!0;_e.subscribe((0,V._)(ge,We=>{var nt;null===(nt=Ze.next)||void 0===nt||nt.call(Ze,We),ge.next(We)},()=>{var We;qe=!1,null===(We=Ze.complete)||void 0===We||We.call(Ze),ge.complete()},We=>{var nt;qe=!1,null===(nt=Ze.error)||void 0===nt||nt.call(Ze,We),ge.error(We)},()=>{var We,nt;qe&&(null===(We=Ze.unsubscribe)||void 0===We||We.call(Ze)),null===(nt=Ze.finalize)||void 0===nt||nt.call(Ze)}))}):Re.D}},3774:(hn,ft,N)=>{"use strict";N.d(ft,{v:()=>Re});var c=N(9350),d=N(9974),V=N(4360);function Re(ke=Y){return(0,d.N)((ie,Ce)=>{let Ze=!1;ie.subscribe((0,V._)(Ce,_e=>{Ze=!0,Ce.next(_e)},()=>Ze?Ce.complete():Ce.error(ke())))})}function Y(){return new c.G}},6780:(hn,ft,N)=>{"use strict";N.d(ft,{R:()=>Y});var c=N(8359);class d extends c.yU{constructor(ie,Ce){super()}schedule(ie,Ce=0){return this}}const V={setInterval(ke,ie,...Ce){const{delegate:Ze}=V;return null!=Ze&&Ze.setInterval?Ze.setInterval(ke,ie,...Ce):setInterval(ke,ie,...Ce)},clearInterval(ke){const{delegate:ie}=V;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ke)},delegate:void 0};var Re=N(7908);class Y extends d{constructor(ie,Ce){super(ie,Ce),this.scheduler=ie,this.work=Ce,this.pending=!1}schedule(ie,Ce=0){var Ze;if(this.closed)return this;this.state=ie;const _e=this.id,ge=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(ge,_e,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ze=this.id)&&void 0!==Ze?Ze:this.requestAsyncId(ge,this.id,Ce),this}requestAsyncId(ie,Ce,Ze=0){return V.setInterval(ie.flush.bind(ie,this),Ze)}recycleAsyncId(ie,Ce,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return Ce;null!=Ce&&V.clearInterval(Ce)}execute(ie,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(ie,Ce);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,Ce){let _e,Ze=!1;try{this.work(ie)}catch(ge){Ze=!0,_e=ge||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:ie,scheduler:Ce}=this,{actions:Ze}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Re.o)(Ze,this),null!=ie&&(this.id=this.recycleAsyncId(Ce,ie,null)),this.delay=null,super.unsubscribe()}}}},9687:(hn,ft,N)=>{"use strict";N.d(ft,{q:()=>V});var c=N(6129);class d{constructor(Y,ke=d.now){this.schedulerActionCtor=Y,this.now=ke}schedule(Y,ke=0,ie){return new this.schedulerActionCtor(this,Y).schedule(ie,ke)}}d.now=c.U.now;class V extends d{constructor(Y,ke=d.now){super(Y,ke),this.actions=[],this._active=!1}flush(Y){const{actions:ke}=this;if(this._active)return void ke.push(Y);let ie;this._active=!0;do{if(ie=Y.execute(Y.state,Y.delay))break}while(Y=ke.shift());if(this._active=!1,ie){for(;Y=ke.shift();)Y.unsubscribe();throw ie}}}},3236:(hn,ft,N)=>{"use strict";N.d(ft,{E:()=>V});var c=N(6780);const V=new(N(9687).q)(c.R)},6129:(hn,ft,N)=>{"use strict";N.d(ft,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(hn,ft,N)=>{"use strict";N.d(ft,{f:()=>c});const c={setTimeout(d,V,...Re){const{delegate:Y}=c;return null!=Y&&Y.setTimeout?Y.setTimeout(d,V,...Re):setTimeout(d,V,...Re)},clearTimeout(d){const{delegate:V}=c;return((null==V?void 0:V.clearTimeout)||clearTimeout)(d)},delegate:void 0}},4761:(hn,ft,N)=>{"use strict";N.d(ft,{l:()=>d});const d=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(hn,ft,N)=>{"use strict";N.d(ft,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(hn,ft,N)=>{"use strict";N.d(ft,{G:()=>d});const d=(0,N(1853).L)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(hn,ft,N)=>{"use strict";N.d(ft,{R0:()=>ke,ms:()=>Re,lI:()=>Y});var c=N(8071);function V(ie){return ie[ie.length-1]}function Re(ie){return(0,c.T)(V(ie))?ie.pop():void 0}function Y(ie){return function d(ie){return ie&&(0,c.T)(ie.schedule)}(V(ie))?ie.pop():void 0}function ke(ie,Ce){return"number"==typeof V(ie)?ie.pop():Ce}},3073:(hn,ft,N)=>{"use strict";N.d(ft,{D:()=>Y});const{isArray:c}=Array,{getPrototypeOf:d,prototype:V,keys:Re}=Object;function Y(ie){if(1===ie.length){const Ce=ie[0];if(c(Ce))return{args:Ce,keys:null};if(function ke(ie){return ie&&"object"==typeof ie&&d(ie)===V}(Ce)){const Ze=Re(Ce);return{args:Ze.map(_e=>Ce[_e]),keys:Ze}}}return{args:ie,keys:null}}},7908:(hn,ft,N)=>{"use strict";function c(d,V){if(d){const Re=d.indexOf(V);0<=Re&&d.splice(Re,1)}}N.d(ft,{o:()=>c})},1853:(hn,ft,N)=>{"use strict";function c(d){const Re=d(Y=>{Error.call(Y),Y.stack=(new Error).stack});return Re.prototype=Object.create(Error.prototype),Re.prototype.constructor=Re,Re}N.d(ft,{L:()=>c})},8496:(hn,ft,N)=>{"use strict";function c(d,V){return d.reduce((Re,Y,ke)=>(Re[Y]=V[ke],Re),{})}N.d(ft,{e:()=>c})},9786:(hn,ft,N)=>{"use strict";N.d(ft,{Y:()=>V,l:()=>Re});var c=N(1026);let d=null;function V(Y){if(c.$.useDeprecatedSynchronousErrorHandling){const ke=!d;if(ke&&(d={errorThrown:!1,error:null}),Y(),ke){const{errorThrown:ie,error:Ce}=d;if(d=null,ie)throw Ce}}else Y()}function Re(Y){c.$.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=Y)}},5225:(hn,ft,N)=>{"use strict";function c(d,V,Re,Y=0,ke=!1){const ie=V.schedule(function(){Re(),ke?d.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(d.add(ie),!ke)return ie}N.d(ft,{N:()=>c})},3669:(hn,ft,N)=>{"use strict";function c(d){return d}N.d(ft,{D:()=>c})},7441:(hn,ft,N)=>{"use strict";N.d(ft,{X:()=>c});const c=d=>d&&"number"==typeof d.length&&"function"!=typeof d},7953:(hn,ft,N)=>{"use strict";N.d(ft,{T:()=>d});var c=N(8071);function d(V){return Symbol.asyncIterator&&(0,c.T)(null==V?void 0:V[Symbol.asyncIterator])}},8071:(hn,ft,N)=>{"use strict";function c(d){return"function"==typeof d}N.d(ft,{T:()=>c})},5055:(hn,ft,N)=>{"use strict";N.d(ft,{l:()=>V});var c=N(3494),d=N(8071);function V(Re){return(0,d.T)(Re[c.s])}},5397:(hn,ft,N)=>{"use strict";N.d(ft,{x:()=>V});var c=N(4761),d=N(8071);function V(Re){return(0,d.T)(null==Re?void 0:Re[c.l])}},9858:(hn,ft,N)=>{"use strict";N.d(ft,{y:()=>d});var c=N(8071);function d(V){return(0,c.T)(null==V?void 0:V.then)}},5196:(hn,ft,N)=>{"use strict";N.d(ft,{C:()=>V,U:()=>Re});var c=N(1635),d=N(8071);function V(Y){return(0,c.AQ)(this,arguments,function*(){const ie=Y.getReader();try{for(;;){const{value:Ce,done:Ze}=yield(0,c.N3)(ie.read());if(Ze)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Ce)}}finally{ie.releaseLock()}})}function Re(Y){return(0,d.T)(null==Y?void 0:Y.getReader)}},9974:(hn,ft,N)=>{"use strict";N.d(ft,{N:()=>V,S:()=>d});var c=N(8071);function d(Re){return(0,c.T)(null==Re?void 0:Re.lift)}function V(Re){return Y=>{if(d(Y))return Y.lift(function(ke){try{return Re(ke,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(hn,ft,N)=>{"use strict";N.d(ft,{I:()=>Re});var c=N(6354);const{isArray:d}=Array;function Re(Y){return(0,c.T)(ke=>function V(Y,ke){return d(ke)?Y(...ke):Y(ke)}(Y,ke))}},5343:(hn,ft,N)=>{"use strict";function c(){}N.d(ft,{l:()=>c})},1203:(hn,ft,N)=>{"use strict";N.d(ft,{F:()=>d,m:()=>V});var c=N(3669);function d(...Re){return V(Re)}function V(Re){return 0===Re.length?c.D:1===Re.length?Re[0]:function(ke){return Re.reduce((ie,Ce)=>Ce(ie),ke)}}},5334:(hn,ft,N)=>{"use strict";N.d(ft,{m:()=>V});var c=N(1026),d=N(9270);function V(Re){d.f.setTimeout(()=>{const{onUnhandledError:Y}=c.$;if(!Y)throw Re;Y(Re)})}},591:(hn,ft,N)=>{"use strict";function c(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ft,{L:()=>c})},8996:(hn,ft,N)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function d(V){if(!N.o(c,V))return Promise.resolve().then(()=>{var ke=new Error("Cannot find module '"+V+"'");throw ke.code="MODULE_NOT_FOUND",ke});var Re=c[V],Y=Re[0];return Promise.all(Re.slice(1).map(N.e)).then(()=>N(Y))}d.keys=()=>Object.keys(c),d.id=8996,hn.exports=d},5235:(hn,ft,N)=>{var c={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function d(V){if(!N.o(c,V))return Promise.resolve().then(()=>{var ke=new Error("Cannot find module '"+V+"'");throw ke.code="MODULE_NOT_FOUND",ke});var Re=c[V],Y=Re[0];return N.e(Re[1]).then(()=>N(Y))}d.keys=()=>Object.keys(c),d.id=5235,hn.exports=d},177:(hn,ft,N)=>{"use strict";N.d(ft,{AJ:()=>tn,MD:()=>qt,N0:()=>ts,QT:()=>V,Sm:()=>ct,Sq:()=>di,T3:()=>wr,VF:()=>Y,Vy:()=>ni,Xr:()=>xi,YU:()=>Nt,ZD:()=>Re,_b:()=>te,aZ:()=>Xe,bT:()=>Jn,fw:()=>ot,hb:()=>We,hj:()=>Ze,oe:()=>He,qQ:()=>ie});var c=N(4438);let d=null;function V(){return d}function Re(E){var H;null!==(H=d)&&void 0!==H||(d=E)}class Y{}const ie=new c.nKC("");let Ce=(()=>{var E;class H{historyGo($){throw new Error("")}}return(E=H).\u0275fac=function($){return new($||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(_e),providedIn:"platform"}),H})();const Ze=new c.nKC("");let _e=(()=>{var E;class H extends Ce{constructor(){super(),this._doc=(0,c.WQX)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState($){const ee=V().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",$,!1),()=>ee.removeEventListener("popstate",$)}onHashChange($){const ee=V().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",$,!1),()=>ee.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,ee,De){this._history.pushState($,ee,De)}replaceState($,ee,De){this._history.replaceState($,ee,De)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return(E=H).\u0275fac=function($){return new($||E)},E.\u0275prov=c.jDH({token:E,factory:()=>new E,providedIn:"platform"}),H})();function ge(E,H){if(0==E.length)return H;if(0==H.length)return E;let Oe=0;return E.endsWith("/")&&Oe++,H.startsWith("/")&&Oe++,2==Oe?E+H.substring(1):1==Oe?E+H:E+"/"+H}function Ke(E){const H=E.match(/#|\?|$/),Oe=H&&H.index||E.length;return E.slice(0,Oe-("/"===E[Oe-1]?1:0))+E.slice(Oe)}function qe(E){return E&&"?"!==E[0]?"?"+E:E}let We=(()=>{var E;class H{historyGo($){throw new Error("")}}return(E=H).\u0275fac=function($){return new($||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(ct),providedIn:"root"}),H})();const nt=new c.nKC("");let ct=(()=>{var E;class H extends We{constructor($,ee){var De,Ht,Et;super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=null!==(De=null!==(Ht=null!=ee?ee:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ht?Ht:null===(Et=(0,c.WQX)(ie).location)||void 0===Et?void 0:Et.origin)&&void 0!==De?De:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ge(this._baseHref,$)}path($=!1){const ee=this._platformLocation.pathname+qe(this._platformLocation.search),De=this._platformLocation.hash;return De&&$?`${ee}${De}`:ee}pushState($,ee,De,Ht){const Et=this.prepareExternalUrl(De+qe(Ht));this._platformLocation.pushState($,ee,Et)}replaceState($,ee,De,Ht){const Et=this.prepareExternalUrl(De+qe(Ht));this._platformLocation.replaceState($,ee,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ee,De;null===(ee=(De=this._platformLocation).historyGo)||void 0===ee||ee.call(De,$)}}return(E=H).\u0275fac=function($){return new($||E)(c.KVO(Ce),c.KVO(nt,8))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),H})(),ot=(()=>{var E;class H extends We{constructor($,ee){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){var ee;const De=null!==(ee=this._platformLocation.hash)&&void 0!==ee?ee:"#";return De.length>0?De.substring(1):De}prepareExternalUrl($){const ee=ge(this._baseHref,$);return ee.length>0?"#"+ee:ee}pushState($,ee,De,Ht){let Et=this.prepareExternalUrl(De+qe(Ht));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState($,ee,Et)}replaceState($,ee,De,Ht){let Et=this.prepareExternalUrl(De+qe(Ht));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState($,ee,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ee,De;null===(ee=(De=this._platformLocation).historyGo)||void 0===ee||ee.call(De,$)}}return(E=H).\u0275fac=function($){return new($||E)(c.KVO(Ce),c.KVO(nt,8))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),H})(),Xe=(()=>{var E;class H{constructor($){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const ee=this._locationStrategy.getBaseHref();this._basePath=function Se(E){if(new RegExp("^(https?:)?//").test(E)){const[,Oe]=E.split(/\/\/[^\/]+/);return Oe}return E}(Ke(tt(ee))),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){var $;null===($=this._urlChangeSubscription)||void 0===$||$.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,ee=""){return this.path()==this.normalize($+qe(ee))}normalize($){return H.stripTrailingSlash(function Qe(E,H){if(!E||!H.startsWith(E))return H;const Oe=H.substring(E.length);return""===Oe||["/",";","?","#"].includes(Oe[0])?Oe:H}(this._basePath,tt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,ee="",De=null){this._locationStrategy.pushState(De,"",$,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl($+qe(ee)),De)}replaceState($,ee="",De=null){this._locationStrategy.replaceState(De,"",$,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl($+qe(ee)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){var ee,De;null===(ee=(De=this._locationStrategy).historyGo)||void 0===ee||ee.call(De,$)}onUrlChange($){var ee;return this._urlChangeListeners.push($),null!==(ee=this._urlChangeSubscription)&&void 0!==ee||(this._urlChangeSubscription=this.subscribe(De=>{this._notifyUrlChangeListeners(De.url,De.state)})),()=>{const De=this._urlChangeListeners.indexOf($);var Ht;this._urlChangeListeners.splice(De,1),0===this._urlChangeListeners.length&&(null===(Ht=this._urlChangeSubscription)||void 0===Ht||Ht.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",ee){this._urlChangeListeners.forEach(De=>De($,ee))}subscribe($,ee,De){return this._subject.subscribe({next:$,error:ee,complete:De})}}return(E=H).normalizeQueryParams=qe,E.joinWithSlash=ge,E.stripTrailingSlash=Ke,E.\u0275fac=function($){return new($||E)(c.KVO(We))},E.\u0275prov=c.jDH({token:E,factory:()=>function et(){return new Xe((0,c.KVO)(We))}(),providedIn:"root"}),H})();function tt(E){return E.replace(/\/index.html$/,"")}const ze={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=function(E){return E[E.Decimal=0]="Decimal",E[E.Percent=1]="Percent",E[E.Currency=2]="Currency",E[E.Scientific=3]="Scientific",E}(je||{});const kt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Me(E,H){const Oe=(0,c.H5H)(E),$=Oe[c.KH2.NumberSymbols][H];if(typeof $>"u"){if(H===kt.CurrencyDecimal)return Oe[c.KH2.NumberSymbols][kt.Decimal];if(H===kt.CurrencyGroup)return Oe[c.KH2.NumberSymbols][kt.Group]}return $}const Ie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Le=22,ut=".",Lt="0",$t=";",sn=",",zt="#";function Lr(E,H,Oe,$,ee){const Ht=function or(E,H="-"){const Oe={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},$=E.split($t),ee=$[0],De=$[1],Ht=-1!==ee.indexOf(ut)?ee.split(ut):[ee.substring(0,ee.lastIndexOf(Lt)+1),ee.substring(ee.lastIndexOf(Lt)+1)],Et=Ht[0],It=Ht[1]||"";Oe.posPre=Et.substring(0,Et.indexOf(zt));for(let Zn=0;Zn<It.length;Zn++){const Cr=It.charAt(Zn);Cr===Lt?Oe.minFrac=Oe.maxFrac=Zn+1:Cr===zt?Oe.maxFrac=Zn+1:Oe.posSuf+=Cr}const Bt=Et.split(sn);if(Oe.gSize=Bt[1]?Bt[1].length:0,Oe.lgSize=Bt[2]||Bt[1]?(Bt[2]||Bt[1]).length:0,De){const Zn=ee.length-Oe.posPre.length-Oe.posSuf.length,Cr=De.indexOf(zt);Oe.negPre=De.substring(0,Cr).replace(/'/g,""),Oe.negSuf=De.slice(Cr+Zn).replace(/'/g,"")}else Oe.negPre=H+Oe.posPre,Oe.negSuf=Oe.posSuf;return Oe}(function Pe(E,H){return(0,c.H5H)(E)[c.KH2.NumberFormats][H]}(H,je.Currency),Me(H,kt.MinusSign));return Ht.minFrac=function Rt(E){let H;const Oe=ze[E];return Oe&&(H=Oe[2]),"number"==typeof H?H:2}($),Ht.maxFrac=Ht.minFrac,function lr(E,H,Oe,$,ee,De,Ht=!1){let Et="",It=!1;if(isFinite(E)){let Bt=function Ti(E){let $,ee,De,Ht,Et,H=Math.abs(E)+"",Oe=0;for((ee=H.indexOf(ut))>-1&&(H=H.replace(ut,"")),(De=H.search(/e/i))>0?(ee<0&&(ee=De),ee+=+H.slice(De+1),H=H.substring(0,De)):ee<0&&(ee=H.length),De=0;H.charAt(De)===Lt;De++);if(De===(Et=H.length))$=[0],ee=1;else{for(Et--;H.charAt(Et)===Lt;)Et--;for(ee-=De,$=[],Ht=0;De<=Et;De++,Ht++)$[Ht]=Number(H.charAt(De))}return ee>Le&&($=$.splice(0,Le-1),Oe=ee-1,ee=1),{digits:$,exponent:Oe,integerLen:ee}}(E);Ht&&(Bt=function Br(E){if(0===E.digits[0])return E;const H=E.digits.length-E.integerLen;return E.exponent?E.exponent+=2:(0===H?E.digits.push(0,0):1===H&&E.digits.push(0),E.integerLen+=2),E}(Bt));let Zn=H.minInt,Cr=H.minFrac,Or=H.maxFrac;if(De){const ai=De.match(Ie);if(null===ai)throw new Error(`${De} is not a valid digit info`);const Vi=ai[1],mi=ai[3],to=ai[5];null!=Vi&&(Zn=_t(Vi)),null!=mi&&(Cr=_t(mi)),null!=to?Or=_t(to):null!=mi&&Cr>Or&&(Or=Cr)}!function xt(E,H,Oe){if(H>Oe)throw new Error(`The minimum number of digits after fraction (${H}) is higher than the maximum (${Oe}).`);let $=E.digits,ee=$.length-E.integerLen;const De=Math.min(Math.max(H,ee),Oe);let Ht=De+E.integerLen,Et=$[Ht];if(Ht>0){$.splice(Math.max(E.integerLen,Ht));for(let Cr=Ht;Cr<$.length;Cr++)$[Cr]=0}else{ee=Math.max(0,ee),E.integerLen=1,$.length=Math.max(1,Ht=De+1),$[0]=0;for(let Cr=1;Cr<Ht;Cr++)$[Cr]=0}if(Et>=5)if(Ht-1<0){for(let Cr=0;Cr>Ht;Cr--)$.unshift(0),E.integerLen++;$.unshift(1),E.integerLen++}else $[Ht-1]++;for(;ee<Math.max(0,De);ee++)$.push(0);let It=0!==De;const Bt=H+E.integerLen,Zn=$.reduceRight(function(Cr,Or,Hr,eo){return eo[Hr]=(Or+=Cr)<10?Or:Or-10,It&&(0===eo[Hr]&&Hr>=Bt?eo.pop():It=!1),Or>=10?1:0},0);Zn&&($.unshift(Zn),E.integerLen++)}(Bt,Cr,Or);let Hr=Bt.digits,eo=Bt.integerLen;const zr=Bt.exponent;let gn=[];for(It=Hr.every(ai=>!ai);eo<Zn;eo++)Hr.unshift(0);for(;eo<0;eo++)Hr.unshift(0);eo>0?gn=Hr.splice(eo,Hr.length):(gn=Hr,Hr=[0]);const Ln=[];for(Hr.length>=H.lgSize&&Ln.unshift(Hr.splice(-H.lgSize,Hr.length).join(""));Hr.length>H.gSize;)Ln.unshift(Hr.splice(-H.gSize,Hr.length).join(""));Hr.length&&Ln.unshift(Hr.join("")),Et=Ln.join(Me(Oe,$)),gn.length&&(Et+=Me(Oe,ee)+gn.join("")),zr&&(Et+=Me(Oe,kt.Exponential)+"+"+zr)}else Et=Me(Oe,kt.Infinity);return Et=E<0&&!It?H.negPre+Et+H.negSuf:H.posPre+Et+H.posSuf,Et}(E,Ht,H,kt.CurrencyGroup,kt.CurrencyDecimal,ee).replace("\xa4",Oe).replace("\xa4","").trim()}function _t(E){const H=parseInt(E);if(isNaN(H))throw new Error("Invalid integer literal when parsing "+E);return H}function te(E,H){H=encodeURIComponent(H);for(const Oe of E.split(";")){const $=Oe.indexOf("="),[ee,De]=-1==$?[Oe,""]:[Oe.slice(0,$),Oe.slice($+1)];if(ee.trim()===H)return decodeURIComponent(De)}return null}const Ve=/\s+/,St=[];let Nt=(()=>{var E;class H{constructor($,ee){this._ngEl=$,this._renderer=ee,this.initialClasses=St,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Ve):St}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Ve):$}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const ee of $)this._updateState(ee,!0);else if(null!=$)for(const ee of Object.keys($))this._updateState(ee,!!$[ee]);this._applyStateDiff()}_updateState($,ee){const De=this.stateMap.get($);void 0!==De?(De.enabled!==ee&&(De.changed=!0,De.enabled=ee),De.touched=!0):this.stateMap.set($,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const ee=$[0],De=$[1];De.changed?(this._toggleClass(ee,De.enabled),De.changed=!1):De.touched||(De.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),De.touched=!1}}_toggleClass($,ee){($=$.trim()).length>0&&$.split(Ve).forEach(De=>{ee?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return(E=H).\u0275fac=function($){return new($||E)(c.rXU(c.aKT),c.rXU(c.sFG))},E.\u0275dir=c.FsC({type:E,selectors:[["","ngClass",""]],inputs:{klass:[c.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),H})();class Gn{constructor(H,Oe,$,ee){this.$implicit=H,this.ngForOf=Oe,this.index=$,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{var E;class H{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,ee,De){this._viewContainer=$,this._template=ee,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ee=this._viewContainer;$.forEachOperation((De,Ht,Et)=>{if(null==De.previousIndex)ee.createEmbeddedView(this._template,new Gn(De.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)ee.remove(null===Ht?void 0:Ht);else if(null!==Ht){const It=ee.get(Ht);ee.move(It,Et),Ii(It,De)}});for(let De=0,Ht=ee.length;De<Ht;De++){const It=ee.get(De).context;It.index=De,It.count=Ht,It.ngForOf=this._ngForOf}$.forEachIdentityChange(De=>{Ii(ee.get(De.currentIndex),De)})}static ngTemplateContextGuard($,ee){return!0}}return(E=H).\u0275fac=function($){return new($||E)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},E.\u0275dir=c.FsC({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),H})();function Ii(E,H){E.context.$implicit=H.item}let Jn=(()=>{var E;class H{constructor($,ee){this._viewContainer=$,this._context=new Fi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Oo("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Oo("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ee){return!0}}return(E=H).\u0275fac=function($){return new($||E)(c.rXU(c.c1b),c.rXU(c.C4Q))},E.\u0275dir=c.FsC({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),H})();class Fi{constructor(){this.$implicit=null,this.ngIf=null}}function Oo(E,H){if(H&&!H.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,c.Tbb)(H)}'.`)}let wr=(()=>{var E;class H{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if(this._shouldRecreateView($)){var ee;const De=this._viewContainerRef;if(this._viewRef&&De.remove(De.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ht=this._createContextForwardProxy();this._viewRef=De.createEmbeddedView(this.ngTemplateOutlet,Ht,{injector:null!==(ee=this.ngTemplateOutletInjector)&&void 0!==ee?ee:void 0})}}_shouldRecreateView($){return!!$.ngTemplateOutlet||!!$.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:($,ee,De)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ee,De),get:($,ee,De)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ee,De)}})}}return(E=H).\u0275fac=function($){return new($||E)(c.rXU(c.c1b))},E.\u0275dir=c.FsC({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),H})();let He=(()=>{var E;class H{constructor($,ee="USD"){this._locale=$,this._defaultCurrencyCode=ee}transform($,ee=this._defaultCurrencyCode,De="symbol",Ht,Et){if(!function vt(E){return!(null==E||""===E||E!=E)}($))return null;Et||(Et=this._locale),"boolean"==typeof De&&(De=De?"symbol":"code");let It=ee||this._defaultCurrencyCode;"code"!==De&&(It="symbol"===De||"symbol-narrow"===De?function gt(E,H,Oe="en"){const $=function bt(E){return(0,c.H5H)(E)[c.KH2.Currencies]}(Oe)[E]||ze[E]||[],ee=$[1];return"narrow"===H&&"string"==typeof ee?ee:$[0]||E}(It,"symbol"===De?"wide":"narrow",Et):De);try{return Lr(function Je(E){if("string"==typeof E&&!isNaN(Number(E)-parseFloat(E)))return Number(E);if("number"!=typeof E)throw new Error(`${E} is not a number`);return E}($),Et,It,ee,Ht)}catch(Bt){throw function Li(E,H){return new c.wOt(2100,!1)}()}}}return(E=H).\u0275fac=function($){return new($||E)(c.rXU(c.xe9,16),c.rXU(c.Ocv,16))},E.\u0275pipe=c.EJ8({name:"currency",type:E,pure:!0,standalone:!0}),H})();let qt=(()=>{var E;class H{}return(E=H).\u0275fac=function($){return new($||E)},E.\u0275mod=c.$C({type:E}),E.\u0275inj=c.G2t({}),H})();const tn="browser",Cn="server";function ni(E){return E===Cn}let xi=(()=>{var E;class H{}return(E=H).\u0275prov=(0,c.jDH)({token:E,providedIn:"root",factory:()=>function jn(E){return E===tn}((0,c.WQX)(c.Agw))?new jr((0,c.WQX)(ie),window):new Ps}),H})();class jr{constructor(H,Oe){this.document=H,this.window=Oe,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(H){this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){const Oe=function Ji(E,H){const Oe=E.getElementById(H)||E.getElementsByName(H)[0];if(Oe)return Oe;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const $=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let ee=$.currentNode;for(;ee;){const De=ee.shadowRoot;if(De){const Ht=De.getElementById(H)||De.querySelector(`[name="${H}"]`);if(Ht)return Ht}ee=$.nextNode()}}return null}(this.document,H);Oe&&(this.scrollToElement(Oe),Oe.focus())}setHistoryScrollRestoration(H){this.window.history.scrollRestoration=H}scrollToElement(H){const Oe=H.getBoundingClientRect(),$=Oe.left+this.window.pageXOffset,ee=Oe.top+this.window.pageYOffset,De=this.offset();this.window.scrollTo($-De[0],ee-De[1])}}class Ps{setOffset(H){}getScrollPosition(){return[0,0]}scrollToPosition(H){}scrollToAnchor(H){}setHistoryScrollRestoration(H){}}class ts{}},4438:(hn,ft,N)=>{"use strict";N.d(ft,{iLQ:()=>KI,sZ2:()=>sv,hnV:()=>BT,Hbi:()=>qP,o8S:()=>Bd,BIS:()=>av,gRc:()=>eD,Ql9:()=>yP,Ocv:()=>bP,Z63:()=>Ea,aKT:()=>Yd,uvJ:()=>qo,zcH:()=>tu,bkB:()=>_a,$GK:()=>On,nKC:()=>Nt,zZn:()=>xa,_q3:()=>tE,MKu:()=>nE,xe9:()=>uy,Co$:()=>UE,Vns:()=>Bh,SKi:()=>Gs,Xx1:()=>jn,Agw:()=>ru,PLl:()=>Xu,sFG:()=>R0,_9s:()=>kd,czy:()=>Rf,kdw:()=>si,C4Q:()=>Jo,NYb:()=>hP,giA:()=>UT,xvI:()=>$R,RxE:()=>xT,c1b:()=>fp,gXe:()=>zo,mal:()=>cp,L39:()=>CM,a0P:()=>MM,Ol2:()=>Z0,w6W:()=>GD,oH4:()=>QT,SmG:()=>NP,Rfq:()=>Tr,WQX:()=>Je,naY:()=>xP,QuC:()=>io,fpN:()=>KP,HJs:()=>xM,N4e:()=>oo,O8t:()=>DM,H3F:()=>NT,H8p:()=>Ua,KH2:()=>kp,TgB:()=>mp,wOt:()=>gt,WHO:()=>LT,e01:()=>VT,H5H:()=>bI,Zy3:()=>Be,mq5:()=>zA,JZv:()=>Fn,LfX:()=>_t,plB:()=>Fl,jNT:()=>GI,zjR:()=>$T,TL$:()=>Sy,Tbb:()=>Un,Vt3:()=>Q0,Mj6:()=>hs,GFd:()=>VE,OA$:()=>Ki,Jv_:()=>oT,aNF:()=>sT,R7$:()=>Fg,BMQ:()=>hI,AVh:()=>yI,wni:()=>NC,VBU:()=>pl,FsC:()=>gl,jDH:()=>or,G2t:()=>Ti,$C:()=>Ul,EJ8:()=>os,rXU:()=>rc,nrm:()=>DI,eu8:()=>wI,bVm:()=>Z_,qex:()=>J_,k0s:()=>Y_,j41:()=>Q_,RV6:()=>BA,xGo:()=>yc,KVO:()=>He,kS0:()=>Qh,QTQ:()=>Wv,bIt:()=>PI,lsd:()=>FC,XpG:()=>EC,nI1:()=>gT,i5U:()=>mT,SdG:()=>CC,NAR:()=>AC,Y8G:()=>mI,lJ4:()=>lT,eq3:()=>uT,mGM:()=>kC,Njj:()=>ql,eBV:()=>Sl,B4B:()=>Rs,n$t:()=>Eg,xc7:()=>_I,DNE:()=>vp,EFF:()=>WC,JRh:()=>NI,SpI:()=>iy,GBs:()=>OC}),N(467);let V=null,Y=1;const ke=Symbol("SIGNAL");function ie(t){const n=V;return V=t,n}function We(t){if((!je(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Y)){if(!t.producerMustRecompute(t)&&!Qe(t))return t.dirty=!1,void(t.lastCleanEpoch=Y);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Y}}function Qe(t){dt(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(We(i),a!==i.version))return!0}return!1}function ze(t,n){if(function Ct(t){var n,i;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(i=t.liveConsumerIndexOfThis)&&void 0!==i||(t.liveConsumerIndexOfThis=[])}(t),dt(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ze(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];dt(l),l.producerIndexOfThis[a]=n}}function je(t){var n,i;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(i=t.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function dt(t){var n,i,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(i=t.producerIndexOfThis)&&void 0!==i||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let mn=null;var vn=N(1413),Bn=N(8359),Hn=N(4412),tr=N(6354);const zn="https://g.co/ng/security#xss";class gt extends Error{constructor(n,i){super(Be(n,i)),this.code=n}}function Be(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function un(t){return{toString:t}.toString()}const Nn="__parameters__";function Rn(t,n,i){return un(()=>{const a=function Qn(t){return function(...i){if(t){const a=t(...i);for(const l in a)this[l]=a[l]}}}(n);function l(...f){if(this instanceof l)return a.apply(this,f),this;const m=new l(...f);return y.annotation=m,y;function y(T,j,Q){const ue=T.hasOwnProperty(Nn)?T[Nn]:Object.defineProperty(T,Nn,{value:[]})[Nn];for(;ue.length<=Q;)ue.push(null);return(ue[Q]=ue[Q]||[]).push(m),T}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}const Fn=globalThis;function Sn(t){for(let n in t)if(t[n]===Sn)return n;throw Error("Could not find renamed property on target object.")}function _r(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Un(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Un).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function In(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ar=Sn({__forward_ref__:Sn});function Tr(t){return t.__forward_ref__=Tr,t.toString=function(){return Un(this())},t}function it(t){return Ye(t)?t():t}function Ye(t){return"function"==typeof t&&t.hasOwnProperty(ar)&&t.__forward_ref__===Tr}function or(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ti(t){return{providers:t.providers||[],imports:t.imports||[]}}function xt(t){return he(t,re)||he(t,Ve)}function _t(t){return null!==xt(t)}function he(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ge(t){return t&&(t.hasOwnProperty(te)||t.hasOwnProperty(St))?t[te]:null}const re=Sn({\u0275prov:Sn}),te=Sn({\u0275inj:Sn}),Ve=Sn({ngInjectableDef:Sn}),St=Sn({ngInjectorDef:Sn});class Nt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=or({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vr(t){return t&&!!t.\u0275providers}const gi=Sn({\u0275cmp:Sn}),so=Sn({\u0275dir:Sn}),Bi=Sn({\u0275pipe:Sn}),Di=Sn({\u0275mod:Sn}),Yi=Sn({\u0275fac:Sn}),mo=Sn({__NG_ELEMENT_ID__:Sn}),Zo=Sn({__NG_ENV_ID__:Sn});function nr(t){return"string"==typeof t?t:null==t?"":String(t)}function Ho(t,n){throw new gt(-201,!1)}var On=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(On||{});let _o;function ko(){return _o}function ji(t){const n=_o;return _o=t,n}function la(t,n,i){const a=xt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&On.Optional?null:void 0!==n?n:void Ho()}const ro={},To="__NG_DI_FLAG__",wi="ngTempTokenPath",X=/\n/gm,x="__source";let Ae;function oe(t){const n=Ae;return Ae=t,n}function $e(t,n=On.Default){if(void 0===Ae)throw new gt(-203,!1);return null===Ae?la(t,void 0,n):Ae.get(t,n&On.Optional?null:void 0,n)}function He(t,n=On.Default){return(ko()||$e)(it(t),n)}function Je(t,n=On.Default){return He(t,jt(n))}function jt(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yt(t){const n=[];for(let i=0;i<t.length;i++){const a=it(t[i]);if(Array.isArray(a)){if(0===a.length)throw new gt(900,!1);let l,f=On.Default;for(let m=0;m<a.length;m++){const y=a[m],T=tn(y);"number"==typeof T?-1===T?l=y.token:f|=T:l=y}n.push(He(l,f))}else n.push(He(a))}return n}function qt(t,n){return t[To]=n,t.prototype[To]=n,t}function tn(t){return t[To]}const jn=qt(Rn("Optional"),8),si=qt(Rn("SkipSelf"),4);function Ri(t,n){return t.hasOwnProperty(Yi)?t[Yi]:null}function Ji(t,n){t.forEach(i=>Array.isArray(i)?Ji(i,n):n(i))}function Ps(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ts(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Hi(t,n,i){let a=lo(t,n);return a>=0?t[1|a]=i:(a=~a,function ka(t,n,i,a){let l=t.length;if(l==n)t.push(i,a);else if(1===l)t.push(a,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Ya(t,n){const i=lo(t,n);if(i>=0)return t[1|i]}function lo(t,n){return function zi(t,n,i){let a=0,l=t.length>>i;for(;l!==a;){const f=a+(l-a>>1),m=t[f<<i];if(n===m)return f<<i;m>n?l=f:a=f+1}return~(l<<i)}(t,n,1)}const Nr={},Sr=[],Ea=new Nt(""),dl=new Nt("",-1),hl=new Nt("");class ds{get(n,i=ro){if(i===ro){const a=new Error(`NullInjectorError: No provider for ${Un(n)}!`);throw a.name="NullInjectorError",a}return i}}var Xs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xs||{}),zo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zo||{}),hs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hs||{});function xs(t,n,i){let a=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const f=n.length;if(l+f===a||t.charCodeAt(l+f)<=32)return l}i=l+1}}function uo(t,n,i){let a=0;for(;a<i.length;){const l=i[a];if("number"==typeof l){if(0!==l)break;a++;const f=i[a++],m=i[a++],y=i[a++];t.setAttribute(n,m,y,f)}else{const f=l,m=i[++a];Vl(f)?t.setProperty(n,f,m):t.setAttribute(n,f,m),a++}}return a}function Fo(t){return 3===t||4===t||6===t}function Vl(t){return 64===t.charCodeAt(0)}function Ns(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?i=l:0===i||Cs(t,i,l,null,-1===i||2===i?n[++a]:null)}}return t}function Cs(t,n,i,a,l){let f=0,m=t.length;if(-1===n)m=-1;else for(;f<t.length;){const y=t[f++];if("number"==typeof y){if(y===n){m=-1;break}if(y>n){m=f-1;break}}}for(;f<t.length;){const y=t[f];if("number"==typeof y)break;if(y===i){if(null===a)return void(null!==l&&(t[f+1]=l));if(a===t[f+1])return void(t[f+2]=l)}f++,null!==a&&f++,null!==l&&f++}-1!==m&&(t.splice(m,0,n),f=m+1),t.splice(f++,0,i),null!==a&&t.splice(f++,0,a),null!==l&&t.splice(f++,0,l)}const xo="ng-template";function Ja(t,n,i,a){let l=0;if(a){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==xs(n[l+1].toLowerCase(),i,0))return!0}else if(Aa(t))return!1;if(l=n.indexOf(1,l),l>-1){let f;for(;++l<n.length&&"string"==typeof(f=n[l]);)if(f.toLowerCase()===i)return!0}return!1}function Aa(t){return 4===t.type&&t.value!==xo}function W(t,n,i){return n===(4!==t.type||i?t.value:xo)}function k(t,n,i){let a=4;const l=t.attrs,f=null!==l?function sr(t){for(let n=0;n<t.length;n++)if(Fo(t[n]))return n;return t.length}(l):0;let m=!1;for(let y=0;y<n.length;y++){const T=n[y];if("number"!=typeof T){if(!m)if(4&a){if(a=2|1&a,""!==T&&!W(t,T,i)||""===T&&1===n.length){if(ve(a))return!1;m=!0}}else if(8&a){if(null===l||!Ja(t,l,T,i)){if(ve(a))return!1;m=!0}}else{const j=n[++y],Q=z(T,l,Aa(t),i);if(-1===Q){if(ve(a))return!1;m=!0;continue}if(""!==j){let ue;if(ue=Q>f?"":l[Q+1].toLowerCase(),2&a&&j!==ue){if(ve(a))return!1;m=!0}}}}else{if(!m&&!ve(a)&&!ve(T))return!1;if(m&&ve(T))continue;m=!1,a=T|1&a}}return ve(a)||m}function ve(t){return!(1&t)}function z(t,n,i,a){if(null===n)return-1;let l=0;if(a||!i){let f=!1;for(;l<n.length;){const m=n[l];if(m===t)return l;if(3===m||6===m)f=!0;else{if(1===m||2===m){let y=n[++l];for(;"string"==typeof y;)y=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=f?1:2}return-1}return function gr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function xe(t,n,i=!1){for(let a=0;a<n.length;a++)if(k(t,n[a],i))return!0;return!1}function No(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function rs(t,n){return t?":not("+n.trim()+")":n}function is(t){let n=t[0],i=1,a=2,l="",f=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&a){const y=t[++i];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!ve(m)&&(n+=rs(f,l),l=""),a=m,f=f||!ve(a);i++}return""!==l&&(n+=rs(f,l)),n}function pl(t){return un(()=>{var n;const i=ss(t),a={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||zo.Emulated,styles:t.styles||Sr,_:null,schemas:t.schemas||null,tView:null,id:""};Ta(a);const l=t.dependencies;return a.directiveDefs=$r(l,!1),a.pipeDefs=$r(l,!0),a.id=function ml(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(a),a})}function Ca(t){return cr(t)||Gi(t)}function Fa(t){return null!==t}function Ul(t){return un(()=>({type:t.type,bootstrap:t.bootstrap||Sr,declarations:t.declarations||Sr,imports:t.imports||Sr,exports:t.exports||Sr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function La(t,n){if(null==t)return Nr;const i={};for(const l in t)if(t.hasOwnProperty(l)){const f=t[l];let m,y,T=hs.None;var a;Array.isArray(f)?(T=f[0],m=f[1],y=null!==(a=f[2])&&void 0!==a?a:m):(m=f,y=f),n?(i[m]=T!==hs.None?[l,T]:l,n[m]=y):i[m]=l}return i}function gl(t){return un(()=>{const n=ss(t);return Ta(n),n})}function os(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function cr(t){return t[gi]||null}function Gi(t){return t[so]||null}function Wi(t){return t[Bi]||null}function io(t){const n=cr(t)||Gi(t)||Wi(t);return null!==n&&n.standalone}function co(t,n){const i=t[Di]||null;if(!i&&!0===n)throw new Error(`Type ${Un(t)} does not have '\u0275mod' property.`);return i}function ss(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Nr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Sr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:La(t.inputs,n),outputs:La(t.outputs),debugInfo:null}}function Ta(t){var n;null===(n=t.features)||void 0===n||n.forEach(i=>i(t))}function $r(t,n){if(!t)return null;const i=n?Wi:Ca;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(Fa)}function Za(...t){return{\u0275providers:ca(0,t),\u0275fromNgModule:!0}}function ca(t,...n){const i=[],a=new Set;let l;const f=m=>{i.push(m)};return Ji(n,m=>{const y=m;Da(y,f,[],a)&&(l||(l=[]),l.push(y))}),void 0!==l&&Go(l,f),i}function Go(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:l}=t[i];Ts(l,f=>{n(f,a)})}}function Da(t,n,i,a){if(!(t=it(t)))return!1;let l=null,f=Ge(t);const m=!f&&cr(t);if(f||m){if(m&&!m.standalone)return!1;l=t}else{const T=t.ngModule;if(f=Ge(T),!f)return!1;l=T}const y=a.has(l);if(m){if(y)return!1;if(a.add(l),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const j of T)Da(j,n,i,a)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let j;a.add(l);try{Ji(f.imports,Q=>{Da(Q,n,i,a)&&(j||(j=[]),j.push(Q))})}finally{}void 0!==j&&Go(j,n)}if(!y){const j=Ri(l)||(()=>new l);n({provide:l,useFactory:j,deps:Sr},l),n({provide:hl,useValue:l,multi:!0},l),n({provide:Ea,useValue:()=>He(l),multi:!0},l)}const T=f.providers;if(null!=T&&!y){const j=t;Ts(T,Q=>{n(Q,j)})}}}return l!==t&&void 0!==t.providers}function Ts(t,n){for(let i of t)Vr(i)&&(i=i.\u0275providers),Array.isArray(i)?Ts(i,n):n(i)}const Wo=Sn({provide:String,useValue:Sn});function Rr(t){return null!==t&&"object"==typeof t&&Wo in t}function Ko(t){return"function"==typeof t}const Ua=new Nt(""),Js={},vl={};let Bl;function Os(){return void 0===Bl&&(Bl=new ds),Bl}class qo{}class da extends qo{get destroyed(){return this._destroyed}constructor(n,i,a,l){super(),this.parent=i,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ks(n,m=>this.processProvider(m)),this.records.set(dl,$a(void 0,this)),l.has("environment")&&this.records.set(qo,$a(void 0,this));const f=this.records.get(Ua);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(hl,Sr,On.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ie(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=oe(this),a=ji(void 0);try{return n()}finally{oe(i),ji(a)}}get(n,i=ro,a=On.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Zo))return n[Zo](this);a=jt(a);const f=oe(this),m=ji(void 0);try{if(!(a&On.SkipSelf)){let T=this.records.get(n);if(void 0===T){const j=function Zi(t){return"function"==typeof t||"object"==typeof t&&t instanceof Nt}(n)&&xt(n);T=j&&this.injectableDefInScope(j)?$a(_l(n),Js):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(a&On.Self?Os():this.parent).get(n,i=a&On.Optional&&i===ro?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[wi]=y[wi]||[]).unshift(Un(n)),f)throw y;return function Cn(t,n,i,a){const l=t[wi];throw n[x]&&l.unshift(n[x]),t.message=function Mn(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Un(n);if(Array.isArray(n))l=n.map(Un).join(" -> ");else if("object"==typeof n){let f=[];for(let m in n)if(n.hasOwnProperty(m)){let y=n[m];f.push(m+":"+("string"==typeof y?JSON.stringify(y):Un(y)))}l=`{${f.join(", ")}}`}return`${i}${a?"("+a+")":""}[${l}]: ${t.replace(X,"\n  ")}`}("\n"+t.message,l,i,a),t.ngTokenPath=l,t[wi]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{ji(m),oe(f)}}resolveInjectorInitializers(){const n=ie(null),i=oe(this),a=ji(void 0);try{const f=this.get(Ea,Sr,On.Self);for(const m of f)m()}finally{oe(i),ji(a),ie(n)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(Un(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new gt(205,!1)}processProvider(n){let i=Ko(n=it(n))?n:it(n&&n.provide);const a=function wa(t){return Rr(t)?$a(void 0,t.useValue):$a(el(t),Js)}(n);if(!Ko(n)&&!0===n.multi){let l=this.records.get(i);l||(l=$a(void 0,Js,!0),l.factory=()=>Yt(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,a)}hydrate(n,i){const a=ie(null);try{return i.value===Js&&(i.value=vl,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ps(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ie(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=it(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function _l(t){const n=xt(t),i=null!==n?n.factory:Ri(t);if(null!==i)return i;if(t instanceof Nt)throw new gt(204,!1);if(t instanceof Function)return function jl(t){if(t.length>0)throw new gt(204,!1);const i=function ae(t){return t&&(t[re]||t[Ve])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new gt(204,!1)}function el(t,n,i){let a;if(Ko(t)){const l=it(t);return Ri(l)||_l(l)}if(Rr(t))a=()=>it(t.useValue);else if(function Ys(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Yt(t.deps||[]));else if(function Ei(t){return!(!t||!t.useExisting)}(t))a=()=>He(it(t.useExisting));else{const l=it(t&&(t.useClass||t.provide));if(!function as(t){return!!t.deps}(t))return Ri(l)||_l(l);a=()=>new l(...Yt(t.deps))}return a}function $a(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ks(t,n){for(const i of t)Array.isArray(i)?ks(i,n):i&&Vr(i)?ks(i.\u0275providers,n):n(i)}function oo(t,n){t instanceof da&&t.assertNotDestroyed();const a=oe(t),l=ji(void 0);try{return n()}finally{oe(a),ji(l)}}function gs(){return void 0!==ko()||null!=function P(){return Ae}()}const zr=0,gn=1,Ln=2,ai=3,Vi=4,mi=5,to=6,dr=7,li=8,wo=9,Dr=10,an=11,Xo=12,Pr=13,yl=14,mr=15,En=16,Fs=17,Ls=18,Zs=19,ha=20,bo=21,Il=22,Lo=23,Ar=25,Hl=1,Vo=7,ea=9,Ai=10;var zl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zl||{});function At(t){return Array.isArray(t)&&"object"==typeof t[Hl]}function Io(t){return Array.isArray(t)&&!0===t[Hl]}function ms(t){return!!(4&t.flags)}function Vs(t){return t.componentOffset>-1}function El(t){return!(1&~t.flags)}function So(t){return!!t.template}function Us(t){return!!(512&t[Ln])}class Ni{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function ri(t,n,i,a){null!==n?n.applyValueToInputSignal(n,a):t[i]=a}function Ki(){return na}function na(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cl),Al}function Al(){const t=ba(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Nr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Cl(t,n,i,a,l){const f=this.declaredInputs[a],m=ba(t)||function Mu(t,n){return t[Uo]=n}(t,{previous:Nr,current:null}),y=m.current||(m.current={}),T=m.previous,j=T[f];y[f]=new Ni(j&&j.currentValue,i,T===Nr),ri(t,n,l,i)}Ki.ngInherit=!0;const Uo="__ngSimpleChanges__";function ba(t){return t[Uo]||null}const Ds=function(t,n,i){};let Tl=!1;function Gr(t){for(;Array.isArray(t);)t=t[zr];return t}function Wr(t,n){return Gr(n[t])}function ho(t,n){return Gr(n[t.index])}function vi(t,n){return t.data[n]}function Ro(t,n){const i=n[t];return At(i)?i:i[zr]}function gu(t){return!(128&~t[Ln])}function bi(t,n){return null==n?null:t[n]}function fc(t){t[Fs]=0}function pa(t){1024&t[Ln]||(t[Ln]|=1024,gu(t)&&Ha(t))}function $s(t){var n;return!!(9216&t[Ln]||null!==(n=t[Lo])&&void 0!==n&&n.dirty)}function Sa(t){var n;if(null===(n=t[Dr].changeDetectionScheduler)||void 0===n||n.notify(1),$s(t))Ha(t);else if(64&t[Ln])if(function Ao(){return Tl}())t[Ln]|=1024,Ha(t);else{var i;null===(i=t[Dr].changeDetectionScheduler)||void 0===i||i.notify()}}function Ha(t){var n;null===(n=t[Dr].changeDetectionScheduler)||void 0===n||n.notify();let i=js(t);for(;null!==i&&!(8192&i[Ln])&&(i[Ln]|=8192,gu(i));)i=js(i)}function Bs(t,n){if(!(256&~t[Ln]))throw new gt(911,!1);null===t[bo]&&(t[bo]=[]),t[bo].push(n)}function js(t){const n=t[ai];return Io(n)?n[ai]:n}const fr={lFrame:U(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ku(){return fr.bindingsEnabled}function ra(){return null!==fr.skipHydrationRootTNode}function Xt(){return fr.lFrame.lView}function Kr(){return fr.lFrame.tView}function Sl(t){return fr.lFrame.contextLView=t,t[li]}function ql(t){return fr.lFrame.contextLView=null,t}function ii(){let t=mu();for(;null!==t&&64===t.type;)t=t.parent;return t}function mu(){return fr.lFrame.currentTNode}function Po(t,n){const i=fr.lFrame;i.currentTNode=t,i.isParent=n}function Rl(){return fr.lFrame.isParent}function Mo(){fr.lFrame.isParent=!1}function cs(){const t=fr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ia(){return fr.lFrame.bindingIndex++}function Xl(t,n){const i=fr.lFrame;i.bindingIndex=i.bindingRootIndex=t,Ql(n)}function Ql(t){fr.lFrame.currentDirectiveIndex=t}function Pl(){return fr.lFrame.currentQueryIndex}function Lu(t){fr.lFrame.currentQueryIndex=t}function qc(t){const n=t[gn];return 2===n.type?n.declTNode:1===n.type?t[mi]:null}function vc(t,n,i){if(i&On.SkipSelf){let l=n,f=t;for(;!(l=l.parent,null!==l||i&On.Host||(l=qc(f),null===l||(f=f[yl],10&l.type))););if(null===l)return!1;n=l,t=f}const a=fr.lFrame=_();return a.currentTNode=n,a.lView=t,!0}function R(t){const n=_(),i=t[gn];fr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function _(){const t=fr.lFrame,n=null===t?null:t.child;return null===n?U(t):n}function U(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function G(){const t=fr.lFrame;return fr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=G;function at(){const t=G();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Jt(){return fr.lFrame.selectedIndex}function cn(t){fr.lFrame.selectedIndex=t}function An(){const t=fr.lFrame;return vi(t.tView,t.selectedIndex)}let Oi=!0;function Mr(){return Oi}function qr(t){Oi=t}function Xi(t,n){for(let j=n.directiveStart,Q=n.directiveEnd;j<Q;j++){const Ue=t.data[j].type.prototype,{ngAfterContentInit:st,ngAfterContentChecked:Pt,ngAfterViewInit:Kt,ngAfterViewChecked:dn,ngOnDestroy:yn}=Ue;var i,a,l,f,m,y,T;st&&(null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(-j,st),Pt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(j,Pt),(null!==(l=t.contentCheckHooks)&&void 0!==l?l:t.contentCheckHooks=[]).push(j,Pt)),Kt&&(null!==(f=t.viewHooks)&&void 0!==f?f:t.viewHooks=[]).push(-j,Kt),dn&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(j,dn),(null!==(y=t.viewCheckHooks)&&void 0!==y?y:t.viewCheckHooks=[]).push(j,dn)),null!=yn&&(null!==(T=t.destroyHooks)&&void 0!==T?T:t.destroyHooks=[]).push(j,yn)}}function Ir(t,n,i){sl(t,n,3,i)}function ki(t,n,i,a){(3&t[Ln])===i&&sl(t,n,i,a)}function Xr(t,n){let i=t[Ln];(3&i)===n&&(i&=16383,i+=1,t[Ln]=i)}function sl(t,n,i,a){const f=null!=a?a:-1,m=n.length-1;let y=0;for(let T=void 0!==a?65535&t[Fs]:0;T<m;T++)if("number"==typeof n[T+1]){if(y=n[T],null!=a&&y>=a)break}else n[T]<0&&(t[Fs]+=65536),(y<f||-1==f)&&(Yl(t,i,n,T),t[Fs]=(4294901760&t[Fs])+T+2),T++}function oa(t,n){Ds(4,t,n);const i=ie(null);try{n.call(t)}finally{ie(i),Ds(5,t,n)}}function Yl(t,n,i,a){const l=i[a]<0,f=i[a+1],y=t[l?-i[a]:i[a]];l?t[Ln]>>14<t[Fs]>>16&&(3&t[Ln])===n&&(t[Ln]+=16384,oa(y,f)):oa(y,f)}const Ml=-1;class Jl{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function ws(t){return t!==Ml}function Vu(t){return 32767&t}function $u(t,n){let i=function Uu(t){return t>>16}(t),a=n;for(;i>0;)a=a[yl],i--;return a}let Ma=!0;function _c(t){const n=Ma;return Ma=t,n}const p=255,v=5;let C=0;const q={};function pt(t,n){const i=ln(t,n);if(-1!==i)return i;const a=n[gn];a.firstCreatePass&&(t.injectorIndex=n.length,Ut(a.data,t),Ut(n,null),Ut(a.blueprint,null));const l=$n(t,n),f=t.injectorIndex;if(ws(l)){const m=Vu(l),y=$u(l,n),T=y[gn].data;for(let j=0;j<8;j++)n[f+j]=y[m+j]|T[m+j]}return n[f+8]=l,f}function Ut(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ln(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function $n(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,l=n;for(;null!==l;){if(a=Jc(l),null===a)return Ml;if(i++,l=l[yl],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Ml}function hr(t,n,i){!function ye(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(mo)&&(a=i[mo]),null==a&&(a=i[mo]=C++);const l=a&p;n.data[t+(l>>v)]|=1<<l}(t,n,i)}function bs(t,n,i){if(i&On.Optional||void 0!==t)return t;Ho()}function sa(t,n,i,a){if(i&On.Optional&&void 0===a&&(a=null),!(i&(On.Self|On.Host))){const l=t[wo],f=ji(void 0);try{return l?l.get(n,a,i&On.Optional):la(n,a,i&On.Optional)}finally{ji(f)}}return bs(a,0,i)}function Wa(t,n,i,a=On.Default,l){if(null!==t){if(2048&n[Ln]&&!(a&On.Self)){const m=function vy(t,n,i,a,l){let f=t,m=n;for(;null!==f&&null!==m&&2048&m[Ln]&&!(512&m[Ln]);){const y=Xc(f,m,i,a|On.Self,q);if(y!==q)return y;let T=f.parent;if(!T){const j=m[ha];if(j){const Q=j.get(i,q,a);if(Q!==q)return Q}T=Jc(m),m=m[yl]}f=T}return l}(t,n,i,a,q);if(m!==q)return m}const f=Xc(t,n,i,a,q);if(f!==q)return f}return sa(n,i,a,l)}function Xc(t,n,i,a,l){const f=function Qc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mo)?t[mo]:void 0;return"number"==typeof n?n>=0?n&p:ju:n}(i);if("function"==typeof f){if(!vc(n,t,a))return a&On.Host?bs(l,0,a):sa(n,i,a,l);try{let m;if(m=f(a),null!=m||a&On.Optional)return m;Ho()}finally{be()}}else if("number"==typeof f){let m=null,y=ln(t,n),T=Ml,j=a&On.Host?n[mr][mi]:null;for((-1===y||a&On.SkipSelf)&&(T=-1===y?$n(t,n):n[y+8],T!==Ml&&_u(a,!1)?(m=n[gn],y=Vu(T),n=$u(T,n)):y=-1);-1!==y;){const Q=n[gn];if(Yc(f,y,Q.data)){const ue=xl(y,n,i,m,a,j);if(ue!==q)return ue}T=n[y+8],T!==Ml&&_u(a,n[gn].data[y+8]===j)&&Yc(f,y,n)?(m=Q,y=Vu(T),n=$u(T,n)):y=-1}}return l}function xl(t,n,i,a,l,f){const m=n[gn],y=m.data[t+8],Q=Bu(y,m,i,null==a?Vs(y)&&Ma:a!=m&&!!(3&y.type),l&On.Host&&f===y);return null!==Q?va(n,m,Q,y):q}function Bu(t,n,i,a,l){const f=t.providerIndexes,m=n.data,y=1048575&f,T=t.directiveStart,Q=f>>20,Ue=l?y+Q:t.directiveEnd;for(let st=a?y:y+Q;st<Ue;st++){const Pt=m[st];if(st<T&&i===Pt||st>=T&&Pt.type===i)return st}if(l){const st=m[T];if(st&&So(st)&&st.type===i)return T}return null}function va(t,n,i,a){let l=t[i];const f=n.data;if(function vu(t){return t instanceof Jl}(l)){const m=l;m.resolving&&function es(t,n){throw n&&n.join(" > "),new gt(-200,t)}(function wr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():nr(t)}(f[i]));const y=_c(m.canSeeViewProviders);m.resolving=!0;const j=m.injectImpl?ji(m.injectImpl):null;vc(t,a,On.Default);try{l=t[i]=m.factory(void 0,f,t,a),n.firstCreatePass&&i>=a.directiveStart&&function $i(t,n,i){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:f}=n.type.prototype;if(a){var m,y;const ue=na(n);(null!==(m=i.preOrderHooks)&&void 0!==m?m:i.preOrderHooks=[]).push(t,ue),(null!==(y=i.preOrderCheckHooks)&&void 0!==y?y:i.preOrderCheckHooks=[]).push(t,ue)}var T,j,Q;l&&(null!==(T=i.preOrderHooks)&&void 0!==T?T:i.preOrderHooks=[]).push(0-t,l),f&&((null!==(j=i.preOrderHooks)&&void 0!==j?j:i.preOrderHooks=[]).push(t,f),(null!==(Q=i.preOrderCheckHooks)&&void 0!==Q?Q:i.preOrderCheckHooks=[]).push(t,f))}(i,f[i],n)}finally{null!==j&&ji(j),_c(y),m.resolving=!1,be()}}return l}function Yc(t,n,i){return!!(i[n+(t>>v)]&1<<t)}function _u(t,n){return!(t&On.Self||t&On.Host&&n)}class Fr{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Wa(this._tNode,this._lView,n,jt(a),i)}}function ju(){return new Fr(ii(),Xt())}function yc(t){return un(()=>{const n=t.prototype.constructor,i=n[Yi]||Xh(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const f=l[Yi]||Xh(l);if(f&&f!==i)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Xh(t){return Ye(t)?()=>{const n=Xh(it(t));return n&&n()}:Ri(t)}function Jc(t){const n=t[gn],i=n.type;return 2===i?n.declTNode:1===i?t[mi]:null}function Qh(t){return function oi(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let l=0;for(;l<a;){const f=i[l];if(Fo(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<a&&"string"==typeof i[l];)l++;else{if(f===n)return i[l+1];l+=2}}}return null}(ii(),t)}function Ci(t,n=null,i=null,a){const l=zp(t,n,i,a);return l.resolveInjectorInitializers(),l}function zp(t,n=null,i=null,a,l=new Set){const f=[i||Sr,Za(t)];return a=a||("object"==typeof t?void 0:Un(t)),new da(f,n||Os(),a||null,l)}let xa=(()=>{var t;class n{static create(a,l){if(Array.isArray(a))return Ci({name:""},l,a,"");{var f;const m=null!==(f=a.name)&&void 0!==f?f:"";return Ci({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=ro,t.NULL=new ds,t.\u0275prov=or({token:t,providedIn:"any",factory:()=>He(dl)}),t.__NG_ELEMENT_ID__=-1,n})();function Zh(t){return t.ngOriginalError}class tu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Zh(n);for(;i&&Zh(i);)i=Zh(i);return i||null}}const ef=new Nt("",{providedIn:"root",factory:()=>Je(tu).handleError.bind(void 0)});let nu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=Xd,t.__NG_ENV_ID__=i=>i,n})();class qd extends nu{constructor(n){super(),this._lView=n}onDestroy(n){return Bs(this._lView,n),()=>function Ou(t,n){if(null===t[bo])return;const i=t[bo].indexOf(n);-1!==i&&t[bo].splice(i,1)}(this._lView,n)}}function Xd(){return new qd(Xt())}function Hm(){return ed(ii(),Xt())}function ed(t,n){return new Yd(ho(t,n))}let Yd=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Hm,n})();function zm(t){return t instanceof Yd?t.nativeElement:t}function Jd(t){return n=>{setTimeout(t,void 0,n)}}const _a=class Ty extends vn.B{constructor(n=!1){var i;super(),this.destroyRef=void 0,this.__isAsync=n,gs()&&(this.destroyRef=null!==(i=Je(nu,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const i=ie(null);try{super.next(n)}finally{ie(i)}}subscribe(n,i,a){let l=n,f=i||(()=>null),m=a;if(n&&"object"==typeof n){var y,T,j;const ue=n;l=null===(y=ue.next)||void 0===y?void 0:y.bind(ue),f=null===(T=ue.error)||void 0===T?void 0:T.bind(ue),m=null===(j=ue.complete)||void 0===j?void 0:j.bind(ue)}this.__isAsync&&(f=Jd(f),l&&(l=Jd(l)),m&&(m=Jd(m)));const Q=super.subscribe({next:l,error:f,complete:m});return n instanceof Bn.yU&&n.add(Q),Q}};function Gm(){return this._results[Symbol.iterator]()}class Kp{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new _a}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Kp.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Gm)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const a=function jr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function xi(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],f=n[a];if(i&&(l=i(l),f=i(f)),f!==l)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Hu(t){return!(128&~t.flags)}const nf=new Map;let Wm=0;const Jp="__ngContext__";function zs(t,n){At(n)?(t[Jp]=n[Zs],function Km(t){nf.set(t[Zs],t)}(n)):t[Jp]=n}function eg(t){return tg(t[Xo])}function tv(t){return tg(t[Vi])}function tg(t){for(;null!==t&&!Io(t);)t=t[Vi];return t}let lf;function Sy(t){lf=t}const sv=new Nt("",{providedIn:"root",factory:()=>Zd}),Zd="ng",Xu=new Nt(""),ru=new Nt("",{providedIn:"platform",factory:()=>"unknown"}),av=new Nt("",{providedIn:"root",factory:()=>{var t;return(null===(t=function qu(){if(void 0!==lf)return lf;if(typeof document<"u")return document;throw new gt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let eh=()=>null;function Yu(t,n,i=!1){return eh(t,n,i)}const dd=new Nt("",{providedIn:"root",factory:()=>!1});let Yo;function vv(t){var n;return(null===(n=function hg(){if(void 0===Yo&&(Yo=null,Fn.trustedTypes))try{Yo=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yo}())||void 0===n?void 0:n.createScriptURL(t))||t}class pf{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zn})`}}function su(t){return t instanceof pf?t.changingThisBreaksApplicationSecurity:t}function Pc(t,n){const i=function ih(t){return t instanceof pf&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${zn})`)}return i===n}const By=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Zu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zu||{});function Rs(t){const n=lh();return n?n.sanitize(Zu.URL,t)||"":Pc(t,"URL")?su(t):function vf(t){return(t=String(t)).match(By)?t:"unsafe:"+t}(nr(t))}function Pv(t){const n=lh();if(n)return vv(n.sanitize(Zu.RESOURCE_URL,t)||"");if(Pc(t,"ResourceURL"))return vv(su(t));throw new gt(904,!1)}function Eg(t,n,i){return function Ig(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Pv:Rs}(n,i)(t)}function lh(){const t=Xt();return t&&t[Dr].sanitizer}const Wy=/^>|^->|<!--|-->|--!>|<!-$/g,Ag=/(<|>)/g,Ky="\u200b$1\u200b";function qa(t){return t instanceof Function?t():t}var Rf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Rf||{});let fh;function Pf(t,n){return fh(t,n)}function tc(t,n,i,a,l){if(null!=a){let f,m=!1;Io(a)?f=a:At(a)&&(m=!0,a=a[zr]);const y=Gr(a);0===t&&null!==i?null==l?Nf(n,i,y):nc(n,i,y,l||null,!0):1===t&&null!==i?nc(n,i,y,l||null,!0):2===t?function Ad(t,n,i){const a=vh(t,n);a&&function $v(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,y,m):3===t&&n.destroyNode(y),null!=f&&function r0(t,n,i,a,l){const f=i[Vo];f!==Gr(i)&&tc(n,t,a,f,l);for(let y=Ai;y<i.length;y++){const T=i[y];Cd(T[gn],T,t,n,a,f)}}(n,t,f,i,l)}}function au(t,n){return t.createComment(function xv(t){return t.replace(Wy,n=>n.replace(Ag,Ky))}(n))}function vd(t,n,i){return t.createElement(n,i)}function Pg(t,n){var i;null===(i=n[Dr].changeDetectionScheduler)||void 0===i||i.notify(1),Cd(t,n,n[an],2,null,null)}function Mf(t,n){const i=t[ea],a=i.indexOf(n);i.splice(a,1)}function Fc(t,n){if(t.length<=Ai)return;const i=Ai+n,a=t[i];if(a){const l=a[En];null!==l&&l!==t&&Mf(l,a),n>0&&(t[i-1][Vi]=a[Vi]);const f=ts(t,Ai+n);!function _d(t,n){Pg(t,n),n[zr]=null,n[mi]=null}(a[gn],a);const m=f[Ls];null!==m&&m.detachView(f[gn]),a[ai]=null,a[Vi]=null,a[Ln]&=-129}return a}function Ed(t,n){if(!(256&n[Ln])){const i=n[an];i.destroyNode&&Cd(t,n,i,3,null,null),function Id(t){let n=t[Xo];if(!n)return gh(t[gn],t);for(;n;){let i=null;if(At(n))i=n[Xo];else{const a=n[Ai];a&&(i=a)}if(!i){for(;n&&!n[Vi]&&n!==t;)At(n)&&gh(n[gn],n),n=n[ai];null===n&&(n=t),At(n)&&gh(n[gn],n),i=n&&n[Vi]}n=i}}(n)}}function gh(t,n){if(256&n[Ln])return;const i=ie(null);try{n[Ln]&=-129,n[Ln]|=256,n[Lo]&&function tt(t){if(dt(t),je(t))for(let n=0;n<t.producerNode.length;n++)ze(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[Lo]),function t0(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const l=n[i[a]];if(!(l instanceof Jl)){const f=i[a+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const y=l[f[m]],T=f[m+1];Ds(4,y,T);try{T.call(y)}finally{Ds(5,y,T)}}else{Ds(4,l,f);try{f.call(l)}finally{Ds(5,l,f)}}}}}(t,n),function e0(t,n){const i=t.cleanup,a=n[dr];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const m=i[f+3];m>=0?a[m]():a[-m].unsubscribe(),f+=2}else i[f].call(a[i[f+1]]);null!==a&&(n[dr]=null);const l=n[bo];if(null!==l){n[bo]=null;for(let f=0;f<l.length;f++)(0,l[f])()}}(t,n),1===n[gn].type&&n[an].destroy();const a=n[En];if(null!==a&&Io(n[ai])){a!==n[ai]&&Mf(a,n);const l=n[Ls];null!==l&&l.detachView(t)}!function qm(t){nf.delete(t[Zs])}(n)}finally{ie(i)}}function mh(t,n,i){return function xf(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[zr];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:f}=t.data[a.directiveStart+l];if(f===zo.None||f===zo.Emulated)return null}return ho(a,i)}}(t,n.parent,i)}function nc(t,n,i,a,l){t.insertBefore(n,i,a,l)}function Nf(t,n,i){t.appendChild(n,i)}function Uv(t,n,i,a,l){null!==a?nc(t,n,i,a,l):Nf(t,n,i)}function vh(t,n){return t.parentNode(n)}function Mg(t,n,i){return jv(t,n,i)}let Ng,jv=function xg(t,n,i){return 40&t.type?ho(t,i):null};function Of(t,n,i,a){const l=mh(t,a,n),f=n[an],y=Mg(a.parent||n[mi],a,n);if(null!=l)if(Array.isArray(i))for(let T=0;T<i.length;T++)Uv(f,l,i[T],y,!1);else Uv(f,l,i,y,!1);void 0!==Ng&&Ng(f,a,n,i,l)}function Lc(t,n){if(null!==n){const i=n.type;if(3&i)return ho(n,t);if(4&i)return _h(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Lc(t,a);{const l=t[n.index];return Io(l)?_h(-1,l):Gr(l)}}if(32&i)return Pf(n,t)()||Gr(t[n.index]);{const a=zv(t,n);return null!==a?Array.isArray(a)?a[0]:Lc(js(t[mr]),a):Lc(t,n.next)}}return null}function zv(t,n){return null!==n?t[mr][mi].projection[n.projection]:null}function _h(t,n){const i=Ai+t+1;if(i<n.length){const a=n[i],l=a[gn].firstChild;if(null!==l)return Lc(a,l)}return n[Vo]}function yh(t,n,i,a,l,f,m){for(;null!=i;){const y=a[i.index],T=i.type;if(m&&0===n&&(y&&zs(Gr(y),a),i.flags|=2),32&~i.flags)if(8&T)yh(t,n,i.child,a,l,f,!1),tc(n,t,l,y,f);else if(32&T){const j=Pf(i,a);let Q;for(;Q=j();)tc(n,t,l,Q,f);tc(n,t,l,y,f)}else 16&T?Ff(t,n,a,i,l,f):tc(n,t,l,y,f);i=m?i.projectionNext:i.next}}function Cd(t,n,i,a,l,f){yh(i,a,t.firstChild,n,l,f,!1)}function Ff(t,n,i,a,l,f){const m=i[mr],T=m[mi].projection[a.projection];if(Array.isArray(T))for(let j=0;j<T.length;j++)tc(n,t,l,T[j],f);else{let j=T;const Q=m[ai];Hu(a)&&(j.flags|=128),yh(t,n,j,Q,l,f,!0)}}function Lf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function kg(t,n,i){const{mergedAttrs:a,classes:l,styles:f}=i;null!==a&&uo(t,n,a),null!==l&&Lf(t,n,l),null!==f&&function o0(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}const xr={};function Fg(t=1){Gv(Kr(),Xt(),Jt()+t,!1)}function Gv(t,n,i,a){if(!a)if(3&~n[Ln]){const f=t.preOrderHooks;null!==f&&ki(n,f,0,i)}else{const f=t.preOrderCheckHooks;null!==f&&Ir(n,f,i)}cn(i)}function rc(t,n=On.Default){const i=Xt();return null===i?He(t,n):Wa(ii(),i,it(t),n)}function Wv(){throw new Error("invalid")}function Vf(t,n,i,a,l,f){const m=ie(null);try{let y=null;l&hs.SignalBased&&(y=n[a][ke]),null!==y&&void 0!==y.transformFn&&(f=y.transformFn(f)),l&hs.HasDecoratorInputTransform&&(f=t.inputTransforms[a].call(n,f)),null!==t.setInput?t.setInput(n,y,f,i,a):ri(n,y,a,f)}finally{ie(m)}}function Td(t,n,i,a,l,f,m,y,T,j,Q){const ue=n.blueprint.slice();return ue[zr]=l,ue[Ln]=204|a,(null!==j||t&&2048&t[Ln])&&(ue[Ln]|=2048),fc(ue),ue[ai]=ue[yl]=t,ue[li]=i,ue[Dr]=m||t&&t[Dr],ue[an]=y||t&&t[an],ue[wo]=T||t&&t[wo]||null,ue[mi]=f,ue[Zs]=function Qp(){return Wm++}(),ue[to]=Q,ue[ha]=j,ue[mr]=2==n.type?t[mr]:ue,ue}function Dd(t,n,i,a,l){let f=t.data[n];if(null===f)f=function Ih(t,n,i,a,l){const f=mu(),m=Rl(),T=t.data[n]=function c0(t,n,i,a,l,f){let m=n?n.injectorIndex:-1,y=0;return ra()&&(y|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,i,n,a,l);return null===t.firstChild&&(t.firstChild=T),null!==f&&(m?null==f.child&&null!==T.parent&&(f.child=T):null===f.next&&(f.next=T,T.prev=f)),T}(t,n,i,a,l),function ei(){return fr.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=a,f.attrs=l;const m=function il(){const t=fr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Po(f,!0),f}function Vc(t,n,i,a){if(0===i)return-1;const l=n.length;for(let f=0;f<i;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function Uf(t,n,i,a,l){const f=Jt(),m=2&a;try{cn(-1),m&&n.length>Ar&&Gv(t,n,Ar,!1),Ds(m?2:0,l),i(a,l)}finally{cn(f),Ds(m?3:1,l)}}function ic(t,n,i){if(ms(n)){const a=ie(null);try{const f=n.directiveEnd;for(let m=n.directiveStart;m<f;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,i[m],m)}}finally{ie(a)}}}function $f(t,n,i){ku()&&(function Hg(t,n,i,a){const l=i.directiveStart,f=i.directiveEnd;Vs(i)&&function Jv(t,n,i){const a=ho(n,t),l=Kv(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const y=bd(t,Td(t,l,null,m,a,n,null,t[Dr].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=y}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||pt(i,n),zs(a,n);const m=i.initialInputs;for(let y=l;y<f;y++){const T=t.data[y],j=va(n,t,y,i);zs(j,n),null!==m&&m0(0,y-l,j,T,0,m),So(T)&&(Ro(i.index,n)[li]=va(n,t,y,i))}}(t,n,i,ho(i,n)),!(64&~i.flags)&&Ch(t,n,i))}function Eh(t,n,i=ho){const a=n.localNames;if(null!==a){let l=n.index+1;for(let f=0;f<a.length;f+=2){const m=a[f+1],y=-1===m?i(n,t):t[m];t[l++]=y}}}function Kv(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ah(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ah(t,n,i,a,l,f,m,y,T,j,Q){const ue=Ar+a,Ue=ue+l,st=function Tu(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:xr);return i}(ue,Ue),Pt="function"==typeof j?j():j;return st[gn]={type:t,blueprint:st,template:i,queries:null,viewQuery:y,declTNode:n,data:st.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Pt,incompleteFirstPass:!1,ssrId:Q}}let Bf=()=>null;function jf(t,n,i,a,l){for(let m in n){var f;if(!n.hasOwnProperty(m))continue;const y=n[m];if(void 0===y)continue;null!==(f=a)&&void 0!==f||(a={});let T,j=hs.None;Array.isArray(y)?(T=y[0],j=y[1]):T=y;let Q=m;if(null!==l){if(!l.hasOwnProperty(m))continue;Q=l[m]}0===t?qv(a,i,Q,T,j):qv(a,i,Q,T)}return a}function qv(t,n,i,a,l){let f;t.hasOwnProperty(i)?(f=t[i]).push(n,a):f=t[i]=[n,a],void 0!==l&&f.push(l)}function Bg(t,n,i,a){if(ku()){const l=null===a?null:{"":-1},f=function p0(t,n){const i=t.directiveRegistry;let a=null,l=null;if(i)for(let m=0;m<i.length;m++){const y=i[m];if(xe(n,y.selectors,!1))if(a||(a=[]),So(y))if(null!==y.findHostDirectiveDefs){const T=[];l=l||new Map,y.findHostDirectiveDefs(y,T,l),a.unshift(...T,y),oc(t,n,T.length)}else a.unshift(y),oc(t,n,0);else{var f;l=l||new Map,null===(f=y.findHostDirectiveDefs)||void 0===f||f.call(y,y,a,l),a.push(y)}}return null===a?null:[a,l]}(t,i);let m,y;null===f?m=y=null:[m,y]=f,null!==m&&Qv(t,n,i,m,l,y),l&&function g0(t,n,i){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const f=i[n[l+1]];if(null==f)throw new gt(-301,!1);a.push(n[l],f)}}}(i,a,l)}i.mergedAttrs=Ns(i.mergedAttrs,i.attrs)}function Qv(t,n,i,a,l,f){for(let ue=0;ue<a.length;ue++)hr(pt(i,n),t,a[ue].type);!function Yv(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let ue=0;ue<a.length;ue++){const Ue=a[ue];Ue.providersResolver&&Ue.providersResolver(Ue)}let m=!1,y=!1,T=Vc(t,n,a.length,null);for(let ue=0;ue<a.length;ue++){const Ue=a[ue];i.mergedAttrs=Ns(i.mergedAttrs,Ue.hostAttrs),wd(t,i,n,T,Ue),Gg(T,Ue,l),null!==Ue.contentQueries&&(i.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(i.flags|=64);const st=Ue.type.prototype;var j,Q;!m&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((null!==(j=t.preOrderHooks)&&void 0!==j?j:t.preOrderHooks=[]).push(i.index),m=!0),y||!st.ngOnChanges&&!st.ngDoCheck||((null!==(Q=t.preOrderCheckHooks)&&void 0!==Q?Q:t.preOrderCheckHooks=[]).push(i.index),y=!0),T++}!function Ug(t,n,i){const l=n.directiveEnd,f=t.data,m=n.attrs,y=[];let T=null,j=null;for(let Q=n.directiveStart;Q<l;Q++){const ue=f[Q],Ue=i?i.get(ue):null,Pt=Ue?Ue.outputs:null;T=jf(0,ue.inputs,Q,T,Ue?Ue.inputs:null),j=jf(1,ue.outputs,Q,j,Pt);const Kt=null===T||null===m||Aa(n)?null:v0(T,Q,m);y.push(Kt)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=T,n.outputs=j}(t,i,f)}function Ch(t,n,i){const a=i.directiveStart,l=i.directiveEnd,f=i.index,m=function gc(){return fr.lFrame.currentDirectiveIndex}();try{cn(f);for(let y=a;y<l;y++){const T=t.data[y],j=n[y];Ql(y),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&zg(T,j)}}finally{cn(-1),Ql(m)}}function zg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function oc(t,n,i){var a;n.componentOffset=i,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Gg(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;So(n)&&(i[""]=t)}}function wd(t,n,i,a,l){t.data[a]=l;const f=l.factory||(l.factory=Ri(l.type)),m=new Jl(f,So(l),rc);t.blueprint[a]=m,i[a]=m,function jg(t,n,i,a,l){const f=l.hostBindings;if(f){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const y=~n.index;(function f0(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=y&&m.push(y),m.push(i,a,f)}}(t,n,a,Vc(t,i,l.hostVars,xr),l)}function Xa(t,n,i,a,l,f){const m=ho(t,n);!function Wg(t,n,i,a,l,f,m){if(null==f)t.removeAttribute(n,l,i);else{const y=null==m?nr(f):m(f,a||"",l);t.setAttribute(n,l,y,i)}}(n[an],m,f,t.value,i,a,l)}function m0(t,n,i,a,l,f){const m=f[n];if(null!==m)for(let y=0;y<m.length;)Vf(a,i,m[y++],m[y++],m[y++],m[y++])}function v0(t,n,i){let a=null,l=0;for(;l<i.length;){const f=i[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const m=t[f];for(let y=0;y<m.length;y+=3)if(m[y]===n){a.push(f,m[y+1],m[y+2],i[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function Zv(t,n,i,a){return[t,!0,0,n,null,a,null,i,null,null]}function Th(t,n){const i=t.contentQueries;if(null!==i){const a=ie(null);try{for(let l=0;l<i.length;l+=2){const m=i[l+1];if(-1!==m){const y=t.data[m];Lu(i[l]),y.contentQueries(2,n[m],m)}}}finally{ie(a)}}}function bd(t,n){return t[Xo]?t[Pr][Vi]=n:t[Xo]=n,t[Pr]=n,n}function Dh(t,n,i){Lu(0);const a=ie(null);try{n(t,i)}finally{ie(a)}}function Kg(t){return t[dr]||(t[dr]=[])}function Hf(t){return t.cleanup||(t.cleanup=[])}function Uc(t,n){const i=t[wo],a=i?i.get(tu,null):null;a&&a.handleError(n)}function wh(t,n,i,a,l){for(let f=0;f<i.length;){const m=i[f++],y=i[f++],T=i[f++];Vf(t.data[m],n[m],a,y,T,l)}}function Sd(t,n){const i=Ro(n,t),a=i[gn];!function t_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const l=i[zr];null!==l&&null===i[to]&&(i[to]=Yu(l,i[wo])),bh(a,i,i[li])}function bh(t,n,i){R(n);try{var a;const l=t.viewQuery;null!==l&&Dh(1,l,i);const f=t.template;null!==f&&Uf(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[Ls])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Th(t,n),t.staticViewQueries&&Dh(2,t.viewQuery,i);const m=t.components;null!==m&&function n_(t,n){for(let i=0;i<n.length;i++)Sd(t,n[i])}(n,m)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{n[Ln]&=-5,at()}}function Rd(t,n){return!n||null===n.firstChild||Hu(t)}function Sh(t,n,i,a=!0){const l=n[gn];if(function Jy(t,n,i,a){const l=Ai+a,f=i.length;a>0&&(i[l-1][Vi]=n),a<f-Ai?(n[Vi]=i[l],Ps(i,Ai+a,n)):(i.push(n),n[Vi]=null),n[ai]=i;const m=n[En];null!==m&&i!==m&&function Zy(t,n){const i=t[ea];n[mr]!==n[ai][ai][mr]&&(t[Ln]|=zl.HasTransplantedViews),null===i?t[ea]=[n]:i.push(n)}(m,n);const y=n[Ls];null!==y&&y.insertView(t),Sa(n),n[Ln]|=128}(l,n,t,i),a){const m=_h(i,t),y=n[an],T=vh(y,t[Vo]);null!==T&&function yd(t,n,i,a,l,f){a[zr]=l,a[mi]=n,Cd(t,a,i,1,l,f)}(l,t[mi],y,n,T,m)}const f=n[to];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function Pd(t,n,i,a,l=!1){for(;null!==i;){const f=n[i.index];null!==f&&a.push(Gr(f)),Io(f)&&r_(f,a);const m=i.type;if(8&m)Pd(t,n,i.child,a);else if(32&m){const y=Pf(i,n);let T;for(;T=y();)a.push(T)}else if(16&m){const y=zv(n,i);if(Array.isArray(y))a.push(...y);else{const T=js(n[mr]);Pd(T[gn],T,y,a,!0)}}i=l?i.projectionNext:i.next}return a}function r_(t,n){for(let i=Ai;i<t.length;i++){const a=t[i],l=a[gn].firstChild;null!==l&&Pd(a[gn],a,l,n)}t[Vo]!==t[zr]&&n.push(t[Vo])}let Xg=[];const E0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ha(t.lView)},consumerOnSignalRead(){this.lView[Lo]=this}},i_=100;function Wf(t,n=!0,i=0){const a=t[Dr],l=a.rendererFactory;var m;null===(m=l.begin)||void 0===m||m.call(l);try{!function o_(t,n){qf(t,n);let i=0;for(;$s(t);){if(i===i_)throw new gt(103,!1);i++,qf(t,1)}}(t,i)}catch(j){throw n&&Uc(t,j),j}finally{var y,T;null===(y=l.end)||void 0===y||y.call(l),null===(T=a.inlineEffectRunner)||void 0===T||T.flush()}}function Qg(t,n,i,a){var l;const f=n[Ln];if(!(256&~f))return;null===(l=n[Dr].inlineEffectRunner)||void 0===l||l.flush(),R(n);let y=null,T=null;(function s_(t){return 2!==t.type})(t)&&(T=function _0(t){var n;return null!==(n=t[Lo])&&void 0!==n?n:function y0(t){var n;const i=null!==(n=Xg.pop())&&void 0!==n?n:Object.create(E0);return i.lView=t,i}(t)}(n),y=function Xe(t){return t&&(t.nextProducerIndex=0),ie(t)}(T));try{fc(n),function ol(t){return fr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Uf(t,n,i,2,a);const j=!(3&~f);if(j){const Ue=t.preOrderCheckHooks;null!==Ue&&Ir(n,Ue,null)}else{const Ue=t.preOrderHooks;null!==Ue&&ki(n,Ue,0,null),Xr(n,0)}if(function a_(t){for(let n=eg(t);null!==n;n=tv(n)){if(!(n[Ln]&zl.HasTransplantedViews))continue;const i=n[ea];for(let a=0;a<i.length;a++){pa(i[a])}}}(n),Yg(n,0),null!==t.contentQueries&&Th(t,n),j){const Ue=t.contentCheckHooks;null!==Ue&&Ir(n,Ue)}else{const Ue=t.contentHooks;null!==Ue&&ki(n,Ue,1),Xr(n,1)}!function s0(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const l=i[a];if(l<0)cn(~l);else{const f=l,m=i[++a],y=i[++a];Xl(m,f),y(2,n[f])}}}finally{cn(-1)}}(t,n);const Q=t.components;null!==Q&&Jg(n,Q,0);const ue=t.viewQuery;if(null!==ue&&Dh(2,ue,a),j){const Ue=t.viewCheckHooks;null!==Ue&&Ir(n,Ue)}else{const Ue=t.viewHooks;null!==Ue&&ki(n,Ue,2),Xr(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Il]){for(const Ue of n[Il])Ue();n[Il]=null}n[Ln]&=-73}catch(j){throw Ha(n),j}finally{null!==T&&(function et(t,n){if(ie(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(je(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ze(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(T,y),function I0(t){t.lView[Lo]!==t&&(t.lView=null,Xg.push(t))}(T)),at()}}function Yg(t,n){for(let i=eg(t);null!==i;i=tv(i))for(let a=Ai;a<i.length;a++)ui(i[a],n)}function Kf(t,n,i){ui(Ro(n,t),i)}function ui(t,n){gu(t)&&qf(t,n)}function qf(t,n){const a=t[gn],l=t[Ln],f=t[Lo];let m=!!(0===n&&16&l);if(m||(m=!!(64&l&&0===n)),m||(m=!!(1024&l)),m||(m=!(null==f||!f.dirty||!Qe(f))),f&&(f.dirty=!1),t[Ln]&=-9217,m)Qg(a,t,a.template,t[li]);else if(8192&l){Yg(t,1);const y=a.components;null!==y&&Jg(t,y,1)}}function Jg(t,n,i){for(let a=0;a<n.length;a++)Kf(t,n[a],i)}function Du(t){var n;for(null===(n=t[Dr].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Ln]|=64;const i=js(t);if(Us(t)&&!i)return t;t=i}return null}class Md{get rootNodes(){const n=this._lView,i=n[gn];return Pd(i,n,i.firstChild,[])}constructor(n,i,a=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[li]}set context(n){this._lView[li]=n}get destroyed(){return!(256&~this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ai];if(Io(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Fc(n,a),ts(i,a))}this._attachedToViewContainer=!1}Ed(this._lView[gn],this._lView)}onDestroy(n){Bs(this._lView,n)}markForCheck(){Du(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){Sa(this._lView),this._lView[Ln]|=128}detectChanges(){this._lView[Ln]|=1024,Wf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Pg(this._lView[gn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new gt(902,!1);this._appRef=n,Sa(this._lView)}}let Jo=(()=>{class n{}return n.__NG_ELEMENT_ID__=C0,n})();const Bo=Jo,cu=class extends Bo{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const l=function uu(t,n,i,a){const l=ie(null);try{var f,m,y;const T=n.tView,ue=Td(t,T,i,4096&t[Ln]?4096:16,null,n,null,null,null!==(f=null==a?void 0:a.injector)&&void 0!==f?f:null,null!==(m=null==a?void 0:a.embeddedViewInjector)&&void 0!==m?m:null,null!==(y=null==a?void 0:a.dehydratedView)&&void 0!==y?y:null);ue[En]=t[n.index];const st=t[Ls];return null!==st&&(ue[Ls]=st.createEmbeddedView(T)),bh(T,ue,i),ue}finally{ie(l)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:a});return new Md(l)}};function C0(){return Xf(ii(),Xt())}function Xf(t,n){return 4&t.type?new cu(n,t,ed(t,n)):null}class op{}class m_{}class sp{}class ap{resolveComponentFactory(n){throw function Nh(t){const n=Error(`No component factory found for ${Un(t)}.`);return n.ngComponent=t,n}(n)}}let Oh=(()=>{class n{}return n.NULL=new ap,n})();class kd{}let R0=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function lp(){const t=Xt(),i=Ro(ii().index,t);return(At(i)?i:t)[an]}(),n})(),__=(()=>{var t;class n{}return(t=n).\u0275prov=or({token:t,providedIn:"root",factory:()=>null}),n})();const kh={},y_=new Set;function Oa(t){var n,i;y_.has(t)||(y_.add(t),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:t}}))}var jc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(jc||{});const Hc={destroy(){}};function cp(t,n){var i,a,l;!n&&function Pi(t){if(!gs())throw new gt(-203,!1)}();const f=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:Je(xa);if(!function Cu(t){return"browser"===(null!=t?t:Je(xa)).get(ru)}(f))return Hc;Oa("NgAfterNextRender");const m=f.get(Lh),y=null!==(a=m.handler)&&void 0!==a?a:m.handler=new Fh,T=null!==(l=null==n?void 0:n.phase)&&void 0!==l?l:jc.MixedReadWrite,j=()=>{y.unregister(ue),Q()},Q=f.get(nu).onDestroy(j),ue=oo(f,()=>new E_(T,()=>{j(),t()}));return y.register(ue),{destroy:j}}class E_{constructor(n,i){var a;this.phase=n,this.callbackFn=i,this.errorHandler=Je(tu,{optional:!0}),null===(a=Je(op,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.callbackFn()}catch(i){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(i)}}}class Fh{constructor(){this.executingCallbacks=!1,this.buckets={[jc.EarlyRead]:new Set,[jc.Write]:new Set,[jc.MixedReadWrite]:new Set,[jc.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const i of n)i.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Lh=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of a)l()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=or({token:t,providedIn:"root",factory:()=>new t}),n})();function Fl(t){return!!co(t)}function Ld(t,n,i){let a=i?t.styles:null,l=i?t.classes:null,f=0;if(null!==n)for(let m=0;m<n.length;m++){const y=n[m];"number"==typeof y?f=y:1==f?l=In(l,y):2==f&&(a=In(a,y+": "+n[++m]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=l:t.classesWithoutHost=l}class Vh extends Oh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=cr(n);return new Uh(i,this.ngModule)}}function C_(t){const n=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return n}class um{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=jt(a);const l=this.injector.get(n,kh,a);return l!==kh||i===kh?l:this.parentInjector.get(n,i,a)}}class Uh extends sp{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=C_(n.inputs);if(null!==i)for(const l of a)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return a}get outputs(){return C_(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Qs(t){return t.map(is).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,l){const f=ie(null);try{var y;let T=(l=l||this.ngModule)instanceof qo?l:null===(y=l)||void 0===y?void 0:y.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const j=T?new um(n,T):n,Q=j.get(kd,null);if(null===Q)throw new gt(407,!1);const ue=j.get(__,null),Pt={rendererFactory:Q,sanitizer:ue,inlineEffectRunner:null,afterRenderEventManager:j.get(Lh,null),changeDetectionScheduler:j.get(op,null)},Kt=Q.createRenderer(null,this.componentDef),dn=this.componentDef.selectors[0][0]||"div",yn=a?function Lg(t,n,i,a){const f=a.get(dd,!1)||i===zo.ShadowDom,m=t.selectRootElement(n,f);return function a0(t){Bf(t)}(m),m}(Kt,a,this.componentDef.encapsulation,j):vd(Kt,dn,function CE(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(dn));let Qt=512;this.componentDef.signals?Qt|=4096:this.componentDef.onPush||(Qt|=16);let br=null;null!==yn&&(br=Yu(yn,j,!0));const Yr=Ah(0,null,null,1,0,null,null,null,null,null,null),Mi=Td(null,Yr,null,Qt,null,null,Pt,Kt,j,null,br);let ya,hu;R(Mi);try{const Pu=this.componentDef;let Kh,oE=null;Pu.findHostDirectiveDefs?(Kh=[],oE=new Map,Pu.findHostDirectiveDefs(Pu,Kh,oE),Kh.push(Pu)):Kh=[Pu];const NM=function DE(t,n){const i=t[gn],a=Ar;return t[a]=n,Dd(i,a,2,"#host",null)}(Mi,yn),OM=function zc(t,n,i,a,l,f,m){const y=l[gn];!function Gc(t,n,i,a){for(const l of t)n.mergedAttrs=Ns(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(Ld(n,n.mergedAttrs,!0),null!==i&&kg(a,i,n))}(a,t,n,m);let T=null;null!==n&&(T=Yu(n,l[wo]));const j=f.rendererFactory.createRenderer(n,i);let Q=16;i.signals?Q=4096:i.onPush&&(Q=64);const ue=Td(l,Kv(i),null,Q,l[t.index],t,f,j,null,null,T);return y.firstCreatePass&&oc(y,t,a.length-1),bd(l,ue),l[t.index]=ue}(NM,yn,Pu,Kh,Mi,Pt,Kt);hu=vi(Yr,Ar),yn&&function Wc(t,n,i,a){if(a)uo(t,i,["ng-version","17.3.7"]);else{const{attrs:l,classes:f}=function fl(t){const n=[],i=[];let a=1,l=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===l?""!==f&&n.push(f,t[++a]):8===l&&i.push(f);else{if(!ve(l))break;l=f}a++}return{attrs:n,classes:i}}(n.selectors[0]);l&&uo(t,i,l),f&&f.length>0&&Lf(t,i,f.join(" "))}}(Kt,Pu,yn,a),void 0!==i&&function N0(t,n,i){const a=t.projection=[];for(let l=0;l<n.length;l++){const f=i[l];a.push(null!=f?Array.from(f):null)}}(hu,this.ngContentSelectors,i),ya=function $h(t,n,i,a,l,f){const m=ii(),y=l[gn],T=ho(m,l);Qv(y,l,m,i,null,a);for(let Q=0;Q<i.length;Q++)zs(va(l,y,m.directiveStart+Q,m),l);Ch(y,l,m),T&&zs(T,l);const j=va(l,y,m.directiveStart+m.componentOffset,m);if(t[li]=l[li]=j,null!==f)for(const Q of f)Q(j,n);return ic(y,m,l),j}(OM,Pu,Kh,oE,Mi,[O0]),bh(Yr,Mi,null)}finally{at()}return new TE(this.componentType,ya,ed(hu,Mi),Mi,hu)}finally{ie(f)}}}class TE extends m_{constructor(n,i,a,l,f){super(),this.location=a,this._rootLView=l,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Md(l,void 0,!1),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[n])){var f;if(null!==(f=this.previousInputValues)&&void 0!==f||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;wh(m[gn],m,l,n,i),this.previousInputValues.set(n,i),Du(Ro(this._tNode.index,m))}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function O0(){const t=ii();Xi(Xt()[gn],t)}let fp=(()=>{class n{}return n.__NG_ELEMENT_ID__=lc,n})();function lc(){return w_(ii(),Xt())}const k0=fp,T_=class extends k0{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){const n=$n(this._hostTNode,this._hostLView);if(ws(n)){const i=$u(n,this._hostLView),a=Vu(n);return new Fr(i[gn].data[a+8],i)}return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=D_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ai}createEmbeddedView(n,i,a){let l,f;"number"==typeof a?l=a:null!=a&&(l=a.index,f=a.injector);const y=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(y,l,Rd(this._hostTNode,null)),y}createComponent(n,i,a,l,f){var m,T;const j=n&&!function Ht(t){return"function"==typeof t}(n);let Q;if(j)Q=i;else{const yn=i||{};Q=yn.index,a=yn.injector,l=yn.projectableNodes,f=yn.environmentInjector||yn.ngModuleRef}const ue=j?n:new Uh(cr(n)),Ue=a||this.parentInjector;if(!f&&null==ue.ngModule){const Qt=(j?Ue:this.parentInjector).get(qo,null);Qt&&(f=Qt)}const st=cr(null!==(m=ue.componentType)&&void 0!==m?m:{}),Pt=(null==st?void 0:st.id,null),Kt=null!==(T=null==Pt?void 0:Pt.firstChild)&&void 0!==T?T:null,dn=ue.create(Ue,l,Kt,f);return this.insertImpl(dn.hostView,Q,Rd(this._hostTNode,Pt)),dn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,a){const l=n._lView;if(function zd(t){return Io(t[ai])}(l)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const T=l[ai],j=new T_(T,T[mi],T[ai]);j.detach(j.indexOf(n))}}const f=this._adjustIndex(i),m=this._lContainer;return Sh(m,l,f,a),n.attachToViewContainerRef(),Ps(cm(m),f,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=D_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Fc(this._lContainer,i);a&&(ts(cm(this._lContainer),i),Ed(a[gn],a))}detach(n){const i=this._adjustIndex(n,-1),a=Fc(this._lContainer,i);return a&&null!=ts(cm(this._lContainer),i)?new Md(a):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function D_(t){return t[8]}function cm(t){return t[8]||(t[8]=[])}function w_(t,n){let i;const a=n[t.index];return Io(a)?i=a:(i=Zv(a,n,null,t),n[t.index]=i,bd(n,i)),b_(i,n,t,a),new T_(i,t,n)}let b_=function R_(t,n,i,a){if(t[Vo])return;let l;l=8&i.type?Gr(a):function F0(t,n){const i=t[an],a=i.createComment(""),l=ho(n,t);return nc(i,vh(i,l),a,function Bv(t,n){return t.nextSibling(n)}(i,l),!1),a}(n,i),t[Vo]=l},dm=()=>!1;class P_{constructor(n){this.queryList=n,this.matches=null}clone(){return new P_(this.queryList)}setDirty(){this.queryList.setDirty()}}class fm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let f=0;f<a;f++){const m=i.getByIndex(f);l.push(this.queries[m.indexInDeclarationView].clone())}return new fm(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==_m(n,i).matches&&this.queries[i].setDirty()}}class M_{constructor(n,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof n?function O_(t){return t.split(",").map(n=>n.trim())}(n):n}}class pm{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const l=null!==i?i.length:0,f=this.getByIndex(a).embeddedTView(n,l);f&&(f.indexInDeclarationView=a,null!==i?i.push(f):i=[f])}return null!==i?new pm(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gm{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new gm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const f=a[l];this.matchTNodeWithReadOption(n,i,V0(i,f)),this.matchTNodeWithReadOption(n,i,Bu(i,n,f,!1,!1))}else a===Jo?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Bu(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Yd||l===fp||l===Jo&&4&i.type)this.addMatch(i.index,-2);else{const f=Bu(i,n,l,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function V0(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function bE(t,n,i,a){return-1===i?function wE(t,n){return 11&t.type?ed(t,n):4&t.type?Xf(t,n):null}(n,t):-2===i?function SE(t,n,i){return i===Yd?ed(n,t):i===Jo?Xf(n,t):i===fp?w_(n,t):void 0}(t,n,a):va(t,t[gn],i,n)}function U0(t,n,i,a){const l=n[Ls].queries[a];if(null===l.matches){const f=t.data,m=i.matches,y=[];for(let T=0;null!==m&&T<m.length;T+=2){const j=m[T];y.push(j<0?null:bE(n,f[j],m[T+1],i.metadata.read))}l.matches=y}return l.matches}function mm(t,n,i,a){const l=t.queries.getByIndex(i),f=l.matches;if(null!==f){const m=U0(t,n,l,i);for(let y=0;y<f.length;y+=2){const T=f[y];if(T>0)a.push(m[y/2]);else{const j=f[y+1],Q=n[-T];for(let ue=Ai;ue<Q.length;ue++){const Ue=Q[ue];Ue[En]===Ue[ai]&&mm(Ue[gn],Ue,j,a)}if(null!==Q[ea]){const ue=Q[ea];for(let Ue=0;Ue<ue.length;Ue++){const st=ue[Ue];mm(st[gn],st,j,a)}}}}}return a}function x_(t,n,i){var a;const l=new Kp(!(4&~i));return function Vg(t,n,i,a){const l=Kg(n);l.push(i),t.firstCreatePass&&Hf(t).push(a,l.length-1)}(t,n,l,l.destroy),(null!==(a=n[Ls])&&void 0!==a?a:n[Ls]=new fm).queries.push(new P_(l))-1}function bu(t,n,i){null===t.queries&&(t.queries=new pm),t.queries.track(new gm(n,i))}function _m(t,n){return t.queries.getByIndex(n)}function k_(t,n){const i=t[gn],a=_m(i,n);return a.crossesNgTemplate?mm(i,t,n,[]):U0(i,t,a,n)}function Q0(t){let n=function OE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let l;if(So(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new gt(903,!1);l=n.\u0275dir}if(l){if(i){a.push(l);const m=t;m.inputs=U_(t.inputs),m.inputTransforms=U_(t.inputTransforms),m.declaredInputs=U_(t.declaredInputs),m.outputs=U_(t.outputs);const y=l.hostBindings;y&&UD(t,y);const T=l.viewQuery,j=l.contentQueries;if(T&&LD(t,T),j&&VD(t,j),kD(t,l),_r(t.outputs,l.outputs),So(l)&&l.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let m=0;m<f.length;m++){const y=f[m];y&&y.ngInherit&&y(t),y===Q0&&(i=!1)}}n=Object.getPrototypeOf(n)}!function FD(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Ns(l.hostAttrs,i=Ns(i,l.hostAttrs))}}(a)}function kD(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const l=n.inputs[a];if(void 0!==l&&(t.inputs[a]=l,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var i;const f=Array.isArray(l)?l[0]:l;if(!n.inputTransforms.hasOwnProperty(f))continue;null!==(i=t.inputTransforms)&&void 0!==i||(t.inputTransforms={}),t.inputTransforms[f]=n.inputTransforms[f]}}}function U_(t){return t===Nr?{}:t===Sr?[]:t}function LD(t,n){const i=t.viewQuery;t.viewQuery=i?(a,l)=>{n(a,l),i(a,l)}:n}function VD(t,n){const i=t.contentQueries;t.contentQueries=i?(a,l,f)=>{n(a,l,f),i(a,l,f)}:n}function UD(t,n){const i=t.hostBindings;t.hostBindings=i?(a,l)=>{n(a,l),i(a,l)}:n}function VE(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const l=n[a];Array.isArray(l)&&l[3]&&(i[a]=l[3])}t.inputTransforms=i}class Bh{}class UE{}function GD(t,n){return new Y0(t,null!=n?n:null,[])}class Y0 extends Bh{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vh(this);const l=co(n);this._bootstrapComponents=qa(l.bootstrap),this._r3Injector=zp(n,i,[{provide:Bh,useValue:this},{provide:Oh,useValue:this.componentFactoryResolver},...a],Un(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class J0 extends UE{constructor(n){super(),this.moduleType=n}create(n){return new Y0(this.moduleType,n,[])}}class $E extends Bh{constructor(n){super(),this.componentFactoryResolver=new Vh(this),this.instance=null;const i=new da([...n.providers,{provide:Bh,useValue:this},{provide:Oh,useValue:this.componentFactoryResolver}],n.parent||Os(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Z0(t,n,i=null){return new $E({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let mp=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Hn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function B_(t){return!!eI(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function eI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function uc(t,n,i){return t[n]=i}function Is(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function vp(t,n,i,a,l,f,m,y){const T=Xt(),j=Kr(),Q=t+Ar,ue=j.firstCreatePass?function JD(t,n,i,a,l,f,m,y,T){const j=n.consts,Q=Dd(n,t,4,m||null,bi(j,y));Bg(n,i,Q,bi(j,T)),Xi(n,Q);const ue=Q.tView=Ah(2,Q,a,l,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,Q),ue.queries=n.queries.embeddedTView(Q)),Q}(Q,j,T,n,i,a,l,f,m):j.data[Q];Po(ue,!1);const Ue=BE(j,T,ue,t);Mr()&&Of(j,T,Ue,ue),zs(Ue,T);const st=Zv(Ue,T,Ue,ue);return T[Q]=st,bd(T,st),function S_(t,n,i){return dm(t,n,i)}(st,ue,T),El(ue)&&$f(j,T,ue),null!=m&&Eh(T,ue,y),vp}let BE=function jE(t,n,i,a){return qr(!0),n[an].createComment("")};function qE(...t){}class Gs{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),typeof Zone>"u")throw new gt(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&i,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function nw(){const t="function"==typeof Fn.requestAnimationFrame;let n=Fn[t?"requestAnimationFrame":"setTimeout"],i=Fn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function ow(t){const n=()=>{!function iw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rI(t),t.isCheckStableRunning=!0,nI(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rI(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,l,f,m,y)=>{if(function sw(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(y))return i.invokeTask(l,f,m,y);try{return XE(t),i.invokeTask(l,f,m,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),QE(t)}},onInvoke:(i,a,l,f,m,y,T)=>{try{return XE(t),i.invoke(l,f,m,y,T)}finally{t.shouldCoalesceRunChangeDetection&&n(),QE(t)}},onHasTask:(i,a,l,f)=>{i.hasTask(l,f),a===l&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,rI(t),nI(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,a,l,f)=>(i.handleError(l,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gs.isInAngularZone())throw new gt(909,!1)}static assertNotInAngularZone(){if(Gs.isInAngularZone())throw new gt(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,l){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+l,n,rw,qE,qE);try{return f.runTask(m,i,a)}finally{f.cancelTask(m)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const rw={};function nI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function XE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QE(t){t._nesting--,nI(t)}class YE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,l){return n.apply(i,a)}}function hI(t,n,i,a){const l=Xt();return Is(l,ia(),n)&&(Kr(),Xa(An(),l,t,n,i,a)),hI}function q_(t,n){return t<<17|n<<2}function $d(t){return t>>17&32767}function fI(t){return 2|t}function zh(t){return(131068&t)>>2}function pI(t,n){return-131069&t|n<<2}function gI(t){return 1|t}function CA(t,n,i,a){const l=t[i+1],f=null===n;let m=a?$d(l):zh(l),y=!1;for(;0!==m&&(!1===y||f);){const j=t[m+1];zw(t[m],n)&&(y=!0,t[m+1]=a?gI(j):fI(j)),m=a?$d(j):zh(j)}y&&(t[i+1]=a?fI(l):gI(l))}function zw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&lo(t,n)>=0}function mI(t,n,i){const a=Xt();return Is(a,ia(),n)&&function aa(t,n,i,a,l,f,m,y){const T=ho(n,i);let Q,j=n.inputs;!y&&null!=j&&(Q=j[a])?(wh(t,i,Q,a,l),Vs(n)&&function Xv(t,n){const i=Ro(n,t);16&i[Ln]||(i[Ln]|=64)}(i,n.index)):3&n.type&&(a=function d0(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=m?m(l,n.value||"",a):l,f.setProperty(T,a,l))}(Kr(),An(),a,t,n,a[an],i,!1),mI}function vI(t,n,i,a,l){const m=l?"class":"style";wh(t,i,n.inputs[m],m,a)}function _I(t,n,i){return Su(t,n,i,!1),_I}function yI(t,n){return Su(t,n,null,!0),yI}function Su(t,n,i,a){const l=Xt(),f=Kr(),m=function Hs(t){const n=fr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);f.firstUpdatePass&&function MA(t,n,i,a){const l=t.data;if(null===l[i+1]){const f=l[Jt()],m=function PA(t,n){return n>=t.expandoStartIndex}(t,i);(function kA(t,n){return!!(t.flags&(n?8:16))})(f,a)&&null===n&&!m&&(n=!1),n=function Zw(t,n,i,a){const l=function mc(t){const n=fr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(i=wm(i=II(null,t,n,i,a),n.attrs,a),f=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==l)if(i=II(l,t,n,i,a),null===f){let T=function eb(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==zh(a))return t[$d(a)]}(t,n,a);void 0!==T&&Array.isArray(T)&&(T=II(null,t,n,T[1],a),T=wm(T,n.attrs,a),function tb(t,n,i,a){t[$d(i?n.classBindings:n.styleBindings)]=a}(t,n,a,T))}else f=function nb(t,n,i){let a;const l=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<l;f++)a=wm(a,t[f].hostAttrs,i);return wm(a,n.attrs,i)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),i}(l,f,n,a),function jw(t,n,i,a,l,f){let m=f?n.classBindings:n.styleBindings,y=$d(m),T=zh(m);t[a]=i;let Q,j=!1;if(Array.isArray(i)?(Q=i[1],(null===Q||lo(i,Q)>0)&&(j=!0)):Q=i,l)if(0!==T){const Ue=$d(t[y+1]);t[a+1]=q_(Ue,y),0!==Ue&&(t[Ue+1]=pI(t[Ue+1],a)),t[y+1]=function $w(t,n){return 131071&t|n<<17}(t[y+1],a)}else t[a+1]=q_(y,0),0!==y&&(t[y+1]=pI(t[y+1],a)),y=a;else t[a+1]=q_(T,0),0===y?y=a:t[T+1]=pI(t[T+1],a),T=a;j&&(t[a+1]=fI(t[a+1])),CA(t,Q,a,!0),CA(t,Q,a,!1),function Hw(t,n,i,a,l){const f=l?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&lo(f,n)>=0&&(i[a+1]=gI(i[a+1]))}(n,Q,t,a,f),m=q_(y,T),f?n.classBindings=m:n.styleBindings=m}(l,f,n,i,m,a)}}(f,t,m,a),n!==xr&&Is(l,m,n)&&function NA(t,n,i,a,l,f,m,y){if(!(3&n.type))return;const T=t.data,j=T[y+1],Q=function Bw(t){return!(1&~t)}(j)?OA(T,n,i,l,zh(j),m):void 0;X_(Q)||(X_(f)||function Uw(t){return!(2&~t)}(j)&&(f=OA(T,null,i,l,y,m)),function Og(t,n,i,a,l){if(n)l?t.addClass(i,a):t.removeClass(i,a);else{let f=-1===a.indexOf("-")?void 0:Rf.DashCase;null==l?t.removeStyle(i,a,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=Rf.Important),t.setStyle(i,a,l,f))}}(a,m,Wr(Jt(),i),l,f))}(f,f.data[Jt()],l,l[an],t,l[m+1]=function sb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Un(su(t)))),t}(n,i),a,m)}function II(t,n,i,a,l){let f=null;const m=i.directiveEnd;let y=i.directiveStylingLast;for(-1===y?y=i.directiveStart:y++;y<m&&(f=n[y],a=wm(a,f.hostAttrs,l),f!==t);)y++;return null!==t&&(i.directiveStylingLast=y),a}function wm(t,n,i){const a=i?1:2;let l=-1;if(null!==n)for(let f=0;f<n.length;f++){const m=n[f];"number"==typeof m?l=m:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hi(t,m,!!i||n[++f]))}return void 0===t?null:t}function OA(t,n,i,a,l,f){const m=null===n;let y;for(;l>0;){const T=t[l],j=Array.isArray(T),Q=j?T[1]:T,ue=null===Q;let Ue=i[l+1];Ue===xr&&(Ue=ue?Sr:void 0);let st=ue?Ya(Ue,a):Q===a?Ue:void 0;if(j&&!X_(st)&&(st=Ya(T,a)),X_(st)&&(y=st,m))return y;const Pt=t[l+1];l=m?$d(Pt):zh(Pt)}if(null!==n){let T=f?n.residualClasses:n.residualStyles;null!=T&&(y=Ya(T,a))}return y}function X_(t){return void 0!==t}function Q_(t,n,i,a){const l=Xt(),f=Kr(),m=Ar+t,y=l[an],T=f.firstCreatePass?function Rb(t,n,i,a,l,f){const m=n.consts,T=Dd(n,t,2,a,bi(m,l));return Bg(n,i,T,bi(m,f)),null!==T.attrs&&Ld(T,T.attrs,!1),null!==T.mergedAttrs&&Ld(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(m,f,l,n,i,a):f.data[m],j=UA(f,l,T,y,n,t);l[m]=j;const Q=El(T);return Po(T,!0),kg(y,j,T),!function Am(t){return!(32&~t.flags)}(T)&&Mr()&&Of(f,l,j,T),0===function Ra(){return fr.lFrame.elementDepthCount}()&&zs(j,l),function Wl(){fr.lFrame.elementDepthCount++}(),Q&&($f(f,l,T),ic(f,T,l)),null!==a&&Eh(l,T),Q_}function Y_(){let t=ii();Rl()?Mo():(t=t.parent,Po(t,!1));const n=t;(function Fu(t){return fr.skipHydrationRootTNode===t})(n)&&function rl(){fr.skipHydrationRootTNode=null}(),function Ga(){fr.lFrame.elementDepthCount--}();const i=Kr();return i.firstCreatePass&&(Xi(i,t),ms(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Wd(t){return!!(8&t.flags)}(n)&&vI(i,n,Xt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function $p(t){return!!(16&t.flags)}(n)&&vI(i,n,Xt(),n.stylesWithoutHost,!1),Y_}function DI(t,n,i,a){return Q_(t,n,i,a),Y_(),DI}let UA=(t,n,i,a,l,f)=>(qr(!0),vd(a,l,function Si(){return fr.lFrame.currentNamespace}()));function J_(t,n,i){const a=Xt(),l=Kr(),f=t+Ar,m=l.firstCreatePass?function xb(t,n,i,a,l){const f=n.consts,m=bi(f,a),y=Dd(n,t,8,"ng-container",m);return null!==m&&Ld(y,m,!0),Bg(n,i,y,bi(f,l)),null!==n.queries&&n.queries.elementStart(n,y),y}(f,l,a,n,i):l.data[f];Po(m,!0);const y=$A(l,a,m,t);return a[f]=y,Mr()&&Of(l,a,y,m),zs(y,a),El(m)&&($f(l,a,m),ic(l,m,a)),null!=i&&Eh(a,m),J_}function Z_(){let t=ii();const n=Kr();return Rl()?Mo():(t=t.parent,Po(t,!1)),n.firstCreatePass&&(Xi(n,t),ms(t)&&n.queries.elementEnd(t)),Z_}function wI(t,n,i){return J_(t,n,i),Z_(),wI}let $A=(t,n,i,a)=>(qr(!0),au(n[an],""));function BA(){return Xt()}const Gh=void 0;var Fb=["en",[["a","p"],["AM","PM"],Gh],[["AM","PM"],Gh,Gh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gh,"{1} 'at' {0}",Gh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kb(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Op={};function bI(t){const n=function Lb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=GA(n);if(i)return i;const a=n.split("-")[0];if(i=GA(a),i)return i;if("en"===a)return Fb;throw new gt(701,!1)}function zA(t){return bI(t)[kp.PluralCase]}function GA(t){return t in Op||(Op[t]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[t]),Op[t]}var kp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(kp||{});const Fp="en-US";let WA=Fp;function PI(t,n,i,a){const l=Xt(),f=Kr(),m=ii();return function MI(t,n,i,a,l,f,m){const y=El(a),j=t.firstCreatePass&&Hf(t),Q=n[li],ue=Kg(n);let Ue=!0;if(3&a.type||m){const Kt=ho(a,n),dn=m?m(Kt):Kt,yn=ue.length,Qt=m?Yr=>m(Gr(Yr[a.index])):a.index;let br=null;if(!m&&y&&(br=function NS(t,n,i,a){const l=t.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const m=l[f];if(m===i&&l[f+1]===a){const y=n[dr],T=l[f+2];return y.length>T?y[T]:null}"string"==typeof m&&(f+=2)}return null}(t,n,l,a.index)),null!==br)(br.__ngLastListenerFn__||br).__ngNextListenerFn__=f,br.__ngLastListenerFn__=f,Ue=!1;else{f=IC(a,n,Q,f,!1);const Yr=i.listen(dn,l,f);ue.push(f,Yr),j&&j.push(l,Qt,yn,yn+1)}}else f=IC(a,n,Q,f,!1);const st=a.outputs;let Pt;if(Ue&&null!==st&&(Pt=st[l])){const Kt=Pt.length;if(Kt)for(let dn=0;dn<Kt;dn+=2){const Mi=n[Pt[dn]][Pt[dn+1]].subscribe(f),ya=ue.length;ue.push(f,Mi),j&&j.push(l,a.index,ya,-(ya+1))}}}(f,l,l[an],m,t,n,a),PI}function yC(t,n,i,a){const l=ie(null);try{return Ds(6,n,i),!1!==i(a)}catch(f){return Uc(t,f),!1}finally{Ds(7,n,i),ie(l)}}function IC(t,n,i,a,l){return function f(m){if(m===Function)return a;Du(t.componentOffset>-1?Ro(t.index,n):n);let T=yC(n,i,a,m),j=f.__ngNextListenerFn__;for(;j;)T=yC(n,i,j,m)&&T,j=j.__ngNextListenerFn__;return l&&!1===T&&m.preventDefault(),T}}function EC(t=1){return function Gt(t){return(fr.lFrame.contextLView=function no(t,n){for(;t>0;)n=n[yl],t--;return n}(t,fr.lFrame.contextLView))[li]}(t)}function OS(t,n){let i=null;const a=function en(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const f=n[l];if("*"!==f){if(null===a?xe(t,f,!0):No(a,f))return l}else i=l}return i}function AC(t){const n=Xt()[mr][mi];if(!n.projection){const a=n.projection=function Ms(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(t?t.length:1,null),l=a.slice();let f=n.child;for(;null!==f;){const m=t?OS(f,t):0;null!==m&&(l[m]?l[m].projectionNext=f:a[m]=f,l[m]=f),f=f.next}}}function CC(t,n=0,i){const a=Xt(),l=Kr(),f=Dd(l,Ar+t,16,null,i||null);null===f.projection&&(f.projection=n),Mo(),(!a[to]||ra())&&32&~f.flags&&function n0(t,n,i){Ff(n[an],0,n,i,mh(t,i,n),Mg(i.parent||n[mi],i,n))}(l,a,f)}function NC(t,n,i,a){!function N_(t,n,i,a){const l=Kr();if(l.firstCreatePass){const f=ii();bu(l,new M_(n,i,a),f.index),function B0(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),!(2&~i)&&(l.staticContentQueries=!0)}return x_(l,Xt(),i)}(t,n,i,a)}function OC(t,n,i){!function $0(t,n,i){const a=Kr();return a.firstCreatePass&&(bu(a,new M_(t,n,i),-1),!(2&~n)&&(a.staticViewQueries=!0)),x_(a,Xt(),n)}(t,n,i)}function kC(t){const n=Xt(),i=Kr(),a=Pl();Lu(a+1);const l=_m(i,a);if(t.dirty&&function vs(t){return!(4&~t[Ln])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)t.reset([]);else{const f=k_(n,a);t.reset(f,zm),t.notifyOnChanges()}return!0}return!1}function FC(){return function vm(t,n){return t[Ls].queries[n].queryList}(Xt(),Pl())}function WC(t,n=""){const i=Xt(),a=Kr(),l=t+Ar,f=a.firstCreatePass?Dd(a,l,1,n,null):a.data[l],m=KC(a,i,f,n,t);i[l]=m,Mr()&&Of(a,i,m,f),Po(f,!1)}let KC=(t,n,i,a,l)=>(qr(!0),function ph(t,n){return t.createText(n)}(n[an],a));function NI(t){return iy("",t,""),NI}function iy(t,n,i){const a=Xt(),l=function Dp(t,n,i,a){return Is(t,ia(),i)?n+nr(i)+a:xr}(a,t,n,i);return l!==xr&&function lu(t,n,i){const a=Wr(n,t);!function kc(t,n,i){t.setValue(n,i)}(t[an],a,i)}(a,Jt(),l),iy}function OI(t,n,i,a,l){if(t=it(t),Array.isArray(t))for(let f=0;f<t.length;f++)OI(t[f],n,i,a,l);else{const f=Kr(),m=Xt(),y=ii();let T=Ko(t)?t:it(t.provide);const j=el(t),Q=1048575&y.providerIndexes,ue=y.directiveStart,Ue=y.providerIndexes>>20;if(Ko(t)||!t.multi){const st=new Jl(j,l,rc),Pt=FI(T,n,l?Q:Q+Ue,ue);-1===Pt?(hr(pt(y,m),f,T),kI(f,t,n.length),n.push(T),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),i.push(st),m.push(st)):(i[Pt]=st,m[Pt]=st)}else{const st=FI(T,n,Q+Ue,ue),Pt=FI(T,n,Q,Q+Ue),dn=Pt>=0&&i[Pt];if(l&&!dn||!l&&!(st>=0&&i[st])){hr(pt(y,m),f,T);const yn=function tR(t,n,i,a,l){const f=new Jl(t,i,rc);return f.multi=[],f.index=n,f.componentProviders=0,iT(f,l,a&&!i),f}(l?eR:ZS,i.length,l,a,j);!l&&dn&&(i[Pt].providerFactory=yn),kI(f,t,n.length,0),n.push(T),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),i.push(yn),m.push(yn)}else kI(f,t,st>-1?st:Pt,iT(i[l?Pt:st],j,!l&&a));!l&&a&&dn&&i[Pt].componentProviders++}}}function kI(t,n,i,a){const l=Ko(n),f=function Va(t){return!!t.useClass}(n);if(l||f){const T=(f?it(n.useClass):n).prototype.ngOnDestroy;if(T){const j=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const Q=j.indexOf(i);-1===Q?j.push(i,[a,T]):j[Q+1].push(a,T)}else j.push(i,T)}}}function iT(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function FI(t,n,i,a){for(let l=i;l<a;l++)if(n[l]===t)return l;return-1}function ZS(t,n,i,a){return LI(this.multi,[])}function eR(t,n,i,a){const l=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=va(i,i[gn],this.providerFactory.index,a);f=y.slice(0,m),LI(l,f);for(let T=m;T<y.length;T++)f.push(y[T])}else f=[],LI(l,f);return f}function LI(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function oT(t,n=[]){return i=>{i.providersResolver=(a,l)=>function JS(t,n,i){const a=Kr();if(a.firstCreatePass){const l=So(t);OI(i,a.data,a.blueprint,l,!0),OI(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}let nR=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=ca(0,a.type),f=l.length>0?Z0([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=or({token:t,providedIn:"environment",factory:()=>new t(He(qo))}),n})();function sT(t){Oa("NgStandalone"),t.getStandaloneInjector=n=>n.get(nR).getOrCreateStandaloneInjector(t)}function lT(t,n,i){const a=cs()+t,l=Xt();return l[a]===xr?uc(l,a,i?n.call(i):n()):function Em(t,n){return t[n]}(l,a)}function uT(t,n,i,a){return function cT(t,n,i,a,l,f){const m=n+i;return Is(t,m,l)?uc(t,m+1,f?a.call(f,l):a(l)):Nm(t,m+1)}(Xt(),cs(),t,n,i,a)}function Nm(t,n){const i=t[n];return i===xr?void 0:i}function dT(t,n,i,a,l,f,m){const y=n+i;return function jh(t,n,i,a){const l=Is(t,n,i);return Is(t,n+1,a)||l}(t,y,l,f)?uc(t,y+2,m?a.call(m,l,f):a(l,f)):Nm(t,y+2)}function gT(t,n){const i=Kr();let a;const l=t+Ar;var f;i.firstCreatePass?(a=function fR(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[l]=a,a.onDestroy&&(null!==(f=i.destroyHooks)&&void 0!==f?f:i.destroyHooks=[]).push(l,a.onDestroy)):a=i.data[l];const m=a.factory||(a.factory=Ri(a.type)),T=ji(rc);try{const j=_c(!1),Q=m();return _c(j),function VS(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,Xt(),l,Q),Q}finally{ji(T)}}function mT(t,n,i,a){const l=t+Ar,f=Xt(),m=function Dl(t,n){return t[n]}(f,l);return function Om(t,n){return t[gn].data[n].pure}(f,l)?dT(f,cs(),n,m.transform,i,a,m):m.transform(i,a)}class xT{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const $R=new xT("17.3.7");let NT=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const LT=new Nt(""),VT=new Nt("");let zI,hP=(()=>{var t;class n{constructor(a,l,f){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,zI||(function fP(t){zI=t}(f),f.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,f){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a()},l)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:f})}whenStable(a,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,f){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(He(Gs),He(UT),He(VT))},t.\u0275prov=or({token:t,factory:t.\u0275fac}),n})(),UT=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){var f,m;return null!==(f=null===(m=zI)||void 0===m?void 0:m.findTestabilityInTree(this,a,l))&&void 0!==f?f:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function GI(t){return!!t&&"function"==typeof t.then}function $T(t){return!!t&&"function"==typeof t.subscribe}const BT=new Nt("");let WI=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f}),this.appInits=null!==(a=Je(BT,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const m=f();if(GI(m))a.push(m);else if($T(m)){const y=new Promise((T,j)=>{m.subscribe({complete:T,error:j})});a.push(y)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(f=>{this.reject(f)}),0===a.length&&l(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const KI=new Nt("");function zT(t,n){return Array.isArray(n)?n.reduce(zT,t):{...t,...n}}let Bd=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Je(ef),this.afterRenderEffectManager=Je(Lh),this.externalTestViews=new Set,this.beforeRender=new vn.B,this.afterTick=new vn.B,this.componentTypes=[],this.components=[],this.isStable=Je(mp).hasPendingTasks.pipe((0,tr.T)(a=>!a)),this._injector=Je(qo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const f=a instanceof sp;if(!this._injector.get(WI).done)throw!f&&io(a),new gt(405,!1);let y;y=f?a:this._injector.get(Oh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const T=function pP(t){return t.isBoundToModule}(y)?void 0:this._injector.get(Bh),Q=y.create(xa.NULL,[],l||y.selector,T),ue=Q.location.nativeElement,Ue=Q.injector.get(LT,null);return null==Ue||Ue.registerApplication(ue),Q.onDestroy(()=>{this.detachView(Q.hostView),ly(this.components,Q),null==Ue||Ue.unregisterApplication(ue)}),this._loadComponent(Q),Q}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new gt(101,!1);const l=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(f){this.internalErrorHandler(f)}finally{this.afterTick.next(),this._runningTick=!1,ie(l)}}detectChangesInAttachedViews(a){let l=0;const f=this.afterRenderEffectManager;for(;;){if(l===i_)throw new gt(103,!1);if(a){const m=0===l;this.beforeRender.next(m);for(let{_lView:y,notifyErrorHandler:T}of this._views)mP(y,m,T)}if(l++,f.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>qI(m))&&(f.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>qI(m))))break}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;ly(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(KI,[]);[...this._bootstrapListeners,...l].forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ly(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new gt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function ly(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function mP(t,n,i){!n&&!qI(t)||function vP(t,n,i){let a;i?(a=0,t[Ln]|=1024):a=64&t[Ln]?0:1,Wf(t,n,a)}(t,i,n)}function qI(t){return $s(t)}class _P{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let yP=(()=>{var t;class n{compileModuleSync(a){return new J0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),m=qa(co(a).declarations).reduce((y,T)=>{const j=cr(T);return j&&y.push(new Uh(j)),y},[]);return new _P(l,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),AP=(()=>{var t;class n{constructor(){this.zone=Je(Gs),this.applicationRef=Je(Bd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function CP(){const t=Je(Gs),n=Je(tu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let DP=(()=>{var t;class n{constructor(){this.subscription=new Bn.yU,this.initialized=!1,this.zone=Je(Gs),this.pendingTasks=Je(mp)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gs.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;Gs.assertInAngularZone(),null!==(l=a)&&void 0!==l||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const uy=new Nt("",{providedIn:"root",factory:()=>Je(uy,On.Optional|On.SkipSelf)||function wP(){return typeof $localize<"u"&&$localize.locale||Fp}()}),bP=new Nt("",{providedIn:"root",factory:()=>"USD"}),XI=new Nt("");let qT=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const f=function aw(t="zone.js",n){return"noop"===t?new YE:"zone.js"===t?new Gs(n):t}(null==l?void 0:l.ngZone,function KT(t){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==t?void 0:t.runCoalescing)&&void 0!==i&&i}}({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}));return f.run(()=>{const m=function WD(t,n,i){return new Y0(t,n,i)}(a.moduleType,this.injector,function WT(t){return[{provide:Gs,useFactory:t},{provide:Ea,multi:!0,useFactory:()=>{const n=Je(AP,{optional:!0});return()=>n.initialize()}},{provide:Ea,multi:!0,useFactory:()=>{const n=Je(DP);return()=>{n.initialize()}}},{provide:ef,useFactory:CP}]}(()=>f)),y=m.injector.get(tu,null);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:j=>{y.handleError(j)}});m.onDestroy(()=>{ly(this._modules,m),T.unsubscribe()})}),function HT(t,n,i){try{const a=i();return GI(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(y,f,()=>{const T=m.injector.get(WI);return T.runInitializers(),T.donePromise.then(()=>(function KA(t){"string"==typeof t&&(WA=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(uy,Fp)||Fp),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,l=[]){const f=zT({},l);return function EP(t,n,i){const a=new J0(i);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(a){const l=a.injector.get(Bd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new gt(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new gt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(XI,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(He(xa))},t.\u0275prov=or({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),jd=null;const XT=new Nt("");function QT(t,n,i=[]){const a=`Platform: ${n}`,l=new Nt(a);return(f=[])=>{let m=QI();if(!m||m.injector.get(XT,!1)){const y=[...i,...f,{provide:l,useValue:!0}];t?t(y):function RP(t){if(jd&&!jd.get(XT,!1))throw new gt(400,!1);(function jT(){!function Ne(t){mn=t}(()=>{throw new gt(600,!1)})})(),jd=t;const n=t.get(qT);(function JT(t){const n=t.get(Xu,null);null==n||n.forEach(i=>i())})(t)}(function YT(t=[],n){return xa.create({name:n,providers:[{provide:Ua,useValue:"platform"},{provide:XI,useValue:new Set([()=>jd=null])},...t]})}(y,a))}return function PP(t){const n=QI();if(!n)throw new gt(401,!1);return n}()}}function QI(){var t,n;return null!==(t=null===(n=jd)||void 0===n?void 0:n.get(qT))&&void 0!==t?t:null}function xP(){return!1}function NP(){}let eD=(()=>{class n{}return n.__NG_ELEMENT_ID__=OP,n})();function OP(t){return function kP(t,n,i){if(Vs(t)&&!i){const a=Ro(t.index,n);return new Md(a,a)}return 47&t.type?new Md(n[mr],n):null}(ii(),Xt(),!(16&~t))}class iD{constructor(){}supports(n){return B_(n)}create(n){return new $P(n)}}const UP=(t,n)=>n;class $P{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||UP}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,l=0,f=null;for(;i||a;){const m=!a||i&&i.currentIndex<sD(a,l,f)?i:a,y=sD(m,l,f),T=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(i=i._next,null==m.previousIndex)l++;else{f||(f=[]);const j=y-l,Q=T-l;if(j!=Q){for(let Ue=0;Ue<j;Ue++){const st=Ue<f.length?f[Ue]:f[Ue]=0,Pt=st+Ue;Q<=Pt&&Pt<j&&(f[Ue]=st+1)}f[m.previousIndex]=Q-j}}y!==T&&n(m,y,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!B_(n))throw new gt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,f,m,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)f=n[y],m=this._trackByFn(y,f),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,f,m,y)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,m,y),a=!0),i=i._next}else l=0,function QD(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,y=>{m=this._trackByFn(l,y),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,y,m,l)),Object.is(i.item,y)||this._addIdentityChange(i,y)):(i=this._mismatch(i,y,m,l),a=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,l){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,l)):n=this._addAfter(new BP(i,a),f,l),n}_verifyReinsertion(n,i,a,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,f=n._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new oD),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class BP{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class oD{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new jP,this.map.set(i,a)),a.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sD(t,n,i){const a=t.previousIndex;if(null===a)return a;let l=0;return i&&a<i.length&&(l=i[a]),a+n+l}class aD{constructor(){}supports(n){return n instanceof Map||eI(n)}create(){return new HP}}class HP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||eI(n)))throw new gt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(l,a);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const f=l._prev,m=l._next;return f&&(f._next=m),m&&(m._prev=f),l._next=null,l._prev=null,l}const a=new zP(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class zP{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lD(){return new tE([new iD])}let tE=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,l){if(null!=l){const f=l.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:l=>n.create(a,l||lD()),deps:[[n,new si,new jn]]}}find(a){const l=this.factories.find(f=>f.supports(a));if(null!=l)return l;throw new gt(901,!1)}}return(t=n).\u0275prov=or({token:t,providedIn:"root",factory:lD}),n})();function uD(){return new nE([new aD])}let nE=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,l){if(l){const f=l.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:l=>n.create(a,l||uD()),deps:[[n,new si,new jn]]}}find(a){const l=this.factories.find(f=>f.supports(a));if(l)return l;throw new gt(901,!1)}}return(t=n).\u0275prov=or({token:t,providedIn:"root",factory:uD}),n})();const KP=QT(null,"core",[]);let qP=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(He(Bd))},t.\u0275mod=Ul({type:t}),t.\u0275inj=Ti({}),n})();function CM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function DM(t){const n=ie(null);try{return t()}finally{ie(n)}}function MM(t,n){const i=cr(t),a=n.elementInjector||Os();return new Uh(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function xM(t){const n=cr(t);if(!n)return null;const i=new Uh(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9253:(hn,ft,N)=>{"use strict";N.d(ft,{BM:()=>nt,Gt:()=>ke,bf:()=>We,e7:()=>ie,iB:()=>ge,rx:()=>Ze,uP:()=>_e});var c=N(9842),d=N(4438),V=N(5407),Re=N(7935);const Y=["ngOnDestroy"],ke=(et,Qe,tt,Se={})=>new Proxy(et,{get:(ze,je)=>tt.runOutsideAngular(()=>{var dt;if(et[je])return null!=Se&&null!==(dt=Se.spy)&&void 0!==dt&&dt.get&&Se.spy.get(je,et[je]),et[je];if(Y.indexOf(je)>-1)return()=>{};const Ct=Qe.toPromise().then(we=>{const Dt=null==we?void 0:we[je];return"function"==typeof Dt?Dt.bind(we):null!=Dt&&Dt.then?Dt.then(kt=>tt.run(()=>kt)):tt.run(()=>Dt)});return new Proxy(()=>{},{get:(we,Dt)=>Ct[Dt],apply:(we,Dt,kt)=>Ct.then(rn=>{var fn;const Wt=null==rn?void 0:rn(...kt);return null!=Se&&null!==(fn=Se.spy)&&void 0!==fn&&fn.apply&&Se.spy.apply(je,kt,Wt),Wt})})})}),ie=(et,Qe)=>{Qe.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Se=>{Object.defineProperty(et.prototype,Se,Object.getOwnPropertyDescriptor(tt.prototype||tt,Se))})})};class Ce{constructor(Qe){return Qe}}const Ze=new d.nKC("angularfire2.app.options"),_e=new d.nKC("angularfire2.app.name");function ge(et,Qe,tt){const ze="object"==typeof tt&&tt||{};ze.name=ze.name||"string"==typeof tt&&tt||"[DEFAULT]";const dt=Re.A.apps.filter(Ct=>Ct&&Ct.name===ze.name)[0]||Qe.runOutsideAngular(()=>Re.A.initializeApp(et,ze));try{if(JSON.stringify(et)!==JSON.stringify(dt.options)){const Ct=!!module.hot;Ke("error",`${dt.name} Firebase App already initialized with different options${Ct?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ce(dt)}const Ke=(et,...Qe)=>{(0,d.naY)()&&typeof console<"u"&&console[et](...Qe)},qe={provide:Ce,useFactory:ge,deps:[Ze,d.SKi,[new d.Xx1,_e]]};let We=(()=>{var et;class Qe{static initializeApp(Se,ze){return{ngModule:Qe,providers:[{provide:Ze,useValue:Se},{provide:_e,useValue:ze}]}}constructor(Se){Re.A.registerVersion("angularfire",V.xv.full,"core"),Re.A.registerVersion("angularfire",V.xv.full,"app-compat"),Re.A.registerVersion("angular",d.xvI.full,Se.toString())}}return et=Qe,(0,c.A)(Qe,"\u0275fac",function(Se){return new(Se||et)(d.KVO(d.Agw))}),(0,c.A)(Qe,"\u0275mod",d.$C({type:et})),(0,c.A)(Qe,"\u0275inj",d.G2t({providers:[qe]})),Qe})();function nt(et,Qe,tt,Se,ze){const[,je,dt]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===et)||[];if(je)return function ct(et,Qe){try{return et.toString()===Qe.toString()}catch{return et===Qe}}(ze,dt)||(Xe("error",`${Qe} was already initialized on the ${tt} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:ze,was:dt})),je;{const Ct=Se();return globalThis.\u0275AngularfireInstanceCache.push([et,Ct,ze]),Ct}}const ot=typeof module<"u"&&!!module.hot,Xe=(et,...Qe)=>{(0,d.naY)()&&typeof console<"u"&&console[et](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(hn,ft,N)=>{"use strict";N.d(ft,{xv:()=>nt,U0:()=>rn,Oe:()=>Dt,u0:()=>je,Jv:()=>et,CA:()=>Xe,lR:()=>ot,S3:()=>mn});var c=N(9842),d=N(4438),V=N(2214),Re=N(6780),ke=N(9687);const Ce=new class ie extends ke.q{}(class Y extends Re.R{constructor(Ne,J){super(Ne,J),this.scheduler=Ne,this.work=J}schedule(Ne,J=0){return J>0?super.schedule(Ne,J):(this.delay=J,this.state=Ne,this.scheduler.flush(this),this)}execute(Ne,J){return J>0||this.closed?super.execute(Ne,J):this._execute(Ne,J)}requestAsyncId(Ne,J,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(Ne,J,Z):(Ne.flush(this),0)}});var _e=N(3236),ge=N(1985),Ke=N(8141),qe=N(941),We=N(6745);const nt=new d.RxE("ANGULARFIRE2_VERSION");function ot(mt,Ne,J){if(Ne){if(1===Ne.length)return Ne[0];const pe=Ne.filter(se=>se.app===J);if(1===pe.length)return pe[0]}return J.container.getProvider(mt).getImmediate({optional:!0})}const Xe=(mt,Ne)=>{const J=Ne?[Ne]:(0,V.Dk)(),Z=[];return J.forEach(ce=>{ce.container.getProvider(mt).instances.forEach(se=>{Z.includes(se)||Z.push(se)})}),Z};class et{constructor(){return Xe(Qe)}}const Qe="app-check";function tt(){}class Se{constructor(Ne,J=Ce){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=Ne,this.delegate=J}now(){return this.delegate.now()}schedule(Ne,J,Z){const ce=this.zone;return this.delegate.schedule(function(se){ce.runGuarded(()=>{Ne.apply(this,[se])})},J,Z)}}class ze{constructor(Ne){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=Ne}call(Ne,J){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tt,{},tt,tt)),J.pipe((0,Ke.M)({next:Z,complete:Z,error:Z})).subscribe(Ne).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{var mt;class Ne{constructor(Z){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Se(Zone.current)),this.insideAngular=Z.run(()=>new Se(Zone.current,_e.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return mt=Ne,(0,c.A)(Ne,"\u0275fac",function(Z){return new(Z||mt)(d.KVO(d.SKi))}),(0,c.A)(Ne,"\u0275prov",d.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})),Ne})();function dt(){const mt=globalThis.\u0275AngularFireScheduler;if(!mt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return mt}function we(mt){return dt().ngZone.run(()=>mt())}function Dt(mt){return mt.pipe((0,qe.Q)(dt().outsideAngular))}function rn(mt){return function fn(mt){return function(J){return(J=J.lift(new ze(mt.ngZone))).pipe((0,We._)(mt.outsideAngular),(0,qe.Q)(mt.insideAngular))}}(dt())(mt)}const Wt=(mt,Ne)=>function(){const Z=arguments;return Ne&&setTimeout(()=>{"scheduled"===Ne.state&&Ne.invoke()},10),we(()=>mt.apply(void 0,Z))},mn=(mt,Ne)=>function(){let J;const Z=arguments;for(let pe=0;pe<arguments.length;pe++)"function"==typeof Z[pe]&&(Ne&&(J||(J=we(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tt,{},tt,tt)))),Z[pe]=Wt(Z[pe],J));const ce=function Ct(mt){return dt().ngZone.runOutsideAngular(()=>mt())}(()=>mt.apply(this,Z));if(!Ne){if(ce instanceof ge.c){const pe=dt();return ce.pipe((0,We._)(pe.outsideAngular),(0,qe.Q)(pe.insideAngular))}return we(()=>ce)}return ce instanceof ge.c?ce.pipe(rn):ce instanceof Promise?we(()=>new Promise((pe,se)=>ce.then(Me=>we(()=>pe(Me)),Me=>we(()=>se(Me))))):"function"==typeof ce&&J?function(){return setTimeout(()=>{J&&"scheduled"===J.state&&J.invoke()},10),ce.apply(this,arguments)}:we(()=>ce)}},4341:(hn,ft,N)=>{"use strict";N.d(ft,{MJ:()=>Di,l_:()=>me,gE:()=>Lt,j4:()=>Ae,YN:()=>Ja,zX:()=>ts,VZ:()=>Ia,cz:()=>je,kq:()=>nt,vO:()=>Rt,BC:()=>Xn,cb:()=>un,X1:()=>Aa,k0:()=>we,qT:()=>_o});var c=N(4438),d=N(177),V=N(8455),Re=N(1985),Y=N(3073),ke=N(8750),ie=N(3794),Ce=N(4360),Ze=N(6450),_e=N(8496),Ke=N(6354);let qe=(()=>{var W;class k{constructor(z,xe){this._renderer=z,this._elementRef=xe,this.onChange=en=>{},this.onTouched=()=>{}}setProperty(z,xe){this._renderer.setProperty(this._elementRef.nativeElement,z,xe)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return(W=k).\u0275fac=function(z){return new(z||W)(c.rXU(c.sFG),c.rXU(c.aKT))},W.\u0275dir=c.FsC({type:W}),k})(),We=(()=>{var W;class k extends qe{}return(W=k).\u0275fac=(()=>{let ve;return function(xe){return(ve||(ve=c.xGo(W)))(xe||W)}})(),W.\u0275dir=c.FsC({type:W,features:[c.Vt3]}),k})();const nt=new c.nKC(""),Xe={provide:nt,useExisting:(0,c.Rfq)(()=>tt),multi:!0},Qe=new c.nKC("");let tt=(()=>{var W;class k extends qe{constructor(z,xe,en){super(z,xe),this._compositionMode=en,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function et(){const W=(0,d.QT)()?(0,d.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(z){this.setProperty("value",null==z?"":z)}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return(W=k).\u0275fac=function(z){return new(z||W)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Qe,8))},W.\u0275dir=c.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,xe){1&z&&c.bIt("input",function(sr){return xe._handleInput(sr.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(sr){return xe._compositionEnd(sr.target.value)})},features:[c.Jv_([Xe]),c.Vt3]}),k})();function Se(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function ze(W){return null!=W&&"number"==typeof W.length}const je=new c.nKC(""),dt=new c.nKC(""),Ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min(k){return Dt(k)}static max(k){return kt(k)}static required(k){return function rn(W){return Se(W.value)?{required:!0}:null}(k)}static requiredTrue(k){return function fn(W){return!0===W.value?null:{required:!0}}(k)}static email(k){return function Wt(W){return Se(W.value)||Ct.test(W.value)?null:{email:!0}}(k)}static minLength(k){return function mn(W){return k=>Se(k.value)||!ze(k.value)?null:k.value.length<W?{minlength:{requiredLength:W,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function mt(W){return k=>ze(k.value)&&k.value.length>W?{maxlength:{requiredLength:W,actualLength:k.value.length}}:null}(k)}static pattern(k){return function Ne(W){if(!W)return J;let k,ve;return"string"==typeof W?(ve="","^"!==W.charAt(0)&&(ve+="^"),ve+=W,"$"!==W.charAt(W.length-1)&&(ve+="$"),k=new RegExp(ve)):(ve=W.toString(),k=W),z=>{if(Se(z.value))return null;const xe=z.value;return k.test(xe)?null:{pattern:{requiredPattern:ve,actualValue:xe}}}}(k)}static nullValidator(k){return null}static compose(k){return lt(k)}static composeAsync(k){return wt(k)}}function Dt(W){return k=>{if(Se(k.value)||Se(W))return null;const ve=parseFloat(k.value);return!isNaN(ve)&&ve<W?{min:{min:W,actual:k.value}}:null}}function kt(W){return k=>{if(Se(k.value)||Se(W))return null;const ve=parseFloat(k.value);return!isNaN(ve)&&ve>W?{max:{max:W,actual:k.value}}:null}}function J(W){return null}function Z(W){return null!=W}function ce(W){return(0,c.jNT)(W)?(0,V.H)(W):W}function pe(W){let k={};return W.forEach(ve=>{k=null!=ve?{...k,...ve}:k}),0===Object.keys(k).length?null:k}function se(W,k){return k.map(ve=>ve(W))}function Pe(W){return W.map(k=>function Me(W){return!W.validate}(k)?k:ve=>k.validate(ve))}function lt(W){if(!W)return null;const k=W.filter(Z);return 0==k.length?null:function(ve){return pe(se(ve,k))}}function Mt(W){return null!=W?lt(Pe(W)):null}function wt(W){if(!W)return null;const k=W.filter(Z);return 0==k.length?null:function(ve){return function ge(...W){const k=(0,ie.ms)(W),{args:ve,keys:z}=(0,Y.D)(W),xe=new Re.c(en=>{const{length:sr}=ve;if(!sr)return void en.complete();const gr=new Array(sr);let No=sr,rs=sr;for(let is=0;is<sr;is++){let Qs=!1;(0,ke.Tg)(ve[is]).subscribe((0,Ce._)(en,fl=>{Qs||(Qs=!0,rs--),gr[is]=fl},()=>No--,void 0,()=>{(!No||!Qs)&&(rs||en.next(z?(0,_e.e)(z,gr):gr),en.complete())}))}});return k?xe.pipe((0,Ze.I)(k)):xe}(se(ve,k).map(ce)).pipe((0,Ke.T)(pe))}}function bt(W){return null!=W?wt(Pe(W)):null}function nn(W,k){return null===W?[k]:Array.isArray(W)?[...W,k]:[W,k]}function vn(W){return W._rawValidators}function Bn(W){return W._rawAsyncValidators}function Hn(W){return W?Array.isArray(W)?W:[W]:[]}function tr(W,k){return Array.isArray(W)?W.includes(k):W===k}function Vn(W,k){const ve=Hn(k);return Hn(W).forEach(xe=>{tr(ve,xe)||ve.push(xe)}),ve}function zn(W,k){return Hn(k).filter(ve=>!tr(W,ve))}class gt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k=void 0){this.control&&this.control.reset(k)}hasError(k,ve){return!!this.control&&this.control.hasError(k,ve)}getError(k,ve){return this.control?this.control.getError(k,ve):null}}class Be extends gt{get formDirective(){return null}get path(){return null}}class Rt extends gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn{constructor(k){this._cd=k}get isTouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.touched)}get isUntouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.untouched)}get isPristine(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pristine)}get isDirty(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.dirty)}get isValid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.valid)}get isInvalid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.invalid)}get isPending(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pending)}get isSubmitted(){var k;return!(null===(k=this._cd)||void 0===k||!k.submitted)}}let Xn=(()=>{var W;class k extends pn{constructor(z){super(z)}}return(W=k).\u0275fac=function(z){return new(z||W)(c.rXU(Rt,2))},W.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,xe){2&z&&c.AVh("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[c.Vt3]}),k})(),un=(()=>{var W;class k extends pn{constructor(z){super(z)}}return(W=k).\u0275fac=function(z){return new(z||W)(c.rXU(Be,10))},W.\u0275dir=c.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(z,xe){2&z&&c.AVh("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)("ng-submitted",xe.isSubmitted)},features:[c.Vt3]}),k})();const it="VALID",Ye="INVALID",yt="PENDING",rt="DISABLED";function de(W){return(B(W)?W.validators:W)||null}function ne(W,k){return(B(k)?k.asyncValidators:W)||null}function B(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class ut{constructor(k,ve){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(ve)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===it}get invalid(){return this.status===Ye}get pending(){return this.status==yt}get disabled(){return this.status===rt}get enabled(){return this.status!==rt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(Vn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Vn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(zn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(zn(k,this._rawAsyncValidators))}hasValidator(k){return tr(this._rawValidators,k)}hasAsyncValidator(k){return tr(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ve=>{ve.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ve=>{ve.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=yt,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const ve=this._parentMarkedDirty(k.onlySelf);this.status=rt,this.errors=null,this._forEachChild(z=>{z.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:ve}),this._onDisabledChange.forEach(z=>z(!0))}enable(k={}){const ve=this._parentMarkedDirty(k.onlySelf);this.status=it,this._forEachChild(z=>{z.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:ve}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===it||this.status===yt)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(ve=>ve._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rt:it}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=yt,this._hasOwnPendingAsyncValidator=!0;const ve=ce(this.asyncValidator(this));this._asyncValidationSubscription=ve.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,ve={}){this.errors=k,this._updateControlsErrors(!1!==ve.emitEvent)}get(k){let ve=k;return null==ve||(Array.isArray(ve)||(ve=ve.split(".")),0===ve.length)?null:ve.reduce((z,xe)=>z&&z._find(xe),this)}getError(k,ve){const z=ve?this.get(ve):this;return z&&z.errors?z.errors[k]:null}hasError(k,ve){return!!this.getError(k,ve)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?rt:this.errors?Ye:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yt)?yt:this._anyControlsHaveStatus(Ye)?Ye:it}_anyControlsHaveStatus(k){return this._anyControls(ve=>ve.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){B(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function Ee(W){return Array.isArray(W)?Mt(W):W||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function F(W){return Array.isArray(W)?bt(W):W||null}(this._rawAsyncValidators)}}class Lt extends ut{constructor(k,ve,z){super(de(ve),ne(z,ve)),this.controls=k,this._initObservables(),this._setUpdateStrategy(ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,ve){return this.controls[k]?this.controls[k]:(this.controls[k]=ve,ve.setParent(this),ve._registerOnCollectionChange(this._onCollectionChange),ve)}addControl(k,ve,z={}){this.registerControl(k,ve),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(k,ve={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:ve.emitEvent}),this._onCollectionChange()}setControl(k,ve,z={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],ve&&this.registerControl(k,ve),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,ve={}){(function Le(W,k,ve){W._forEachChild((z,xe)=>{if(void 0===ve[xe])throw new c.wOt(1002,"")})})(this,0,k),Object.keys(k).forEach(z=>{(function Ie(W,k,ve){const z=W.controls;if(!(k?Object.keys(z):z).length)throw new c.wOt(1e3,"");if(!z[ve])throw new c.wOt(1001,"")})(this,!0,z),this.controls[z].setValue(k[z],{onlySelf:!0,emitEvent:ve.emitEvent})}),this.updateValueAndValidity(ve)}patchValue(k,ve={}){null!=k&&(Object.keys(k).forEach(z=>{const xe=this.controls[z];xe&&xe.patchValue(k[z],{onlySelf:!0,emitEvent:ve.emitEvent})}),this.updateValueAndValidity(ve))}reset(k={},ve={}){this._forEachChild((z,xe)=>{z.reset(k?k[xe]:null,{onlySelf:!0,emitEvent:ve.emitEvent})}),this._updatePristine(ve),this._updateTouched(ve),this.updateValueAndValidity(ve)}getRawValue(){return this._reduceChildren({},(k,ve,z)=>(k[z]=ve.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(ve,z)=>!!z._syncPendingControls()||ve);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(ve=>{const z=this.controls[ve];z&&k(z,ve)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[ve,z]of Object.entries(this.controls))if(this.contains(ve)&&k(z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ve,z,xe)=>((z.enabled||this.disabled)&&(ve[xe]=z.value),ve))}_reduceChildren(k,ve){let z=k;return this._forEachChild((xe,en)=>{z=ve(z,xe,en)}),z}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}const lr=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Lr}),Lr="always";function Jr(W,k,ve=Lr){var z,xe;xt(W,k),k.valueAccessor.writeValue(W.value),(W.disabled||"always"===ve)&&(null===(z=(xe=k.valueAccessor).setDisabledState)||void 0===z||z.call(xe,W.disabled)),function he(W,k){k.valueAccessor.registerOnChange(ve=>{W._pendingValue=ve,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Ge(W,k)})}(W,k),function re(W,k){const ve=(z,xe)=>{k.valueAccessor.writeValue(z),xe&&k.viewToModelUpdate(z)};W.registerOnChange(ve),k._registerOnDestroy(()=>{W._unregisterOnChange(ve)})}(W,k),function ae(W,k){k.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Ge(W,k),"submit"!==W.updateOn&&W.markAsTouched()})}(W,k),function Ti(W,k){if(k.valueAccessor.setDisabledState){const ve=z=>{k.valueAccessor.setDisabledState(z)};W.registerOnDisabledChange(ve),k._registerOnDestroy(()=>{W._unregisterOnDisabledChange(ve)})}}(W,k)}function or(W,k,ve=!0){const z=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(z),k.valueAccessor.registerOnTouched(z)),_t(W,k),W&&(k._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Br(W,k){W.forEach(ve=>{ve.registerOnValidatorChange&&ve.registerOnValidatorChange(k)})}function xt(W,k){const ve=vn(W);null!==k.validator?W.setValidators(nn(ve,k.validator)):"function"==typeof ve&&W.setValidators([ve]);const z=Bn(W);null!==k.asyncValidator?W.setAsyncValidators(nn(z,k.asyncValidator)):"function"==typeof z&&W.setAsyncValidators([z]);const xe=()=>W.updateValueAndValidity();Br(k._rawValidators,xe),Br(k._rawAsyncValidators,xe)}function _t(W,k){let ve=!1;if(null!==W){if(null!==k.validator){const xe=vn(W);if(Array.isArray(xe)&&xe.length>0){const en=xe.filter(sr=>sr!==k.validator);en.length!==xe.length&&(ve=!0,W.setValidators(en))}}if(null!==k.asyncValidator){const xe=Bn(W);if(Array.isArray(xe)&&xe.length>0){const en=xe.filter(sr=>sr!==k.asyncValidator);en.length!==xe.length&&(ve=!0,W.setAsyncValidators(en))}}}const z=()=>{};return Br(k._rawValidators,z),Br(k._rawAsyncValidators,z),ve}function Ge(W,k){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function so(W,k){const ve=W.indexOf(k);ve>-1&&W.splice(ve,1)}function Bi(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}Promise.resolve();const Di=class extends ut{constructor(k=null,ve,z){super(de(ve),ne(z,ve)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(ve),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B(ve)&&(ve.nonNullable||ve.initialValueIsDefault)&&(this.defaultValue=Bi(k)?k.value:k)}setValue(k,ve={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==ve.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==ve.emitViewToModelChange)),this.updateValueAndValidity(ve)}patchValue(k,ve={}){this.setValue(k,ve)}reset(k=this.defaultValue,ve={}){this._applyFormState(k),this.markAsPristine(ve),this.markAsUntouched(ve),this.setValue(this.value,ve),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){so(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){so(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){Bi(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}};Promise.resolve();let _o=(()=>{var W;class k{}return(W=k).\u0275fac=function(z){return new(z||W)},W.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const S=new c.nKC(""),X={provide:Rt,useExisting:(0,c.Rfq)(()=>me)};let me=(()=>{var W;class k extends Rt{set isDisabled(z){}constructor(z,xe,en,sr,gr){super(),this._ngModelWarningConfig=sr,this.callSetDisabledState=gr,this.update=new c.bkB,this._ngModelWarningSent=!1,this._setValidators(z),this._setAsyncValidators(xe),this.valueAccessor=function Jn(W,k){if(!k)return null;let ve,z,xe;return Array.isArray(k),k.forEach(en=>{en.constructor===tt?ve=en:function Ii(W){return Object.getPrototypeOf(W.constructor)===We}(en)?z=en:xe=en}),xe||z||ve||null}(0,en)}ngOnChanges(z){if(this._isControlChanged(z)){const xe=z.form.previousValue;xe&&or(xe,this,!1),Jr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function di(W,k){if(!W.hasOwnProperty("model"))return!1;const ve=W.model;return!!ve.isFirstChange()||!Object.is(k,ve.currentValue)})(z,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&or(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_isControlChanged(z){return z.hasOwnProperty("form")}}return(W=k)._ngModelWarningSentOnce=!1,W.\u0275fac=function(z){return new(z||W)(c.rXU(je,10),c.rXU(dt,10),c.rXU(nt,10),c.rXU(S,8),c.rXU(lr,8))},W.\u0275dir=c.FsC({type:W,selectors:[["","formControl",""]],inputs:{form:[c.Mj6.None,"formControl","form"],isDisabled:[c.Mj6.None,"disabled","isDisabled"],model:[c.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c.Jv_([X]),c.Vt3,c.OA$]}),k})();const x={provide:Be,useExisting:(0,c.Rfq)(()=>Ae)};let Ae=(()=>{var W;class k extends Be{constructor(z,xe,en){super(),this.callSetDisabledState=en,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(z),this._setAsyncValidators(xe)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_t(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const xe=this.form.get(z.path);return Jr(xe,z,this.callSetDisabledState),xe.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),xe}getControl(z){return this.form.get(z.path)}removeControl(z){or(z.control||null,z,!1),function Fi(W,k){const ve=W.indexOf(k);ve>-1&&W.splice(ve,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,xe){this.form.get(z.path).setValue(xe)}onSubmit(z){var xe;return this.submitted=!0,function pi(W,k){W._syncPendingControls(),k.forEach(ve=>{const z=ve.control;"submit"===z.updateOn&&z._pendingChange&&(ve.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(z),"dialog"===(null==z||null===(xe=z.target)||void 0===xe?void 0:xe.method)}onReset(){this.resetForm()}resetForm(z=void 0){this.form.reset(z),this.submitted=!1}_updateDomValue(){this.directives.forEach(z=>{const xe=z.control,en=this.form.get(z.path);xe!==en&&(or(xe||null,z),(W=>W instanceof Di)(en)&&(Jr(en,z,this.callSetDisabledState),z.control=en))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const xe=this.form.get(z.path);(function te(W,k){xt(W,k)})(xe,z),xe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const xe=this.form.get(z.path);xe&&function Ve(W,k){return _t(W,k)}(xe,z)&&xe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xt(this.form,this),this._oldForm&&_t(this._oldForm,this)}_checkFormPresent(){}}return(W=k).\u0275fac=function(z){return new(z||W)(c.rXU(je,10),c.rXU(dt,10),c.rXU(lr,8))},W.\u0275dir=c.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(z,xe){1&z&&c.bIt("submit",function(sr){return xe.onSubmit(sr)})("reset",function(){return xe.onReset()})},inputs:{form:[c.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([x]),c.Vt3,c.OA$]}),k})();function jr(W){return"number"==typeof W?W:parseFloat(W)}let Ji=(()=>{var W;class k{constructor(){this._validator=J}ngOnChanges(z){if(this.inputName in z){const xe=this.normalizeInput(z[this.inputName].currentValue);this._enabled=this.enabled(xe),this._validator=this._enabled?this.createValidator(xe):J,this._onChange&&this._onChange()}}validate(z){return this._validator(z)}registerOnValidatorChange(z){this._onChange=z}enabled(z){return null!=z}}return(W=k).\u0275fac=function(z){return new(z||W)},W.\u0275dir=c.FsC({type:W,features:[c.OA$]}),k})();const Ps={provide:je,useExisting:(0,c.Rfq)(()=>ts),multi:!0};let ts=(()=>{var W;class k extends Ji{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=z=>jr(z),this.createValidator=z=>kt(z)}}return(W=k).\u0275fac=(()=>{let ve;return function(xe){return(ve||(ve=c.xGo(W)))(xe||W)}})(),W.\u0275dir=c.FsC({type:W,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(z,xe){2&z&&c.BMQ("max",xe._enabled?xe.max:null)},inputs:{max:"max"},features:[c.Jv_([Ps]),c.Vt3]}),k})();const Ms={provide:je,useExisting:(0,c.Rfq)(()=>Ia),multi:!0};let Ia=(()=>{var W;class k extends Ji{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=z=>jr(z),this.createValidator=z=>Dt(z)}}return(W=k).\u0275fac=(()=>{let ve;return function(xe){return(ve||(ve=c.xGo(W)))(xe||W)}})(),W.\u0275dir=c.FsC({type:W,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(z,xe){2&z&&c.BMQ("min",xe._enabled?xe.min:null)},inputs:{min:"min"},features:[c.Jv_([Ms]),c.Vt3]}),k})(),zo=(()=>{var W;class k{}return(W=k).\u0275fac=function(z){return new(z||W)},W.\u0275mod=c.$C({type:W}),W.\u0275inj=c.G2t({}),k})(),Ja=(()=>{var W;class k{static withConfig(z){var xe;return{ngModule:k,providers:[{provide:lr,useValue:null!==(xe=z.callSetDisabledState)&&void 0!==xe?xe:Lr}]}}}return(W=k).\u0275fac=function(z){return new(z||W)},W.\u0275mod=c.$C({type:W}),W.\u0275inj=c.G2t({imports:[zo]}),k})(),Aa=(()=>{var W;class k{static withConfig(z){var xe,en;return{ngModule:k,providers:[{provide:S,useValue:null!==(xe=z.warnOnNgModelWithFormControl)&&void 0!==xe?xe:"always"},{provide:lr,useValue:null!==(en=z.callSetDisabledState)&&void 0!==en?en:Lr}]}}}return(W=k).\u0275fac=function(z){return new(z||W)},W.\u0275mod=c.$C({type:W}),W.\u0275inj=c.G2t({imports:[zo]}),k})()},345:(hn,ft,N)=>{"use strict";N.d(ft,{Bb:()=>Hn,hE:()=>zn,sG:()=>bt});var c=N(4438),d=N(177);class V extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Re extends V{static makeCurrent(){(0,d.ZD)(new Re)}onAndCancel(Ye,yt,rt){return Ye.addEventListener(yt,rt),()=>{Ye.removeEventListener(yt,rt)}}dispatchEvent(Ye,yt){Ye.dispatchEvent(yt)}remove(Ye){Ye.parentNode&&Ye.parentNode.removeChild(Ye)}createElement(Ye,yt){return(yt=yt||this.getDefaultDocument()).createElement(Ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ye){return Ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ye){return Ye instanceof DocumentFragment}getGlobalEventTarget(Ye,yt){return"window"===yt?window:"document"===yt?Ye:"body"===yt?Ye.body:null}getBaseHref(Ye){const yt=function ke(){return Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null}();return null==yt?null:function ie(it){return new URL(it,document.baseURI).pathname}(yt)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ye){return(0,d._b)(document.cookie,Ye)}}let Y=null,Ze=(()=>{var it;class Ye{build(){return new XMLHttpRequest}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac}),Ye})();const _e=new c.nKC("");let ge=(()=>{var it;class Ye{constructor(rt,de){this._zone=de,this._eventNameToPlugin=new Map,rt.forEach(Ee=>{Ee.manager=this}),this._plugins=rt.slice().reverse()}addEventListener(rt,de,Ee){return this._findPluginFor(de).addEventListener(rt,de,Ee)}getZone(){return this._zone}_findPluginFor(rt){let de=this._eventNameToPlugin.get(rt);if(de)return de;if(de=this._plugins.find(ne=>ne.supports(rt)),!de)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(rt,de),de}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(_e),c.KVO(c.SKi))},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac}),Ye})();class Ke{constructor(Ye){this._doc=Ye}}const qe="ng-app-id";let We=(()=>{var it;class Ye{constructor(rt,de,Ee,ne={}){this.doc=rt,this.appId=de,this.nonce=Ee,this.platformId=ne,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(ne),this.resetHostNodes()}addStyles(rt){for(const de of rt)1===this.changeUsageCount(de,1)&&this.onStyleAdded(de)}removeStyles(rt){for(const de of rt)this.changeUsageCount(de,-1)<=0&&this.onStyleRemoved(de)}ngOnDestroy(){const rt=this.styleNodesInDOM;rt&&(rt.forEach(de=>de.remove()),rt.clear());for(const de of this.getAllStyles())this.onStyleRemoved(de);this.resetHostNodes()}addHost(rt){this.hostNodes.add(rt);for(const de of this.getAllStyles())this.addStyleToHost(rt,de)}removeHost(rt){this.hostNodes.delete(rt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(rt){for(const de of this.hostNodes)this.addStyleToHost(de,rt)}onStyleRemoved(rt){var de;const Ee=this.styleRef;null===(de=Ee.get(rt))||void 0===de||null===(de=de.elements)||void 0===de||de.forEach(ne=>ne.remove()),Ee.delete(rt)}collectServerRenderedStyles(){var rt;const de=null===(rt=this.doc.head)||void 0===rt?void 0:rt.querySelectorAll(`style[${qe}="${this.appId}"]`);if(null!=de&&de.length){const Ee=new Map;return de.forEach(ne=>{null!=ne.textContent&&Ee.set(ne.textContent,ne)}),Ee}return null}changeUsageCount(rt,de){const Ee=this.styleRef;if(Ee.has(rt)){const ne=Ee.get(rt);return ne.usage+=de,ne.usage}return Ee.set(rt,{usage:de,elements:[]}),de}getStyleElement(rt,de){const Ee=this.styleNodesInDOM,ne=null==Ee?void 0:Ee.get(de);if((null==ne?void 0:ne.parentNode)===rt)return Ee.delete(de),ne.removeAttribute(qe),ne;{const F=this.doc.createElement("style");return this.nonce&&F.setAttribute("nonce",this.nonce),F.textContent=de,this.platformIsServer&&F.setAttribute(qe,this.appId),rt.appendChild(F),F}}addStyleToHost(rt,de){var Ee;const ne=this.getStyleElement(rt,de),F=this.styleRef,B=null===(Ee=F.get(de))||void 0===Ee?void 0:Ee.elements;B?B.push(ne):F.set(de,{elements:[ne],usage:1})}resetHostNodes(){const rt=this.hostNodes;rt.clear(),rt.add(this.doc.head)}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(d.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac}),Ye})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g,tt=new c.nKC("",{providedIn:"root",factory:()=>!0});function je(it,Ye){return Ye.map(yt=>yt.replace(ct,it))}let dt=(()=>{var it;class Ye{constructor(rt,de,Ee,ne,F,B,Ie,Le=null){this.eventManager=rt,this.sharedStylesHost=de,this.appId=Ee,this.removeStylesOnCompDestroy=ne,this.doc=F,this.platformId=B,this.ngZone=Ie,this.nonce=Le,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(B),this.defaultRenderer=new Ct(rt,F,Ie,this.platformIsServer)}createRenderer(rt,de){if(!rt||!de)return this.defaultRenderer;this.platformIsServer&&de.encapsulation===c.gXe.ShadowDom&&(de={...de,encapsulation:c.gXe.Emulated});const Ee=this.getOrCreateRenderer(rt,de);return Ee instanceof Wt?Ee.applyToHost(rt):Ee instanceof fn&&Ee.applyStyles(),Ee}getOrCreateRenderer(rt,de){const Ee=this.rendererByCompId;let ne=Ee.get(de.id);if(!ne){const F=this.doc,B=this.ngZone,Ie=this.eventManager,Le=this.sharedStylesHost,ut=this.removeStylesOnCompDestroy,Lt=this.platformIsServer;switch(de.encapsulation){case c.gXe.Emulated:ne=new Wt(Ie,Le,de,this.appId,ut,F,B,Lt);break;case c.gXe.ShadowDom:return new rn(Ie,Le,rt,de,F,B,this.nonce,Lt);default:ne=new fn(Ie,Le,de,ut,F,B,Lt)}Ee.set(de.id,ne)}return ne}ngOnDestroy(){this.rendererByCompId.clear()}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(ge),c.KVO(We),c.KVO(c.sZ2),c.KVO(tt),c.KVO(d.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac}),Ye})();class Ct{constructor(Ye,yt,rt,de){this.eventManager=Ye,this.doc=yt,this.ngZone=rt,this.platformIsServer=de,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ye,yt){return yt?this.doc.createElementNS(nt[yt]||yt,Ye):this.doc.createElement(Ye)}createComment(Ye){return this.doc.createComment(Ye)}createText(Ye){return this.doc.createTextNode(Ye)}appendChild(Ye,yt){(kt(Ye)?Ye.content:Ye).appendChild(yt)}insertBefore(Ye,yt,rt){Ye&&(kt(Ye)?Ye.content:Ye).insertBefore(yt,rt)}removeChild(Ye,yt){Ye&&Ye.removeChild(yt)}selectRootElement(Ye,yt){let rt="string"==typeof Ye?this.doc.querySelector(Ye):Ye;if(!rt)throw new c.wOt(-5104,!1);return yt||(rt.textContent=""),rt}parentNode(Ye){return Ye.parentNode}nextSibling(Ye){return Ye.nextSibling}setAttribute(Ye,yt,rt,de){if(de){yt=de+":"+yt;const Ee=nt[de];Ee?Ye.setAttributeNS(Ee,yt,rt):Ye.setAttribute(yt,rt)}else Ye.setAttribute(yt,rt)}removeAttribute(Ye,yt,rt){if(rt){const de=nt[rt];de?Ye.removeAttributeNS(de,yt):Ye.removeAttribute(`${rt}:${yt}`)}else Ye.removeAttribute(yt)}addClass(Ye,yt){Ye.classList.add(yt)}removeClass(Ye,yt){Ye.classList.remove(yt)}setStyle(Ye,yt,rt,de){de&(c.czy.DashCase|c.czy.Important)?Ye.style.setProperty(yt,rt,de&c.czy.Important?"important":""):Ye.style[yt]=rt}removeStyle(Ye,yt,rt){rt&c.czy.DashCase?Ye.style.removeProperty(yt):Ye.style[yt]=""}setProperty(Ye,yt,rt){null!=Ye&&(Ye[yt]=rt)}setValue(Ye,yt){Ye.nodeValue=yt}listen(Ye,yt,rt){if("string"==typeof Ye&&!(Ye=(0,d.QT)().getGlobalEventTarget(this.doc,Ye)))throw new Error(`Unsupported event target ${Ye} for event ${yt}`);return this.eventManager.addEventListener(Ye,yt,this.decoratePreventDefault(rt))}decoratePreventDefault(Ye){return yt=>{if("__ngUnwrap__"===yt)return Ye;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ye(yt)):Ye(yt))&&yt.preventDefault()}}}function kt(it){return"TEMPLATE"===it.tagName&&void 0!==it.content}class rn extends Ct{constructor(Ye,yt,rt,de,Ee,ne,F,B){super(Ye,Ee,ne,B),this.sharedStylesHost=yt,this.hostEl=rt,this.shadowRoot=rt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ie=je(de.id,de.styles);for(const Le of Ie){const ut=document.createElement("style");F&&ut.setAttribute("nonce",F),ut.textContent=Le,this.shadowRoot.appendChild(ut)}}nodeOrShadowRoot(Ye){return Ye===this.hostEl?this.shadowRoot:Ye}appendChild(Ye,yt){return super.appendChild(this.nodeOrShadowRoot(Ye),yt)}insertBefore(Ye,yt,rt){return super.insertBefore(this.nodeOrShadowRoot(Ye),yt,rt)}removeChild(Ye,yt){return super.removeChild(this.nodeOrShadowRoot(Ye),yt)}parentNode(Ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ye)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fn extends Ct{constructor(Ye,yt,rt,de,Ee,ne,F,B){super(Ye,Ee,ne,F),this.sharedStylesHost=yt,this.removeStylesOnCompDestroy=de,this.styles=B?je(B,rt.styles):rt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wt extends fn{constructor(Ye,yt,rt,de,Ee,ne,F,B){const Ie=de+"-"+rt.id;super(Ye,yt,rt,Ee,ne,F,B,Ie),this.contentAttr=function Se(it){return"_ngcontent-%COMP%".replace(ct,it)}(Ie),this.hostAttr=function ze(it){return"_nghost-%COMP%".replace(ct,it)}(Ie)}applyToHost(Ye){this.applyStyles(),this.setAttribute(Ye,this.hostAttr,"")}createElement(Ye,yt){const rt=super.createElement(Ye,yt);return super.setAttribute(rt,this.contentAttr,""),rt}}let mn=(()=>{var it;class Ye extends Ke{constructor(rt){super(rt)}supports(rt){return!0}addEventListener(rt,de,Ee){return rt.addEventListener(de,Ee,!1),()=>this.removeEventListener(rt,de,Ee)}removeEventListener(rt,de,Ee){return rt.removeEventListener(de,Ee)}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(d.qQ))},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac}),Ye})();const mt=["alt","control","meta","shift"],Ne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J={alt:it=>it.altKey,control:it=>it.ctrlKey,meta:it=>it.metaKey,shift:it=>it.shiftKey};let Z=(()=>{var it;class Ye extends Ke{constructor(rt){super(rt)}supports(rt){return null!=Ye.parseEventName(rt)}addEventListener(rt,de,Ee){const ne=Ye.parseEventName(de),F=Ye.eventCallback(ne.fullKey,Ee,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(rt,ne.domEventName,F))}static parseEventName(rt){const de=rt.toLowerCase().split("."),Ee=de.shift();if(0===de.length||"keydown"!==Ee&&"keyup"!==Ee)return null;const ne=Ye._normalizeKey(de.pop());let F="",B=de.indexOf("code");if(B>-1&&(de.splice(B,1),F="code."),mt.forEach(Le=>{const ut=de.indexOf(Le);ut>-1&&(de.splice(ut,1),F+=Le+".")}),F+=ne,0!=de.length||0===ne.length)return null;const Ie={};return Ie.domEventName=Ee,Ie.fullKey=F,Ie}static matchEventFullKeyCode(rt,de){let Ee=Ne[rt.key]||rt.key,ne="";return de.indexOf("code.")>-1&&(Ee=rt.code,ne="code."),!(null==Ee||!Ee)&&(Ee=Ee.toLowerCase()," "===Ee?Ee="space":"."===Ee&&(Ee="dot"),mt.forEach(F=>{F!==Ee&&(0,J[F])(rt)&&(ne+=F+".")}),ne+=Ee,ne===de)}static eventCallback(rt,de,Ee){return ne=>{Ye.matchEventFullKeyCode(ne,rt)&&Ee.runGuarded(()=>de(ne))}}static _normalizeKey(rt){return"esc"===rt?"escape":rt}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(d.qQ))},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac}),Ye})();const bt=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:d.AJ},{provide:c.PLl,useValue:function Pe(){Re.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Mt(){return(0,c.TL$)(document),document},deps:[]}]),nn=new c.nKC(""),vn=[{provide:c.e01,useClass:class Ce{addToWindow(Ye){c.JZv.getAngularTestability=(rt,de=!0)=>{const Ee=Ye.findTestabilityInTree(rt,de);if(null==Ee)throw new c.wOt(5103,!1);return Ee},c.JZv.getAllAngularTestabilities=()=>Ye.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>Ye.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(rt=>{const de=c.JZv.getAllAngularTestabilities();let Ee=de.length;const ne=function(){Ee--,0==Ee&&rt()};de.forEach(F=>{F.whenStable(ne)})})}findTestabilityInTree(Ye,yt,rt){if(null==yt)return null;const de=Ye.getTestability(yt);return null!=de?de:rt?(0,d.QT)().isShadowRoot(yt)?this.findTestabilityInTree(Ye,yt.host,!0):this.findTestabilityInTree(Ye,yt.parentElement,!0):null}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],Bn=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function lt(){return new c.zcH},deps:[]},{provide:_e,useClass:mn,multi:!0,deps:[d.qQ,c.SKi,c.Agw]},{provide:_e,useClass:Z,multi:!0,deps:[d.qQ]},dt,We,ge,{provide:c._9s,useExisting:dt},{provide:d.N0,useClass:Ze,deps:[]},[]];let Hn=(()=>{var it;class Ye{constructor(rt){}static withServerTransition(rt){return{ngModule:Ye,providers:[{provide:c.sZ2,useValue:rt.appId}]}}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(nn,12))},it.\u0275mod=c.$C({type:it}),it.\u0275inj=c.G2t({providers:[...Bn,...vn],imports:[d.MD,c.Hbi]}),Ye})(),zn=(()=>{var it;class Ye{constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}}return(it=Ye).\u0275fac=function(rt){return new(rt||it)(c.KVO(d.qQ))},it.\u0275prov=c.jDH({token:it,factory:it.\u0275fac,providedIn:"root"}),Ye})()},4964:(hn,ft,N)=>{"use strict";N.d(ft,{nX:()=>Ae,Zp:()=>ao,Z:()=>Oo,Xk:()=>bt,Kp:()=>wo,b:()=>Et,Ix:()=>Ln,Wk:()=>mi,wQ:()=>to,iI:()=>So,Sd:()=>Sn});var c=N(467),d=N(4438),V=N(1985),Re=N(8071),ke=N(8455),ie=N(7673),Ce=N(4412),Ze=N(4572),_e=N(9350),ge=N(8793),Ke=N(8750);function qe(I){return new V.c(D=>{(0,Ke.Tg)(I()).subscribe(D)})}var We=N(1203);function nt(I,D){const M=(0,Re.T)(I)?I:()=>I,w=L=>L.error(M());return new V.c(D?L=>D.schedule(w,0,L):w)}var ct=N(983),ot=N(8359),Xe=N(9974),et=N(4360);function Qe(){return(0,Xe.N)((I,D)=>{let M=null;I._refCount++;const w=(0,et._)(D,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(M=null);const L=I._connection,le=M;M=null,L&&(!le||L===le)&&L.unsubscribe(),D.unsubscribe()});I.subscribe(w),w.closed||(M=I.connect())})}class tt extends V.c{constructor(D,M){super(),this.source=D,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,Xe.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ot.yU;const M=this.getSubject();D.add(this.source.subscribe((0,et._)(M,void 0,()=>{this._teardown(),M.complete()},w=>{this._teardown(),M.error(w)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ot.yU.EMPTY)}return D}refCount(){return Qe()(this)}}var Se=N(1413),ze=N(177),je=N(6354),dt=N(5558),Ct=N(6697),we=N(9172),Dt=N(5964),kt=N(1397),rn=N(1594);function fn(I,D){return(0,Re.T)(D)?(0,kt.Z)(I,D,1):(0,kt.Z)(I,1)}var Wt=N(8141);function mn(I){return(0,Xe.N)((D,M)=>{let le,w=null,L=!1;w=D.subscribe((0,et._)(M,void 0,void 0,Te=>{le=(0,Ke.Tg)(I(Te,mn(I)(D))),w?(w.unsubscribe(),w=null,le.subscribe(M)):L=!0})),L&&(w.unsubscribe(),w=null,le.subscribe(M))})}var mt=N(2816),Ne=N(9901);function J(I){return I<=0?()=>ct.w:(0,Xe.N)((D,M)=>{let w=[];D.subscribe((0,et._)(M,L=>{w.push(L),I<w.length&&w.shift()},()=>{for(const L of w)M.next(L);M.complete()},void 0,()=>{w=null}))})}var Z=N(3774),ce=N(3669);function Me(I){return(0,Xe.N)((D,M)=>{try{D.subscribe(M)}finally{M.add(I)}})}var Pe=N(5343),Mt=N(6365),wt=N(345);const bt="primary",nn=Symbol("RouteTitle");class vn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const M=this.params[D];return Array.isArray(M)?M[0]:M}return null}getAll(D){if(this.has(D)){const M=this.params[D];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Bn(I){return new vn(I)}function Hn(I,D,M){const w=M.path.split("/");if(w.length>I.length||"full"===M.pathMatch&&(D.hasChildren()||w.length<I.length))return null;const L={};for(let le=0;le<w.length;le++){const Te=w[le],Tt=I[le];if(Te.startsWith(":"))L[Te.substring(1)]=Tt;else if(Te!==Tt.path)return null}return{consumed:I.slice(0,w.length),posParams:L}}function Vn(I,D){const M=I?zn(I):void 0,w=D?zn(D):void 0;if(!M||!w||M.length!=w.length)return!1;let L;for(let le=0;le<M.length;le++)if(L=M[le],!gt(I[L],D[L]))return!1;return!0}function zn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function gt(I,D){if(Array.isArray(I)&&Array.isArray(D)){if(I.length!==D.length)return!1;const M=[...I].sort(),w=[...D].sort();return M.every((L,le)=>w[le]===L)}return I===D}function Be(I){return I.length>0?I[I.length-1]:null}function Rt(I){return function Y(I){return!!I&&(I instanceof V.c||(0,Re.T)(I.lift)&&(0,Re.T)(I.subscribe))}(I)?I:(0,d.jNT)(I)?(0,ke.H)(Promise.resolve(I)):(0,ie.of)(I)}const pn={exact:function un(I,D,M){if(!pr(I.segments,D.segments)||!qn(I.segments,D.segments,M)||I.numberOfChildren!==D.numberOfChildren)return!1;for(const w in D.children)if(!I.children[w]||!un(I.children[w],D.children[w],M))return!1;return!0},subset:Nn},Wn={exact:function Xn(I,D){return Vn(I,D)},subset:function Zt(I,D){return Object.keys(D).length<=Object.keys(I).length&&Object.keys(D).every(M=>gt(I[M],D[M]))},ignored:()=>!0};function ur(I,D,M){return pn[M.paths](I.root,D.root,M.matrixParams)&&Wn[M.queryParams](I.queryParams,D.queryParams)&&!("exact"===M.fragment&&I.fragment!==D.fragment)}function Nn(I,D,M){return ir(I,D,D.segments,M)}function ir(I,D,M,w){if(I.segments.length>M.length){const L=I.segments.slice(0,M.length);return!(!pr(L,M)||D.hasChildren()||!qn(L,M,w))}if(I.segments.length===M.length){if(!pr(I.segments,M)||!qn(I.segments,M,w))return!1;for(const L in D.children)if(!I.children[L]||!Nn(I.children[L],D.children[L],w))return!1;return!0}{const L=M.slice(0,I.segments.length),le=M.slice(I.segments.length);return!!(pr(I.segments,L)&&qn(I.segments,L,w)&&I.children[bt])&&ir(I.children[bt],D,le,w)}}function qn(I,D,M){return D.every((w,L)=>Wn[M](I[L].parameters,w.parameters))}class Qn{constructor(D=new Rn([],{}),M={},w=null){this.root=D,this.queryParams=M,this.fragment=w}get queryParamMap(){var D;return null!==(D=this._queryParamMap)&&void 0!==D||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return Un.serialize(this)}}class Rn{constructor(D,M){this.segments=D,this.children=M,this.parent=null,Object.values(M).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return In(this)}}class Er{constructor(D,M){this.path=D,this.parameters=M}get parameterMap(){var D;return null!==(D=this._parameterMap)&&void 0!==D||(this._parameterMap=Bn(this.parameters)),this._parameterMap}toString(){return de(this)}}function pr(I,D){return I.length===D.length&&I.every((M,w)=>M.path===D[w].path)}let Sn=(()=>{var I;class D{}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:()=>new _r,providedIn:"root"}),D})();class _r{parse(D){const M=new zt(D);return new Qn(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(D){const M=`/${Pn(D.root,!0)}`,w=function ne(I){const D=Object.entries(I).map(([M,w])=>Array.isArray(w)?w.map(L=>`${Tr(M)}=${Tr(L)}`).join("&"):`${Tr(M)}=${Tr(w)}`).filter(M=>M);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${M}${w}${"string"==typeof D.fragment?`#${function it(I){return encodeURI(I)}(D.fragment)}`:""}`}}const Un=new _r;function In(I){return I.segments.map(D=>de(D)).join("/")}function Pn(I,D){if(!I.hasChildren())return In(I);if(D){const M=I.children[bt]?Pn(I.children[bt],!1):"",w=[];return Object.entries(I.children).forEach(([L,le])=>{L!==bt&&w.push(`${L}:${Pn(le,!1)}`)}),w.length>0?`${M}(${w.join("//")})`:M}{const M=function Dn(I,D){let M=[];return Object.entries(I.children).forEach(([w,L])=>{w===bt&&(M=M.concat(D(L,w)))}),Object.entries(I.children).forEach(([w,L])=>{w!==bt&&(M=M.concat(D(L,w)))}),M}(I,(w,L)=>L===bt?[Pn(I.children[bt],!1)]:[`${L}:${Pn(w,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[bt]?`${In(I)}/${M[0]}`:`${In(I)}/(${M.join("//")})`}}function ar(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tr(I){return ar(I).replace(/%3B/gi,";")}function Ye(I){return ar(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yt(I){return decodeURIComponent(I)}function rt(I){return yt(I.replace(/\+/g,"%20"))}function de(I){return`${Ye(I.path)}${function Ee(I){return Object.entries(I).map(([D,M])=>`;${Ye(D)}=${Ye(M)}`).join("")}(I.parameters)}`}const F=/^[^\/()?;#]+/;function B(I){const D=I.match(F);return D?D[0]:""}const Ie=/^[^\/()?;=#]+/,ut=/^[^=?&#]+/,$t=/^[^&#]+/;class zt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(D.length>0||Object.keys(M).length>0)&&(w[bt]=new Rn(D,M)),w}parseSegment(){const D=B(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(D),new Er(yt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const M=function Le(I){const D=I.match(Ie);return D?D[0]:""}(this.remaining);if(!M)return;this.capture(M);let w="";if(this.consumeOptional("=")){const L=B(this.remaining);L&&(w=L,this.capture(w))}D[yt(M)]=yt(w)}parseQueryParam(D){const M=function Lt(I){const D=I.match(ut);return D?D[0]:""}(this.remaining);if(!M)return;this.capture(M);let w="";if(this.consumeOptional("=")){const Te=function sn(I){const D=I.match($t);return D?D[0]:""}(this.remaining);Te&&(w=Te,this.capture(w))}const L=rt(M),le=rt(w);if(D.hasOwnProperty(L)){let Te=D[L];Array.isArray(Te)||(Te=[Te],D[L]=Te),Te.push(le)}else D[L]=le}parseParens(D){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=B(this.remaining),L=this.remaining[w.length];if("/"!==L&&")"!==L&&";"!==L)throw new d.wOt(4010,!1);let le;w.indexOf(":")>-1?(le=w.slice(0,w.indexOf(":")),this.capture(le),this.capture(":")):D&&(le=bt);const Te=this.parseChildren();M[le]=1===Object.keys(Te).length?Te[bt]:new Rn([],Te),this.consumeOptional("//")}return M}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new d.wOt(4011,!1)}}function Ot(I){return I.segments.length>0?new Rn([],{[bt]:I}):I}function Tn(I){const D={};for(const[w,L]of Object.entries(I.children)){const le=Tn(L);if(w===bt&&0===le.segments.length&&le.hasChildren())for(const[Te,Tt]of Object.entries(le.children))D[Te]=Tt;else(le.segments.length>0||le.hasChildren())&&(D[w]=le)}return function lr(I){if(1===I.numberOfChildren&&I.children[bt]){const D=I.children[bt];return new Rn(I.segments.concat(D.segments),D.children)}return I}(new Rn(I.segments,D))}function Lr(I){return I instanceof Qn}function Jr(I){var D;let M;const le=Ot(function w(Te){const Tt={};for(const Ft of Te.children){const kn=w(Ft);Tt[Ft.outlet]=kn}const on=new Rn(Te.url,Tt);return Te===I&&(M=on),on}(I.root));return null!==(D=M)&&void 0!==D?D:le}function or(I,D,M,w){let L=I;for(;L.parent;)L=L.parent;if(0===D.length)return xt(L,L,L,M,w);const le=function ae(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new he(!0,0,I);let D=0,M=!1;const w=I.reduce((L,le,Te)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Tt={};return Object.entries(le.outlets).forEach(([on,Ft])=>{Tt[on]="string"==typeof Ft?Ft.split("/"):Ft}),[...L,{outlets:Tt}]}if(le.segmentPath)return[...L,le.segmentPath]}return"string"!=typeof le?[...L,le]:0===Te?(le.split("/").forEach((Tt,on)=>{0==on&&"."===Tt||(0==on&&""===Tt?M=!0:".."===Tt?D++:""!=Tt&&L.push(Tt))}),L):[...L,le]},[]);return new he(M,D,w)}(D);if(le.toRoot())return xt(L,L,new Rn([],{}),M,w);const Te=function re(I,D,M){if(I.isAbsolute)return new Ge(D,!0,0);if(!M)return new Ge(D,!1,NaN);if(null===M.parent)return new Ge(M,!0,0);const w=Br(I.commands[0])?0:1;return function te(I,D,M){let w=I,L=D,le=M;for(;le>L;){if(le-=L,w=w.parent,!w)throw new d.wOt(4005,!1);L=w.segments.length}return new Ge(w,!1,L-le)}(M,M.segments.length-1+w,I.numberOfDoubleDots)}(le,L,I),Tt=Te.processChildren?Nt(Te.segmentGroup,Te.index,le.commands):St(Te.segmentGroup,Te.index,le.commands);return xt(L,Te.segmentGroup,Tt,M,w)}function Br(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ti(I){return"object"==typeof I&&null!=I&&I.outlets}function xt(I,D,M,w,L){let Te,le={};w&&Object.entries(w).forEach(([on,Ft])=>{le[on]=Array.isArray(Ft)?Ft.map(kn=>`${kn}`):`${Ft}`}),Te=I===D?M:_t(I,D,M);const Tt=Ot(Tn(Te));return new Qn(Tt,le,L)}function _t(I,D,M){const w={};return Object.entries(I.children).forEach(([L,le])=>{w[L]=le===D?M:_t(le,D,M)}),new Rn(I.segments,w)}class he{constructor(D,M,w){if(this.isAbsolute=D,this.numberOfDoubleDots=M,this.commands=w,D&&w.length>0&&Br(w[0]))throw new d.wOt(4003,!1);const L=w.find(Ti);if(L&&L!==Be(w))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ge{constructor(D,M,w){this.segmentGroup=D,this.processChildren=M,this.index=w}}function St(I,D,M){var w;if(null!==(w=I)&&void 0!==w||(I=new Rn([],{})),0===I.segments.length&&I.hasChildren())return Nt(I,D,M);const L=function _n(I,D,M){let w=0,L=D;const le={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(w>=M.length)return le;const Te=I.segments[L],Tt=M[w];if(Ti(Tt))break;const on=`${Tt}`,Ft=w<M.length-1?M[w+1]:null;if(L>0&&void 0===on)break;if(on&&Ft&&"object"==typeof Ft&&void 0===Ft.outlets){if(!Ii(on,Ft,Te))return le;w+=2}else{if(!Ii(on,{},Te))return le;w++}L++}return{match:!0,pathIndex:L,commandIndex:w}}(I,D,M),le=M.slice(L.commandIndex);if(L.match&&L.pathIndex<I.segments.length){const Te=new Rn(I.segments.slice(0,L.pathIndex),{});return Te.children[bt]=new Rn(I.segments.slice(L.pathIndex),I.children),Nt(Te,0,le)}return L.match&&0===le.length?new Rn(I.segments,{}):L.match&&!I.hasChildren()?Yn(I,D,M):L.match?Nt(I,0,le):Yn(I,D,M)}function Nt(I,D,M){if(0===M.length)return new Rn(I.segments,{});{const w=function Ve(I){return Ti(I[0])?I[0].outlets:{[bt]:I}}(M),L={};if(Object.keys(w).some(le=>le!==bt)&&I.children[bt]&&1===I.numberOfChildren&&0===I.children[bt].segments.length){const le=Nt(I.children[bt],D,M);return new Rn(I.segments,le.children)}return Object.entries(w).forEach(([le,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(L[le]=St(I.children[le],D,Te))}),Object.entries(I.children).forEach(([le,Te])=>{void 0===w[le]&&(L[le]=Te)}),new Rn(I.segments,L)}}function Yn(I,D,M){const w=I.segments.slice(0,D);let L=0;for(;L<M.length;){const le=M[L];if(Ti(le)){const on=Gn(le.outlets);return new Rn(w,on)}if(0===L&&Br(M[0])){w.push(new Er(I.segments[D].path,di(M[0]))),L++;continue}const Te=Ti(le)?le.outlets[bt]:`${le}`,Tt=L<M.length-1?M[L+1]:null;Te&&Tt&&Br(Tt)?(w.push(new Er(Te,di(Tt))),L+=2):(w.push(new Er(Te,{})),L++)}return new Rn(w,{})}function Gn(I){const D={};return Object.entries(I).forEach(([M,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(D[M]=Yn(new Rn([],{}),0,w))}),D}function di(I){const D={};return Object.entries(I).forEach(([M,w])=>D[M]=`${w}`),D}function Ii(I,D,M){return I==M.path&&Vn(D,M.parameters)}const pi="imperative";var Jn=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(Jn||{});class Fi{constructor(D,M){this.id=D,this.url=M}}class Oo extends Fi{constructor(D,M,w="imperative",L=null){super(D,M),this.type=Jn.NavigationStart,this.navigationTrigger=w,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class go extends Fi{constructor(D,M,w){super(D,M),this.urlAfterRedirects=w,this.type=Jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Vr=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(Vr||{}),gi=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(gi||{});class so extends Fi{constructor(D,M,w,L){super(D,M),this.reason=w,this.code=L,this.type=Jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bi extends Fi{constructor(D,M,w,L){super(D,M),this.reason=w,this.code=L,this.type=Jn.NavigationSkipped}}class Di extends Fi{constructor(D,M,w,L){super(D,M),this.error=w,this.target=L,this.type=Jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yi extends Fi{constructor(D,M,w,L){super(D,M),this.urlAfterRedirects=w,this.state=L,this.type=Jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo extends Fi{constructor(D,M,w,L){super(D,M),this.urlAfterRedirects=w,this.state=L,this.type=Jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends Fi{constructor(D,M,w,L,le){super(D,M),this.urlAfterRedirects=w,this.state=L,this.shouldActivate=le,this.type=Jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nr extends Fi{constructor(D,M,w,L){super(D,M),this.urlAfterRedirects=w,this.state=L,this.type=Jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends Fi{constructor(D,M,w,L){super(D,M),this.urlAfterRedirects=w,this.state=L,this.type=Jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qs{constructor(D){this.route=D,this.type=Jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Li{constructor(D){this.route=D,this.type=Jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class es{constructor(D){this.snapshot=D,this.type=Jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(D){this.snapshot=D,this.type=Jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(D){this.snapshot=D,this.type=Jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(D){this.snapshot=D,this.type=Jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(D,M,w){this.routerEvent=D,this.position=M,this.anchor=w,this.type=Jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _o{}class ko{constructor(D){this.url=D}}class la{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ao,this.attachRef=null}}let ao=(()=>{var I;class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,L){const le=this.getOrCreateContext(w);le.outlet=L,this.contexts.set(w,le)}onChildOutletDestroyed(w){const L=this.getContext(w);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let L=this.getContext(w);return L||(L=new la,this.contexts.set(w,L)),L}getContext(w){return this.contexts.get(w)||null}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();class yo{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const M=this.pathFromRoot(D);return M.length>1?M[M.length-2]:null}children(D){const M=ro(D,this._root);return M?M.children.map(w=>w.value):[]}firstChild(D){const M=ro(D,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(D){const M=To(D,this._root);return M.length<2?[]:M[M.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return To(D,this._root).map(M=>M.value)}}function ro(I,D){if(I===D.value)return D;for(const M of D.children){const w=ro(I,M);if(w)return w}return null}function To(I,D){if(I===D.value)return[D];for(const M of D.children){const w=To(I,M);if(w.length)return w.unshift(D),w}return[]}class wi{constructor(D,M){this.value=D,this.children=M}toString(){return`TreeNode(${this.value})`}}function S(I){const D={};return I&&I.children.forEach(M=>D[M.value.outlet]=M),D}class X extends yo{constructor(D,M){super(D),this.snapshot=M,He(this,D)}toString(){return this.snapshot.toString()}}function me(I){const D=function x(I){const le=new oe([],{},{},"",{},bt,I,null,{});return new $e("",new wi(le,[]))}(I),M=new Ce.t([new Er("",{})]),w=new Ce.t({}),L=new Ce.t({}),le=new Ce.t({}),Te=new Ce.t(""),Tt=new Ae(M,w,le,Te,L,bt,I,D.root);return Tt.snapshot=D.root,new X(new wi(Tt,[]),D)}class Ae{constructor(D,M,w,L,le,Te,Tt,on){var Ft,kn;this.urlSubject=D,this.paramsSubject=M,this.queryParamsSubject=w,this.fragmentSubject=L,this.dataSubject=le,this.outlet=Te,this.component=Tt,this._futureSnapshot=on,this.title=null!==(Ft=null===(kn=this.dataSubject)||void 0===kn?void 0:kn.pipe((0,je.T)(rr=>rr[nn])))&&void 0!==Ft?Ft:(0,ie.of)(void 0),this.url=D,this.params=M,this.queryParams=w,this.fragment=L,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var D;return null!==(D=this._paramMap)&&void 0!==D||(this._paramMap=this.params.pipe((0,je.T)(M=>Bn(M)))),this._paramMap}get queryParamMap(){var D;return null!==(D=this._queryParamMap)&&void 0!==D||(this._queryParamMap=this.queryParams.pipe((0,je.T)(M=>Bn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function P(I,D,M="emptyOnly"){var w;let L;const{routeConfig:le}=I;var Te;return L=null===D||"always"!==M&&""!==(null==le?void 0:le.path)&&(D.component||null!==(w=D.routeConfig)&&void 0!==w&&w.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...null!==(Te=I._resolvedData)&&void 0!==Te?Te:{}}}:{params:{...D.params,...I.params},data:{...D.data,...I.data},resolve:{...I.data,...D.data,...null==le?void 0:le.data,...I._resolvedData}},le&&Yt(le)&&(L.resolve[nn]=le.title),L}class oe{get title(){var D;return null===(D=this.data)||void 0===D?void 0:D[nn]}constructor(D,M,w,L,le,Te,Tt,on,Ft){this.url=D,this.params=M,this.queryParams=w,this.fragment=L,this.data=le,this.outlet=Te,this.component=Tt,this.routeConfig=on,this._resolve=Ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var D;return null!==(D=this._paramMap)&&void 0!==D||(this._paramMap=Bn(this.params)),this._paramMap}get queryParamMap(){var D;return null!==(D=this._queryParamMap)&&void 0!==D||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $e extends yo{constructor(D,M){super(M),this.url=D,He(this,M)}toString(){return vt(this._root)}}function He(I,D){D.value._routerState=I,D.children.forEach(M=>He(I,M))}function vt(I){const D=I.children.length>0?` { ${I.children.map(vt).join(", ")} } `:"";return`${I.value}${D}`}function Je(I){if(I.snapshot){const D=I.snapshot,M=I._futureSnapshot;I.snapshot=M,Vn(D.queryParams,M.queryParams)||I.queryParamsSubject.next(M.queryParams),D.fragment!==M.fragment&&I.fragmentSubject.next(M.fragment),Vn(D.params,M.params)||I.paramsSubject.next(M.params),function tr(I,D){if(I.length!==D.length)return!1;for(let M=0;M<I.length;++M)if(!Vn(I[M],D[M]))return!1;return!0}(D.url,M.url)||I.urlSubject.next(M.url),Vn(D.data,M.data)||I.dataSubject.next(M.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function jt(I,D){const M=Vn(I.params,D.params)&&function Fn(I,D){return pr(I,D)&&I.every((M,w)=>Vn(M.parameters,D[w].parameters))}(I.url,D.url);return M&&!(!I.parent!=!D.parent)&&(!I.parent||jt(I.parent,D.parent))}function Yt(I){return"string"==typeof I.title||null===I.title}let qt=(()=>{var I;class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(ao),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.inputBinder=(0,d.WQX)(Cn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:L,previousValue:le}=w.name;if(L)return;this.isTrackedInParentContexts(le)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(le)),this.initializeOutletWithName()}}ngOnDestroy(){var w;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(w=this.inputBinder)||void 0===w||w.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){var L;return(null===(L=this.parentContexts.getContext(w))||void 0===L?void 0:L.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,L){var le;this.activated=w,this._activatedRoute=L,this.location.insert(w.hostView),null===(le=this.inputBinder)||void 0===le||le.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,L){var le;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=w;const Te=this.location,on=w.snapshot.component,Ft=this.parentContexts.getOrCreateContext(this.name).children,kn=new tn(w,Ft,Te.injector);this.activated=Te.createComponent(on,{index:Te.length,injector:kn,environmentInjector:null!=L?L:this.environmentInjector}),this.changeDetector.markForCheck(),null===(le=this.inputBinder)||void 0===le||le.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275dir=d.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),D})();class tn{__ngOutletInjector(D){return new tn(this.route,this.childContexts,D)}constructor(D,M,w){this.route=D,this.childContexts=M,this.parent=w}get(D,M){return D===Ae?this.route:D===ao?this.childContexts:this.parent.get(D,M)}}const Cn=new d.nKC("");let Mn=(()=>{var I;class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){var L;null===(L=this.outletDataSubscriptions.get(w))||void 0===L||L.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:L}=w,le=(0,Ze.z)([L.queryParams,L.params,L.data]).pipe((0,dt.n)(([Te,Tt,on],Ft)=>(on={...Te,...Tt,...on},0===Ft?(0,ie.of)(on):Promise.resolve(on)))).subscribe(Te=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==L||null===L.component)return void this.unsubscribeFromRouteData(w);const Tt=(0,d.HJs)(L.component);if(Tt)for(const{templateName:on}of Tt.inputs)w.activatedComponentRef.setInput(on,Te[on]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,le)}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac}),D})();function jn(I,D,M){if(M&&I.shouldReuseRoute(D.value,M.value.snapshot)){const w=M.value;w._futureSnapshot=D.value;const L=function ni(I,D,M){return D.children.map(w=>{for(const L of M.children)if(I.shouldReuseRoute(w.value,L.value.snapshot))return jn(I,w,L);return jn(I,w)})}(I,D,M);return new wi(w,L)}{if(I.shouldAttach(D.value)){const le=I.retrieve(D.value);if(null!==le){const Te=le.route;return Te.value._futureSnapshot=D.value,Te.children=D.children.map(Tt=>jn(I,Tt)),Te}}const w=function si(I){return new Ae(new Ce.t(I.url),new Ce.t(I.params),new Ce.t(I.queryParams),new Ce.t(I.fragment),new Ce.t(I.data),I.outlet,I.component,I)}(D.value),L=D.children.map(le=>jn(I,le));return new wi(w,L)}}const hi="ngNavigationCancelingError";function Ri(I,D){const{redirectTo:M,navigationBehaviorOptions:w}=Lr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,L=xi(!1,Vr.Redirect);return L.url=M,L.navigationBehaviorOptions=w,L}function xi(I,D){const M=new Error(`NavigationCancelingError: ${I||""}`);return M[hi]=!0,M.cancellationCode=D,M}function Ji(I){return!!I&&I[hi]}let Ps=(()=>{var I;class D{}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275cmp=d.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(w,L){1&w&&d.nrm(0,"router-outlet")},dependencies:[qt],encapsulation:2}),D})();function Do(I){const D=I.children&&I.children.map(Do),M=D?{...I,children:D}:{...I};return!M.component&&!M.loadComponent&&(D||M.loadChildren)&&M.outlet&&M.outlet!==bt&&(M.component=Ps),M}function zi(I){return I.outlet||bt}function Sr(I){var D;if(!I)return null;if(null!==(D=I.routeConfig)&&void 0!==D&&D._injector)return I.routeConfig._injector;for(let M=I.parent;M;M=M.parent){const w=M.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class hl{constructor(D,M,w,L,le){this.routeReuseStrategy=D,this.futureState=M,this.currState=w,this.forwardEvent=L,this.inputBindingEnabled=le}activate(D){const M=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,w,D),Je(this.futureState.root),this.activateChildRoutes(M,w,D)}deactivateChildRoutes(D,M,w){const L=S(M);D.children.forEach(le=>{const Te=le.value.outlet;this.deactivateRoutes(le,L[Te],w),delete L[Te]}),Object.values(L).forEach(le=>{this.deactivateRouteAndItsChildren(le,w)})}deactivateRoutes(D,M,w){const L=D.value,le=M?M.value:null;if(L===le)if(L.component){const Te=w.getContext(L.outlet);Te&&this.deactivateChildRoutes(D,M,Te.children)}else this.deactivateChildRoutes(D,M,w);else le&&this.deactivateRouteAndItsChildren(M,w)}deactivateRouteAndItsChildren(D,M){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,M):this.deactivateRouteAndOutlet(D,M)}detachAndStoreRouteSubtree(D,M){const w=M.getContext(D.value.outlet),L=w&&D.value.component?w.children:M,le=S(D);for(const Te of Object.values(le))this.deactivateRouteAndItsChildren(Te,L);if(w&&w.outlet){const Te=w.outlet.detach(),Tt=w.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Te,route:D,contexts:Tt})}}deactivateRouteAndOutlet(D,M){const w=M.getContext(D.value.outlet),L=w&&D.value.component?w.children:M,le=S(D);for(const Te of Object.values(le))this.deactivateRouteAndItsChildren(Te,L);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(D,M,w){const L=S(M);D.children.forEach(le=>{this.activateRoutes(le,L[le.value.outlet],w),this.forwardEvent(new Ho(le.value.snapshot))}),D.children.length&&this.forwardEvent(new vo(D.value.snapshot))}activateRoutes(D,M,w){const L=D.value,le=M?M.value:null;if(Je(L),L===le)if(L.component){const Te=w.getOrCreateContext(L.outlet);this.activateChildRoutes(D,M,Te.children)}else this.activateChildRoutes(D,M,w);else if(L.component){const Te=w.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Tt=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Te.children.onOutletReAttached(Tt.contexts),Te.attachRef=Tt.componentRef,Te.route=Tt.route.value,Te.outlet&&Te.outlet.attach(Tt.componentRef,Tt.route.value),Je(Tt.route.value),this.activateChildRoutes(D,null,Te.children)}else{const Tt=Sr(L.snapshot);Te.attachRef=null,Te.route=L,Te.injector=Tt,Te.outlet&&Te.outlet.activateWith(L,Te.injector),this.activateChildRoutes(D,null,Te.children)}}else this.activateChildRoutes(D,null,w)}}class ds{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Xs{constructor(D,M){this.component=D,this.route=M}}function zo(I,D,M){const w=I._root;return uo(w,D?D._root:null,M,[w.value])}function xs(I,D){const M=Symbol(),w=D.get(I,M);return w===M?"function"!=typeof I||(0,d.LfX)(I)?D.get(I):I:w}function uo(I,D,M,w,L={canDeactivateChecks:[],canActivateChecks:[]}){const le=S(D);return I.children.forEach(Te=>{(function Fo(I,D,M,w,L={canDeactivateChecks:[],canActivateChecks:[]}){const le=I.value,Te=D?D.value:null,Tt=M?M.getContext(I.value.outlet):null;if(Te&&le.routeConfig===Te.routeConfig){const on=function Vl(I,D,M){if("function"==typeof M)return M(I,D);switch(M){case"pathParamsChange":return!pr(I.url,D.url);case"pathParamsOrQueryParamsChange":return!pr(I.url,D.url)||!Vn(I.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jt(I,D)||!Vn(I.queryParams,D.queryParams);default:return!jt(I,D)}}(Te,le,le.routeConfig.runGuardsAndResolvers);on?L.canActivateChecks.push(new ds(w)):(le.data=Te.data,le._resolvedData=Te._resolvedData),uo(I,D,le.component?Tt?Tt.children:null:M,w,L),on&&Tt&&Tt.outlet&&Tt.outlet.isActivated&&L.canDeactivateChecks.push(new Xs(Tt.outlet.component,Te))}else Te&&Ns(D,Tt,L),L.canActivateChecks.push(new ds(w)),uo(I,null,le.component?Tt?Tt.children:null:M,w,L)})(Te,le[Te.value.outlet],M,w.concat([Te.value]),L),delete le[Te.value.outlet]}),Object.entries(le).forEach(([Te,Tt])=>Ns(Tt,M.getContext(Te),L)),L}function Ns(I,D,M){const w=S(I),L=I.value;Object.entries(w).forEach(([le,Te])=>{Ns(Te,L.component?D?D.children.getContext(le):null:D,M)}),M.canDeactivateChecks.push(new Xs(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}function Cs(I){return"function"==typeof I}function z(I){return I instanceof _e.G||"EmptyError"===(null==I?void 0:I.name)}const xe=Symbol("INITIAL_VALUE");function en(){return(0,dt.n)(I=>(0,Ze.z)(I.map(D=>D.pipe((0,Ct.s)(1),(0,we.Z)(xe)))).pipe((0,je.T)(D=>{for(const M of D)if(!0!==M){if(M===xe)return xe;if(!1===M||M instanceof Qn)return M}return!0}),(0,Dt.p)(D=>D!==xe),(0,Ct.s)(1)))}function Fa(I){return(0,We.F)((0,Wt.M)(D=>{if(Lr(D))throw Ri(0,D)}),(0,je.T)(D=>!0===D))}class La{constructor(D){this.segmentGroup=D||null}}class gl extends Error{constructor(D){super(),this.urlTree=D}}function os(I){return nt(new La(I))}class io{constructor(D,M){this.urlSerializer=D,this.urlTree=M}lineralizeSegments(D,M){let w=[],L=M.root;for(;;){if(w=w.concat(L.segments),0===L.numberOfChildren)return(0,ie.of)(w);if(L.numberOfChildren>1||!L.children[bt])return nt(new d.wOt(4e3,!1));L=L.children[bt]}}applyRedirectCommands(D,M,w){const L=this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),D,w);if(M.startsWith("/"))throw new gl(L);return L}applyRedirectCreateUrlTree(D,M,w,L){const le=this.createSegmentGroup(D,M.root,w,L);return new Qn(le,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(D,M){const w={};return Object.entries(D).forEach(([L,le])=>{if("string"==typeof le&&le.startsWith(":")){const Tt=le.substring(1);w[L]=M[Tt]}else w[L]=le}),w}createSegmentGroup(D,M,w,L){const le=this.createSegments(D,M.segments,w,L);let Te={};return Object.entries(M.children).forEach(([Tt,on])=>{Te[Tt]=this.createSegmentGroup(D,on,w,L)}),new Rn(le,Te)}createSegments(D,M,w,L){return M.map(le=>le.path.startsWith(":")?this.findPosParam(D,le,L):this.findOrReturn(le,w))}findPosParam(D,M,w){const L=w[M.path.substring(1)];if(!L)throw new d.wOt(4001,!1);return L}findOrReturn(D,M){let w=0;for(const L of M){if(L.path===D.path)return M.splice(w),L;w++}return D}}const co={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ss(I,D,M,w,L){const le=Ta(I,D,M);return le.matched?(w=function ts(I,D){var M;return I.providers&&!I._injector&&(I._injector=(0,d.Ol2)(I.providers,D,`Route: ${I.path}`)),null!==(M=I._injector)&&void 0!==M?M:D}(D,w),function Ul(I,D,M,w){const L=D.canMatch;if(!L||0===L.length)return(0,ie.of)(!0);const le=L.map(Te=>{const Tt=xs(Te,I);return Rt(function ve(I){return I&&Cs(I.canMatch)}(Tt)?Tt.canMatch(D,M):(0,d.N4e)(I,()=>Tt(D,M)))});return(0,ie.of)(le).pipe(en(),Fa())}(w,D,M).pipe((0,je.T)(Te=>!0===Te?le:{...co}))):(0,ie.of)(le)}function Ta(I,D,M){var w,L;if("**"===D.path)return function $r(I){return{matched:!0,parameters:I.length>0?Be(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(M);if(""===D.path)return"full"===D.pathMatch&&(I.hasChildren()||M.length>0)?{...co}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const Te=(D.matcher||Hn)(M,I,D);if(!Te)return{...co};const Tt={};Object.entries(null!==(w=Te.posParams)&&void 0!==w?w:{}).forEach(([Ft,kn])=>{Tt[Ft]=kn.path});const on=Te.consumed.length>0?{...Tt,...Te.consumed[Te.consumed.length-1].parameters}:Tt;return{matched:!0,consumedSegments:Te.consumed,remainingSegments:M.slice(Te.consumed.length),parameters:on,positionalParamSegments:null!==(L=Te.posParams)&&void 0!==L?L:{}}}function fu(I,D,M,w){return M.length>0&&function Za(I,D,M){return M.some(w=>Go(I,D,w)&&zi(w)!==bt)}(I,M,w)?{segmentGroup:new Rn(D,fs(w,new Rn(M,I.children))),slicedSegments:[]}:0===M.length&&function ca(I,D,M){return M.some(w=>Go(I,D,w))}(I,M,w)?{segmentGroup:new Rn(I.segments,ml(I,M,w,I.children)),slicedSegments:M}:{segmentGroup:new Rn(I.segments,I.children),slicedSegments:M}}function ml(I,D,M,w){const L={};for(const le of M)if(Go(I,D,le)&&!w[zi(le)]){const Te=new Rn([],{});L[zi(le)]=Te}return{...w,...L}}function fs(I,D){const M={};M[bt]=D;for(const w of I)if(""===w.path&&zi(w)!==bt){const L=new Rn([],{});M[zi(w)]=L}return M}function Go(I,D,M){return(!(I.hasChildren()||D.length>0)||"full"!==M.pathMatch)&&""===M.path}class Ts{}class Ei{constructor(D,M,w,L,le,Te,Tt){this.injector=D,this.configLoader=M,this.rootComponentType=w,this.config=L,this.urlTree=le,this.paramsInheritanceStrategy=Te,this.urlSerializer=Tt,this.applyRedirects=new io(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new d.wOt(4002,`'${D.segmentGroup}'`)}recognize(){const D=fu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,je.T)(M=>{const w=new oe([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),L=new wi(w,M),le=new $e("",L),Te=function ci(I,D,M=null,w=null){return or(Jr(I),D,M,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(le._root,null),{state:le,tree:Te}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D,bt).pipe(mn(w=>{if(w instanceof gl)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof La?this.noMatchError(w):w}))}inheritParamsAndData(D,M){const w=D.value,L=P(w,M,this.paramsInheritanceStrategy);w.params=Object.freeze(L.params),w.data=Object.freeze(L.data),D.children.forEach(le=>this.inheritParamsAndData(le,w))}processSegmentGroup(D,M,w,L){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,M,w):this.processSegment(D,M,w,w.segments,L,!0).pipe((0,je.T)(le=>le instanceof wi?[le]:[]))}processChildren(D,M,w){const L=[];for(const le of Object.keys(w.children))"primary"===le?L.unshift(le):L.push(le);return(0,ke.H)(L).pipe(fn(le=>{const Te=w.children[le],Tt=function Nr(I,D){const M=I.filter(w=>zi(w)===D);return M.push(...I.filter(w=>zi(w)!==D)),M}(M,le);return this.processSegmentGroup(D,Tt,Te,le)}),(0,mt.S)((le,Te)=>(le.push(...Te),le)),(0,Ne.U)(null),function pe(I,D){const M=arguments.length>=2;return w=>w.pipe(I?(0,Dt.p)((L,le)=>I(L,le,w)):ce.D,J(1),M?(0,Ne.U)(D):(0,Z.v)(()=>new _e.G))}(),(0,kt.Z)(le=>{if(null===le)return os(w);const Te=Va(le);return function Ys(I){I.sort((D,M)=>D.value.outlet===bt?-1:M.value.outlet===bt?1:D.value.outlet.localeCompare(M.value.outlet))}(Te),(0,ie.of)(Te)}))}processSegment(D,M,w,L,le,Te){return(0,ke.H)(M).pipe(fn(Tt=>{var on;return this.processSegmentAgainstRoute(null!==(on=Tt._injector)&&void 0!==on?on:D,M,Tt,w,L,le,Te).pipe(mn(Ft=>{if(Ft instanceof La)return(0,ie.of)(null);throw Ft}))}),(0,rn.$)(Tt=>!!Tt),mn(Tt=>{if(z(Tt))return function $l(I,D,M){return 0===D.length&&!I.children[M]}(w,L,le)?(0,ie.of)(new Ts):os(w);throw Tt}))}processSegmentAgainstRoute(D,M,w,L,le,Te,Tt){return function Da(I,D,M,w){return!!(zi(I)===w||w!==bt&&Go(D,M,I))&&Ta(D,I,M).matched}(w,L,le,Te)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(D,L,w,le,Te):this.allowRedirects&&Tt?this.expandSegmentAgainstRouteUsingRedirect(D,L,M,w,le,Te):os(L):os(L)}expandSegmentAgainstRouteUsingRedirect(D,M,w,L,le,Te){const{matched:Tt,consumedSegments:on,positionalParamSegments:Ft,remainingSegments:kn}=Ta(M,L,le);if(!Tt)return os(M);L.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const rr=this.applyRedirects.applyRedirectCommands(on,L.redirectTo,Ft);return this.applyRedirects.lineralizeSegments(L,rr).pipe((0,kt.Z)(Ni=>this.processSegment(D,w,M,Ni.concat(kn),Te,!1)))}matchSegmentAgainstRoute(D,M,w,L,le){const Te=ss(M,w,L,D);return"**"===w.path&&(M.children={}),Te.pipe((0,dt.n)(Tt=>{var on;return Tt.matched?(D=null!==(on=w._injector)&&void 0!==on?on:D,this.getChildConfig(D,w,L).pipe((0,dt.n)(({routes:Ft})=>{var kn,rr,Ni;const ri=null!==(kn=w._loadedInjector)&&void 0!==kn?kn:D,{consumedSegments:Ki,remainingSegments:na,parameters:Al}=Tt,Cl=new oe(Ki,Al,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Js(I){return I.data||{}}(w),zi(w),null!==(rr=null!==(Ni=w.component)&&void 0!==Ni?Ni:w._loadedComponent)&&void 0!==rr?rr:null,w,function vl(I){return I.resolve||{}}(w)),{segmentGroup:Uo,slicedSegments:ba}=fu(M,Ki,na,Ft);if(0===ba.length&&Uo.hasChildren())return this.processChildren(ri,Ft,Uo).pipe((0,je.T)(fa=>null===fa?null:new wi(Cl,fa)));if(0===Ft.length&&0===ba.length)return(0,ie.of)(new wi(Cl,[]));const Mu=zi(w)===le;return this.processSegment(ri,Ft,Uo,ba,Mu?bt:le,!0).pipe((0,je.T)(fa=>new wi(Cl,fa instanceof wi?[fa]:[])))}))):os(M)}))}getChildConfig(D,M,w){return M.children?(0,ie.of)({routes:M.children,injector:D}):M.loadChildren?void 0!==M._loadedRoutes?(0,ie.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function Ca(I,D,M,w){const L=D.canLoad;if(void 0===L||0===L.length)return(0,ie.of)(!0);const le=L.map(Te=>{const Tt=xs(Te,I);return Rt(function Ja(I){return I&&Cs(I.canLoad)}(Tt)?Tt.canLoad(D,M):(0,d.N4e)(I,()=>Tt(D,M)))});return(0,ie.of)(le).pipe(en(),Fa())}(D,M,w).pipe((0,kt.Z)(L=>L?this.configLoader.loadChildren(D,M).pipe((0,Wt.M)(le=>{M._loadedRoutes=le.routes,M._loadedInjector=le.injector})):function Wi(I){return nt(xi(!1,Vr.GuardRejected))}())):(0,ie.of)({routes:[],injector:D})}}function Ko(I){const D=I.value.routeConfig;return D&&""===D.path}function Va(I){const D=[],M=new Set;for(const w of I){if(!Ko(w)){D.push(w);continue}const L=D.find(le=>w.value.routeConfig===le.value.routeConfig);void 0!==L?(L.children.push(...w.children),M.add(L)):D.push(w)}for(const w of M){const L=Va(w.children);D.push(new wi(w.value,L))}return D.filter(w=>!M.has(w))}function qo(I){const D=I.children.map(M=>qo(M)).flat();return[I,...D]}function wa(I){return(0,dt.n)(D=>{const M=I(D);return M?(0,ke.H)(M).pipe((0,je.T)(()=>D)):(0,ie.of)(D)})}let el=(()=>{var I;class D{buildTitle(w){let L,le=w.root;for(;void 0!==le;){var Te;L=null!==(Te=this.getResolvedTitleForRoute(le))&&void 0!==Te?Te:L,le=le.children.find(Tt=>Tt.outlet===bt)}return L}getResolvedTitleForRoute(w){return w.data[nn]}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)($a),providedIn:"root"}),D})(),$a=(()=>{var I;class D extends el{constructor(w){super(),this.title=w}updateTitle(w){const L=this.buildTitle(w);void 0!==L&&this.title.setTitle(L)}}return(I=D).\u0275fac=function(w){return new(w||I)(d.KVO(wt.hE))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();const as=new d.nKC("",{providedIn:"root",factory:()=>({})}),ps=new d.nKC("");let Zi=(()=>{var I;class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,ie.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const L=Rt(w.loadComponent()).pipe((0,je.T)(gs),(0,Wt.M)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=Te}),Me(()=>{this.componentLoaders.delete(w)})),le=new tt(L,()=>new Se.B).pipe(Qe());return this.componentLoaders.set(w,le),le}loadChildren(w,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,ie.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const Te=function ks(I,D,M,w){return Rt(I.loadChildren()).pipe((0,je.T)(gs),(0,kt.Z)(L=>L instanceof d.Co$||Array.isArray(L)?(0,ie.of)(L):(0,ke.H)(D.compileModuleAsync(L))),(0,je.T)(L=>{w&&w(I);let le,Te,Tt=!1;return Array.isArray(L)?(Te=L,!0):(le=L.create(M).injector,Te=le.get(ps,[],{optional:!0,self:!0}).flat()),{routes:Te.map(Do),injector:le}}))}(L,this.compiler,w,this.onLoadEndListener).pipe(Me(()=>{this.childrenLoaders.delete(L)})),Tt=new tt(Te,()=>new Se.B).pipe(Qe());return this.childrenLoaders.set(L,Tt),Tt}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();function gs(I){return function oo(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Pi=(()=>{var I;class D{}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(E),providedIn:"root"}),D})(),E=(()=>{var I;class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,L){return w}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();const H=new d.nKC(""),Oe=new d.nKC("");function $(I,D,M){const w=I.get(Oe),L=I.get(ze.qQ);return I.get(d.SKi).runOutsideAngular(()=>{if(!L.startViewTransition||w.skipNextTransition)return w.skipNextTransition=!1,Promise.resolve();let le;const Te=new Promise(Ft=>{le=Ft}),Tt=L.startViewTransition(()=>(le(),function ee(I){return new Promise(D=>{(0,d.mal)(D,{injector:I})})}(I))),{onViewTransitionCreated:on}=w;return on&&(0,d.N4e)(I,()=>on({transition:Tt,from:D,to:M})),Te})}let De=(()=>{var I;class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se.B,this.transitionAbortSubject=new Se.B,this.configLoader=(0,d.WQX)(Zi),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Sn),this.rootContexts=(0,d.WQX)(ao),this.location=(0,d.WQX)(ze.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Cn,{optional:!0}),this.titleStrategy=(0,d.WQX)(el),this.options=(0,d.WQX)(as,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Pi),this.createViewTransition=(0,d.WQX)(H,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=le=>this.events.next(new Li(le)),this.configLoader.onLoadStartListener=le=>this.events.next(new qs(le))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var L;const le=++this.navigationId;null===(L=this.transitions)||void 0===L||L.next({...this.transitions.value,...w,id:le})}setupNavigations(w,L,le){return this.transitions=new Ce.t({id:0,currentUrlTree:L,currentRawUrl:L,extractedUrl:this.urlHandlingStrategy.extract(L),urlAfterRedirects:this.urlHandlingStrategy.extract(L),rawUrl:L,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pi,restoredState:null,currentSnapshot:le.snapshot,targetSnapshot:null,currentRouterState:le,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.p)(Te=>0!==Te.id),(0,je.T)(Te=>({...Te,extractedUrl:this.urlHandlingStrategy.extract(Te.rawUrl)})),(0,dt.n)(Te=>{let Tt=!1,on=!1;return(0,ie.of)(Te).pipe((0,dt.n)(Ft=>{var kn;if(this.navigationId>Te.id)return this.cancelNavigationTransition(Te,"",Vr.SupersededByNewNavigation),ct.w;this.currentTransition=Te,this.currentNavigation={id:Ft.id,initialUrl:Ft.rawUrl,extractedUrl:Ft.extractedUrl,trigger:Ft.source,extras:Ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const rr=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Ni=null!==(kn=Ft.extras.onSameUrlNavigation)&&void 0!==kn?kn:w.onSameUrlNavigation;if(!rr&&"reload"!==Ni){const ri="";return this.events.next(new Bi(Ft.id,this.urlSerializer.serialize(Ft.rawUrl),ri,gi.IgnoredSameUrlNavigation)),Ft.resolve(null),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Ft.rawUrl))return(0,ie.of)(Ft).pipe((0,dt.n)(ri=>{var Ki,na;const Al=null===(Ki=this.transitions)||void 0===Ki?void 0:Ki.getValue();return this.events.next(new Oo(ri.id,this.urlSerializer.serialize(ri.extractedUrl),ri.source,ri.restoredState)),Al!==(null===(na=this.transitions)||void 0===na?void 0:na.getValue())?ct.w:Promise.resolve(ri)}),function Bl(I,D,M,w,L,le){return(0,kt.Z)(Te=>function Wo(I,D,M,w,L,le,Te="emptyOnly"){return new Ei(I,D,M,w,L,Te,le).recognize()}(I,D,M,w,Te.extractedUrl,L,le).pipe((0,je.T)(({state:Tt,tree:on})=>({...Te,targetSnapshot:Tt,urlAfterRedirects:on}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Wt.M)(ri=>{Te.targetSnapshot=ri.targetSnapshot,Te.urlAfterRedirects=ri.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ri.urlAfterRedirects};const Ki=new Yi(ri.id,this.urlSerializer.serialize(ri.extractedUrl),this.urlSerializer.serialize(ri.urlAfterRedirects),ri.targetSnapshot);this.events.next(Ki)}));if(rr&&this.urlHandlingStrategy.shouldProcessUrl(Ft.currentRawUrl)){const{id:ri,extractedUrl:Ki,source:na,restoredState:Al,extras:Cl}=Ft,Uo=new Oo(ri,this.urlSerializer.serialize(Ki),na,Al);this.events.next(Uo);const ba=me(this.rootComponentType).snapshot;return this.currentTransition=Te={...Ft,targetSnapshot:ba,urlAfterRedirects:Ki,extras:{...Cl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ki,(0,ie.of)(Te)}{const ri="";return this.events.next(new Bi(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),ri,gi.IgnoredByUrlHandlingStrategy)),Ft.resolve(null),ct.w}}),(0,Wt.M)(Ft=>{const kn=new mo(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(kn)}),(0,je.T)(Ft=>(this.currentTransition=Te={...Ft,guards:zo(Ft.targetSnapshot,Ft.currentSnapshot,this.rootContexts)},Te)),function sr(I,D){return(0,kt.Z)(M=>{const{targetSnapshot:w,currentSnapshot:L,guards:{canActivateChecks:le,canDeactivateChecks:Te}}=M;return 0===Te.length&&0===le.length?(0,ie.of)({...M,guardsResult:!0}):function gr(I,D,M,w){return(0,ke.H)(I).pipe((0,kt.Z)(L=>function pl(I,D,M,w,L){const le=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,ie.of)(!0);const Te=le.map(Tt=>{var on;const Ft=null!==(on=Sr(D))&&void 0!==on?on:L,kn=xs(Tt,Ft);return Rt(function k(I){return I&&Cs(I.canDeactivate)}(kn)?kn.canDeactivate(I,D,M,w):(0,d.N4e)(Ft,()=>kn(I,D,M,w))).pipe((0,rn.$)())});return(0,ie.of)(Te).pipe(en())}(L.component,L.route,M,D,w)),(0,rn.$)(L=>!0!==L,!0))}(Te,w,L,I).pipe((0,kt.Z)(Tt=>Tt&&function xo(I){return"boolean"==typeof I}(Tt)?function No(I,D,M,w){return(0,ke.H)(D).pipe(fn(L=>(0,ge.x)(function is(I,D){return null!==I&&D&&D(new es(I)),(0,ie.of)(!0)}(L.route.parent,w),function rs(I,D){return null!==I&&D&&D(new ti(I)),(0,ie.of)(!0)}(L.route,w),function fl(I,D,M){const w=D[D.length-1],le=D.slice(0,D.length-1).reverse().map(Te=>function hs(I){const D=I.routeConfig?I.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:I,guards:D}:null}(Te)).filter(Te=>null!==Te).map(Te=>qe(()=>{const Tt=Te.guards.map(on=>{var Ft;const kn=null!==(Ft=Sr(Te.node))&&void 0!==Ft?Ft:M,rr=xs(on,kn);return Rt(function W(I){return I&&Cs(I.canActivateChild)}(rr)?rr.canActivateChild(w,I):(0,d.N4e)(kn,()=>rr(w,I))).pipe((0,rn.$)())});return(0,ie.of)(Tt).pipe(en())}));return(0,ie.of)(le).pipe(en())}(I,L.path,M),function Qs(I,D,M){const w=D.routeConfig?D.routeConfig.canActivate:null;if(!w||0===w.length)return(0,ie.of)(!0);const L=w.map(le=>qe(()=>{var Te;const Tt=null!==(Te=Sr(D))&&void 0!==Te?Te:M,on=xs(le,Tt);return Rt(function Aa(I){return I&&Cs(I.canActivate)}(on)?on.canActivate(D,I):(0,d.N4e)(Tt,()=>on(D,I))).pipe((0,rn.$)())}));return(0,ie.of)(L).pipe(en())}(I,L.route,M))),(0,rn.$)(L=>!0!==L,!0))}(w,le,I,D):(0,ie.of)(Tt)),(0,je.T)(Tt=>({...M,guardsResult:Tt})))})}(this.environmentInjector,Ft=>this.events.next(Ft)),(0,Wt.M)(Ft=>{if(Te.guardsResult=Ft.guardsResult,Lr(Ft.guardsResult))throw Ri(0,Ft.guardsResult);const kn=new Zo(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot,!!Ft.guardsResult);this.events.next(kn)}),(0,Dt.p)(Ft=>!!Ft.guardsResult||(this.cancelNavigationTransition(Ft,"",Vr.GuardRejected),!1)),wa(Ft=>{if(Ft.guards.canActivateChecks.length)return(0,ie.of)(Ft).pipe((0,Wt.M)(kn=>{const rr=new nr(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(rr)}),(0,dt.n)(kn=>{let rr=!1;return(0,ie.of)(kn).pipe(function Os(I,D){return(0,kt.Z)(M=>{const{targetSnapshot:w,guards:{canActivateChecks:L}}=M;if(!L.length)return(0,ie.of)(M);const le=new Set(L.map(on=>on.route)),Te=new Set;for(const on of le)if(!Te.has(on))for(const Ft of qo(on))Te.add(Ft);let Tt=0;return(0,ke.H)(Te).pipe(fn(on=>le.has(on)?function da(I,D,M,w){const L=I.routeConfig,le=I._resolve;return void 0!==(null==L?void 0:L.title)&&!Yt(L)&&(le[nn]=L.title),function _l(I,D,M,w){const L=zn(I);if(0===L.length)return(0,ie.of)({});const le={};return(0,ke.H)(L).pipe((0,kt.Z)(Te=>function jl(I,D,M,w){var L;const le=null!==(L=Sr(D))&&void 0!==L?L:w,Te=xs(I,le);return Rt(Te.resolve?Te.resolve(D,M):(0,d.N4e)(le,()=>Te(D,M)))}(I[Te],D,M,w).pipe((0,rn.$)(),(0,Wt.M)(Tt=>{le[Te]=Tt}))),J(1),function se(I){return(0,je.T)(()=>I)}(le),mn(Te=>z(Te)?ct.w:nt(Te)))}(le,I,D,w).pipe((0,je.T)(Te=>(I._resolvedData=Te,I.data=P(I,I.parent,M).resolve,null)))}(on,w,I,D):(on.data=P(on,on.parent,I).resolve,(0,ie.of)(void 0))),(0,Wt.M)(()=>Tt++),J(1),(0,kt.Z)(on=>Tt===Te.size?(0,ie.of)(M):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Wt.M)({next:()=>rr=!0,complete:()=>{rr||this.cancelNavigationTransition(kn,"",Vr.NoDataFromResolver)}}))}),(0,Wt.M)(kn=>{const rr=new wr(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(rr)}))}),wa(Ft=>{const kn=rr=>{var Ni;const ri=[];null!==(Ni=rr.routeConfig)&&void 0!==Ni&&Ni.loadComponent&&!rr.routeConfig._loadedComponent&&ri.push(this.configLoader.loadComponent(rr.routeConfig).pipe((0,Wt.M)(Ki=>{rr.component=Ki}),(0,je.T)(()=>{})));for(const Ki of rr.children)ri.push(...kn(Ki));return ri};return(0,Ze.z)(kn(Ft.targetSnapshot.root)).pipe((0,Ne.U)(null),(0,Ct.s)(1))}),wa(()=>this.afterPreactivation()),(0,dt.n)(()=>{var Ft;const{currentSnapshot:kn,targetSnapshot:rr}=Te,Ni=null===(Ft=this.createViewTransition)||void 0===Ft?void 0:Ft.call(this,this.environmentInjector,kn.root,rr.root);return Ni?(0,ke.H)(Ni).pipe((0,je.T)(()=>Te)):(0,ie.of)(Te)}),(0,je.T)(Ft=>{const kn=function Kn(I,D,M){const w=jn(I,D._root,M?M._root:void 0);return new X(w,D)}(w.routeReuseStrategy,Ft.targetSnapshot,Ft.currentRouterState);return this.currentTransition=Te={...Ft,targetRouterState:kn},this.currentNavigation.targetRouterState=kn,Te}),(0,Wt.M)(()=>{this.events.next(new _o)}),((I,D,M,w)=>(0,je.T)(L=>(new hl(D,L.targetRouterState,L.currentRouterState,M,w).activate(I),L)))(this.rootContexts,w.routeReuseStrategy,Ft=>this.events.next(Ft),this.inputBindingEnabled),(0,Ct.s)(1),(0,Wt.M)({next:Ft=>{var kn;Tt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new go(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects))),null===(kn=this.titleStrategy)||void 0===kn||kn.updateTitle(Ft.targetRouterState.snapshot),Ft.resolve(!0)},complete:()=>{Tt=!0}}),function lt(I){return(0,Xe.N)((D,M)=>{(0,Ke.Tg)(I).subscribe((0,et._)(M,()=>M.complete(),Pe.l)),!M.closed&&D.subscribe(M)})}(this.transitionAbortSubject.pipe((0,Wt.M)(Ft=>{throw Ft}))),Me(()=>{var Ft;!Tt&&!on&&this.cancelNavigationTransition(Te,"",Vr.SupersededByNewNavigation),(null===(Ft=this.currentTransition)||void 0===Ft?void 0:Ft.id)===Te.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(Ft=>{if(on=!0,Ji(Ft))this.events.next(new so(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Ft.message,Ft.cancellationCode)),function jr(I){return Ji(I)&&Lr(I.url)}(Ft)?this.events.next(new ko(Ft.url)):Te.resolve(!1);else{var kn;this.events.next(new Di(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Ft,null!==(kn=Te.targetSnapshot)&&void 0!==kn?kn:void 0));try{Te.resolve(w.errorHandler(Ft))}catch(rr){this.options.resolveNavigationPromiseOnError?Te.resolve(!1):Te.reject(rr)}}return ct.w}))}))}cancelNavigationTransition(w,L,le){const Te=new so(w.id,this.urlSerializer.serialize(w.extractedUrl),L,le);this.events.next(Te),w.resolve(!1)}isUpdatingInternalState(){var w,L;return(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())!==(null===(L=this.currentTransition)||void 0===L?void 0:L.currentUrlTree.toString())}isUpdatedBrowserUrl(){var w,L;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())&&!(null!==(L=this.currentTransition)&&void 0!==L&&L.extras.skipLocationChange)}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();function Ht(I){return I!==pi}let Et=(()=>{var I;class D{}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Bt),providedIn:"root"}),D})();class It{shouldDetach(D){return!1}store(D,M){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,M){return D.routeConfig===M.routeConfig}}let Bt=(()=>{var I;class D extends It{}return(I=D).\u0275fac=(()=>{let M;return function(L){return(M||(M=d.xGo(I)))(L||I)}})(),I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})(),Zn=(()=>{var I;class D{}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Cr),providedIn:"root"}),D})(),Cr=(()=>{var I;class D extends Zn{constructor(){super(...arguments),this.location=(0,d.WQX)(ze.aZ),this.urlSerializer=(0,d.WQX)(Sn),this.options=(0,d.WQX)(as,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Pi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=me(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var w,L;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(w=null===(L=this.restoredState())||void 0===L?void 0:L.\u0275routerPageId)&&void 0!==w?w:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(L=>{"popstate"===L.type&&w(L.url,L.state)})}handleRouterEvent(w,L){if(w instanceof Oo)this.stateMemento=this.createStateMemento();else if(w instanceof Bi)this.rawUrlTree=L.initialUrl;else if(w instanceof Yi){if("eager"===this.urlUpdateStrategy&&!L.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(L.finalUrl,L.initialUrl);this.setBrowserUrl(le,L)}}else w instanceof _o?(this.currentUrlTree=L.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(L.finalUrl,L.initialUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L))):w instanceof so&&(w.code===Vr.GuardRejected||w.code===Vr.NoDataFromResolver)?this.restoreHistory(L):w instanceof Di?this.restoreHistory(L,!0):w instanceof go&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,L){const le=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(le)||L.extras.replaceUrl){const Tt={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId)};this.location.replaceState(le,"",Tt)}else{const Te={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId+1)};this.location.go(le,"",Te)}}restoreHistory(w,L=!1){if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-this.browserPageId;0!==Te?this.location.historyGo(Te):this.currentUrlTree===w.finalUrl&&0===Te&&(this.resetState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){var L;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(L=w.finalUrl)&&void 0!==L?L:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,L){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:L}:{navigationId:w}}}return(I=D).\u0275fac=(()=>{let M;return function(L){return(M||(M=d.xGo(I)))(L||I)}})(),I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();var Or=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(Or||{});function Hr(I,D){I.events.pipe((0,Dt.p)(M=>M instanceof go||M instanceof so||M instanceof Di||M instanceof Bi),(0,je.T)(M=>M instanceof go||M instanceof Bi?Or.COMPLETE:M instanceof so&&(M.code===Vr.Redirect||M.code===Vr.SupersededByNewNavigation)?Or.REDIRECTING:Or.FAILED),(0,Dt.p)(M=>M!==Or.REDIRECTING),(0,Ct.s)(1)).subscribe(()=>{D()})}function eo(I){throw I}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{var I;class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var w,L;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(Zn),this.options=(0,d.WQX)(as,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(De),this.urlSerializer=(0,d.WQX)(Sn),this.location=(0,d.WQX)(ze.aZ),this.urlHandlingStrategy=(0,d.WQX)(Pi),this._events=new Se.B,this.errorHandler=this.options.errorHandler||eo,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Et),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(w=null===(L=(0,d.WQX)(ps,{optional:!0}))||void 0===L?void 0:L.flat())&&void 0!==w?w:[],this.componentInputBindingEnabled=!!(0,d.WQX)(Cn,{optional:!0}),this.eventsSubscription=new ot.yU,this.isNgZoneEnabled=(0,d.WQX)(d.SKi)instanceof d.SKi&&d.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:le=>{this.console.warn(le)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(L=>{try{const le=this.navigationTransitions.currentTransition,Te=this.navigationTransitions.currentNavigation;if(null!==le&&null!==Te)if(this.stateManager.handleRouterEvent(L,Te),L instanceof so&&L.code!==Vr.Redirect&&L.code!==Vr.SupersededByNewNavigation)this.navigated=!0;else if(L instanceof go)this.navigated=!0;else if(L instanceof ko){const Tt=this.urlHandlingStrategy.merge(L.url,le.currentRawUrl),on={info:le.extras.info,skipLocationChange:le.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ht(le.source)};this.scheduleNavigation(Tt,pi,null,on,{resolve:le.resolve,reject:le.reject,promise:le.promise})}(function Vi(I){return!(I instanceof _o||I instanceof ko)})(L)&&this._events.next(L)}catch(le){this.navigationTransitions.transitionAbortSubject.next(le)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pi,this.stateManager.restoredState())}setUpLocationChangeListener(){var w;null!==(w=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==w||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((L,le)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(L,"popstate",le)},0)}))}navigateToSyncWithBrowser(w,L,le){const Te={replaceUrl:!0},Tt=null!=le&&le.navigationId?le:null;if(le){const Ft={...le};delete Ft.navigationId,delete Ft.\u0275routerPageId,0!==Object.keys(Ft).length&&(Te.state=Ft)}const on=this.parseUrl(w);this.scheduleNavigation(on,L,Tt,Te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Do),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,L={}){const{relativeTo:le,queryParams:Te,fragment:Tt,queryParamsHandling:on,preserveFragment:Ft}=L,kn=Ft?this.currentUrlTree.fragment:Tt;let Ni,rr=null;switch(on){case"merge":rr={...this.currentUrlTree.queryParams,...Te};break;case"preserve":rr=this.currentUrlTree.queryParams;break;default:rr=Te||null}null!==rr&&(rr=this.removeEmptyProps(rr));try{Ni=Jr(le?le.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Ni=this.currentUrlTree.root}return or(Ni,w,rr,null!=kn?kn:null)}navigateByUrl(w,L={skipLocationChange:!1}){const le=Lr(w)?w:this.parseUrl(w),Te=this.urlHandlingStrategy.merge(le,this.rawUrlTree);return this.scheduleNavigation(Te,pi,null,L)}navigate(w,L={skipLocationChange:!1}){return function ai(I){for(let D=0;D<I.length;D++)if(null==I[D])throw new d.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,L),L)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,L){let le;if(le=!0===L?{...zr}:!1===L?{...gn}:L,Lr(w))return ur(this.currentUrlTree,w,le);const Te=this.parseUrl(w);return ur(this.currentUrlTree,Te,le)}removeEmptyProps(w){return Object.entries(w).reduce((L,[le,Te])=>(null!=Te&&(L[le]=Te),L),{})}scheduleNavigation(w,L,le,Te,Tt){if(this.disposed)return Promise.resolve(!1);let on,Ft,kn;Tt?(on=Tt.resolve,Ft=Tt.reject,kn=Tt.promise):kn=new Promise((Ni,ri)=>{on=Ni,Ft=ri});const rr=this.pendingTasks.add();return Hr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(rr))}),this.navigationTransitions.handleNavigationRequest({source:L,restoredState:le,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:Te,resolve:on,reject:Ft,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(Ni=>Promise.reject(Ni))}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})(),mi=(()=>{var I;class D{constructor(w,L,le,Te,Tt,on){var Ft;this.router=w,this.route=L,this.tabIndexAttribute=le,this.renderer=Te,this.el=Tt,this.locationStrategy=on,this.href=null,this.commands=null,this.onChanges=new Se.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const kn=null===(Ft=Tt.nativeElement.tagName)||void 0===Ft?void 0:Ft.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=w.events.subscribe(rr=>{rr instanceof go&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,L,le,Te,Tt){const on=this.urlTree;return!!(null===on||this.isAnchorElement&&(0!==w||L||le||Te||Tt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(on,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;const L=this.urlTree;this.href=null!==L&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(L)):null;const le=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",le)}applyAttributeValue(w,L){const le=this.renderer,Te=this.el.nativeElement;null!==L?le.setAttribute(Te,w,L):le.removeAttribute(Te,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=D).\u0275fac=function(w){return new(w||I)(d.rXU(Ln),d.rXU(Ae),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(ze.hb))},I.\u0275dir=d.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,L){1&w&&d.bIt("click",function(Te){return L.onClick(Te.button,Te.ctrlKey,Te.shiftKey,Te.altKey,Te.metaKey)}),2&w&&d.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[d.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[d.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[d.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),D})(),to=(()=>{var I;class D{get isActive(){return this._isActive}constructor(w,L,le,Te,Tt){this.router=w,this.element=L,this.renderer=le,this.cdr=Te,this.link=Tt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.bkB,this.routerEventsSubscription=w.events.subscribe(on=>{on instanceof go&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,(0,ie.of)(null)).pipe((0,Mt.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const L=[...this.links.toArray(),this.link].filter(le=>!!le).map(le=>le.onChanges);this.linkInputChangesSubscription=(0,ke.H)(L).pipe((0,Mt.U)()).subscribe(le=>{this._isActive!==this.isLinkActive(this.router)(le)&&this.update()})}set routerLinkActive(w){const L=Array.isArray(w)?w:w.split(" ");this.classes=L.filter(le=>!!le)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this.classes.forEach(L=>{w?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.isActiveChange.emit(w))})}isLinkActive(w){const L=function dr(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return le=>{const Te=le.urlTree;return!!Te&&w.isActive(Te,L)}}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}}return(I=D).\u0275fac=function(w){return new(w||I)(d.rXU(Ln),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(mi,8))},I.\u0275dir=d.FsC({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(w,L,le){if(1&w&&d.wni(le,mi,5),2&w){let Te;d.mGM(Te=d.lsd())&&(L.links=Te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.OA$]}),D})();class li{}let wo=(()=>{var I;class D{preload(w,L){return L().pipe(mn(()=>(0,ie.of)(null)))}}return(I=D).\u0275fac=function(w){return new(w||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})(),an=(()=>{var I;class D{constructor(w,L,le,Te,Tt){this.router=w,this.injector=le,this.preloadingStrategy=Te,this.loader=Tt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.p)(w=>w instanceof go),fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,L){const le=[];for(const Ft of L){var Te,Tt;Ft.providers&&!Ft._injector&&(Ft._injector=(0,d.Ol2)(Ft.providers,w,`Route: ${Ft.path}`));const kn=null!==(Te=Ft._injector)&&void 0!==Te?Te:w,rr=null!==(Tt=Ft._loadedInjector)&&void 0!==Tt?Tt:kn;var on;(Ft.loadChildren&&!Ft._loadedRoutes&&void 0===Ft.canLoad||Ft.loadComponent&&!Ft._loadedComponent)&&le.push(this.preloadConfig(kn,Ft)),(Ft.children||Ft._loadedRoutes)&&le.push(this.processRoutes(rr,null!==(on=Ft.children)&&void 0!==on?on:Ft._loadedRoutes))}return(0,ke.H)(le).pipe((0,Mt.U)())}preloadConfig(w,L){return this.preloadingStrategy.preload(L,()=>{let le;le=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(w,L):(0,ie.of)(null);const Te=le.pipe((0,kt.Z)(Tt=>{var on;return null===Tt?(0,ie.of)(void 0):(L._loadedRoutes=Tt.routes,L._loadedInjector=Tt.injector,this.processRoutes(null!==(on=Tt.injector)&&void 0!==on?on:w,Tt.routes))}));if(L.loadComponent&&!L._loadedComponent){const Tt=this.loader.loadComponent(L);return(0,ke.H)([Te,Tt]).pipe((0,Mt.U)())}return Te})}}return(I=D).\u0275fac=function(w){return new(w||I)(d.KVO(Ln),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(li),d.KVO(Zi))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),D})();const Xo=new d.nKC("");let Pr=(()=>{var I;class D{constructor(w,L,le,Te,Tt={}){this.urlSerializer=w,this.transitions=L,this.viewportScroller=le,this.zone=Te,this.options=Tt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,d.WQX)(d.uvJ),Tt.scrollPositionRestoration||(Tt.scrollPositionRestoration="disabled"),Tt.anchorScrolling||(Tt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof go?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Bi&&w.code===gi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof On&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,L){var le=this;this.zone.runOutsideAngular((0,c.A)(function*(){yield new Promise(Te=>{setTimeout(()=>{Te()}),(0,d.mal)(()=>{Te()},{injector:le.environmentInjector})}),le.zone.run(()=>{le.transitions.events.next(new On(w,"popstate"===le.lastSource?le.store[le.restoredId]:null,L))})}))}ngOnDestroy(){var w,L;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(L=this.scrollEventsSubscription)||void 0===L||L.unsubscribe()}}return(I=D).\u0275fac=function(w){d.QTQ()},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac}),D})();function En(I,D){return{\u0275kind:I,\u0275providers:D}}function bo(){const I=(0,d.WQX)(d.zZn);return D=>{var M,w;const L=I.get(d.o8S);if(D!==L.components[0])return;const le=I.get(Ln),Te=I.get(Il);1===I.get(Lo)&&le.initialNavigation(),null===(M=I.get(Vo,null,d.$GK.Optional))||void 0===M||M.setUpPreloading(),null===(w=I.get(Xo,null,d.$GK.Optional))||void 0===w||w.init(),le.resetRootComponentType(L.componentTypes[0]),Te.closed||(Te.next(),Te.complete(),Te.unsubscribe())}}const Il=new d.nKC("",{factory:()=>new Se.B}),Lo=new d.nKC("",{providedIn:"root",factory:()=>1}),Vo=new d.nKC("");function Ui(I){return En(0,[{provide:Vo,useExisting:an},{provide:li,useExisting:I}])}function Io(I){return En(9,[{provide:H,useValue:$},{provide:Oe,useValue:{skipNextTransition:!(null==I||!I.skipInitialTransition),...I}}])}const Vs=new d.nKC("ROUTER_FORROOT_GUARD"),El=[ze.aZ,{provide:Sn,useClass:_r},Ln,ao,{provide:Ae,useFactory:function mr(I){return I.routerState.root},deps:[Ln]},Zi,[]];let So=(()=>{var I;class D{constructor(w){}static forRoot(w,L){return{ngModule:D,providers:[El,[],{provide:ps,multi:!0,useValue:w},{provide:Vs,useFactory:Ba,deps:[[Ln,new d.Xx1,new d.kdw]]},{provide:as,useValue:L||{}},null!=L&&L.useHash?{provide:ze.hb,useClass:ze.fw}:{provide:ze.hb,useClass:ze.Sm},{provide:Xo,useFactory:()=>{const I=(0,d.WQX)(ze.Xr),D=(0,d.WQX)(d.SKi),M=(0,d.WQX)(as),w=(0,d.WQX)(De),L=(0,d.WQX)(Sn);return M.scrollOffset&&I.setOffset(M.scrollOffset),new Pr(L,w,I,D,M)}},null!=L&&L.preloadingStrategy?Ui(L.preloadingStrategy).\u0275providers:[],null!=L&&L.initialNavigation?tl(L):[],null!=L&&L.bindToComponentInputs?En(8,[Mn,{provide:Cn,useExisting:Mn}]).\u0275providers:[],null!=L&&L.enableViewTransitions?Io().\u0275providers:[],[{provide:pu,useFactory:bo},{provide:d.iLQ,multi:!0,useExisting:pu}]]}}static forChild(w){return{ngModule:D,providers:[{provide:ps,multi:!0,useValue:w}]}}}return(I=D).\u0275fac=function(w){return new(w||I)(d.KVO(Vs,8))},I.\u0275mod=d.$C({type:I}),I.\u0275inj=d.G2t({}),D})();function Ba(I){return"guarded"}function tl(I){return["disabled"===I.initialNavigation?En(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const D=(0,d.WQX)(Ln);return()=>{D.setUpLocationChangeListener()}}},{provide:Lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?En(2,[{provide:Lo,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:D=>{const M=D.get(ze.hj,Promise.resolve());return()=>M.then(()=>new Promise(w=>{const L=D.get(Ln),le=D.get(Il);Hr(L,()=>{w(!0)}),D.get(De).afterPreactivation=()=>(w(!0),le.closed?(0,ie.of)(void 0):le),L.initialNavigation()}))}}]).\u0275providers:[]]}const pu=new d.nKC("")},3345:(hn,ft,N)=>{"use strict";N.d(ft,{A:()=>nt});var c=N(1076),d=N(1362),V=N(7852),Re=N(8041);class Y{constructor(ot,Xe){this._delegate=ot,this.firebase=Xe,(0,V._addComponent)(ot,new d.uA("app-compat",()=>this,"PUBLIC")),this.container=ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this._delegate.automaticDataCollectionEnabled=ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ot=>{this._delegate.checkDestroyed(),ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ot,Xe=V._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ot);return!Qe.isInitialized()&&"EXPLICIT"===(null===(et=Qe.getComponent())||void 0===et?void 0:et.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Xe})}_removeServiceInstance(ot,Xe=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ot).clearInstance(Xe)}_addComponent(ot){(0,V._addComponent)(this._delegate,ot)}_addOrOverwriteComponent(ot){(0,V._addOrOverwriteComponent)(this._delegate,ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function Ze(){const ct=function Ce(ct){const ot={},Xe={__esModule:!0,initializeApp:function tt(dt,Ct={}){const we=V.initializeApp(dt,Ct);if((0,c.gR)(ot,we.name))return ot[we.name];const Dt=new ct(we,Xe);return ot[we.name]=Dt,Dt},app:Qe,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function ze(dt){const Ct=dt.name,we=Ct.replace("-compat","");if(V._registerComponent(dt)&&"PUBLIC"===dt.type){const Dt=(kt=Qe())=>{if("function"!=typeof kt[we])throw ie.create("invalid-app-argument",{appName:Ct});return kt[we]()};void 0!==dt.serviceProps&&(0,c.zw)(Dt,dt.serviceProps),Xe[we]=Dt,ct.prototype[we]=function(...kt){return this._getService.bind(this,Ct).apply(this,dt.multipleInstances?kt:[])}}return"PUBLIC"===dt.type?Xe[we]:null},removeApp:function et(dt){delete ot[dt]},useAsService:function je(dt,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:V}};function Qe(dt){if(!(0,c.gR)(ot,dt=dt||V._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:dt});return ot[dt]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function Se(){return Object.keys(ot).map(dt=>ot[dt])}}),Qe.App=ct,Xe}(Y);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function ot(Xe){(0,c.zw)(ct,Xe)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),ct}(),ge=new Re.Vy("@firebase/app-compat");if((0,c.Bd)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=_e;!function We(ct){(0,V.registerVersion)("@firebase/app-compat","0.2.32",ct)}()},7852:(hn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{FirebaseError:()=>Re.g,SDK_VERSION:()=>Pn,_DEFAULT_ENTRY_NAME:()=>ur,_addComponent:()=>ir,_addOrOverwriteComponent:()=>qn,_apps:()=>un,_clearComponents:()=>Dn,_components:()=>Nn,_getProvider:()=>Rn,_isFirebaseApp:()=>Fn,_isFirebaseServerApp:()=>pr,_registerComponent:()=>Qn,_removeServiceInstance:()=>Er,_serverApps:()=>Zt,deleteApp:()=>yt,getApp:()=>it,getApps:()=>Ye,initializeApp:()=>ar,initializeServerApp:()=>Tr,onLog:()=>Ee,registerVersion:()=>de,setLogLevel:()=>ne});var c=N(467),d=N(1362),V=N(8041),Re=N(1076);const Y=(xt,_t)=>_t.some(he=>xt instanceof he);let ke,ie;const _e=new WeakMap,ge=new WeakMap,Ke=new WeakMap,qe=new WeakMap,We=new WeakMap;let ot={get(xt,_t,he){if(xt instanceof IDBTransaction){if("done"===_t)return ge.get(xt);if("objectStoreNames"===_t)return xt.objectStoreNames||Ke.get(xt);if("store"===_t)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return tt(xt[_t])},set:(xt,_t,he)=>(xt[_t]=he,!0),has:(xt,_t)=>xt instanceof IDBTransaction&&("done"===_t||"store"===_t)||_t in xt};function Qe(xt){return"function"==typeof xt?function et(xt){return xt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xt)?function(..._t){return xt.apply(Se(this),_t),tt(_e.get(this))}:function(..._t){return tt(xt.apply(Se(this),_t))}:function(_t,...he){const ae=xt.call(Se(this),_t,...he);return Ke.set(ae,_t.sort?_t.sort():[_t]),tt(ae)}}(xt):(xt instanceof IDBTransaction&&function ct(xt){if(ge.has(xt))return;const _t=new Promise((he,ae)=>{const Ge=()=>{xt.removeEventListener("complete",re),xt.removeEventListener("error",te),xt.removeEventListener("abort",te)},re=()=>{he(),Ge()},te=()=>{ae(xt.error||new DOMException("AbortError","AbortError")),Ge()};xt.addEventListener("complete",re),xt.addEventListener("error",te),xt.addEventListener("abort",te)});ge.set(xt,_t)}(xt),Y(xt,function Ce(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xt,ot):xt)}function tt(xt){if(xt instanceof IDBRequest)return function nt(xt){const _t=new Promise((he,ae)=>{const Ge=()=>{xt.removeEventListener("success",re),xt.removeEventListener("error",te)},re=()=>{he(tt(xt.result)),Ge()},te=()=>{ae(xt.error),Ge()};xt.addEventListener("success",re),xt.addEventListener("error",te)});return _t.then(he=>{he instanceof IDBCursor&&_e.set(he,xt)}).catch(()=>{}),We.set(_t,xt),_t}(xt);if(qe.has(xt))return qe.get(xt);const _t=Qe(xt);return _t!==xt&&(qe.set(xt,_t),We.set(_t,xt)),_t}const Se=xt=>We.get(xt),dt=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],we=new Map;function Dt(xt,_t){if(!(xt instanceof IDBDatabase)||_t in xt||"string"!=typeof _t)return;if(we.get(_t))return we.get(_t);const he=_t.replace(/FromIndex$/,""),ae=_t!==he,Ge=Ct.includes(he);if(!(he in(ae?IDBIndex:IDBObjectStore).prototype)||!Ge&&!dt.includes(he))return;const re=function(){var te=(0,c.A)(function*(Ve,...St){const Nt=this.transaction(Ve,Ge?"readwrite":"readonly");let _n=Nt.store;return ae&&(_n=_n.index(St.shift())),(yield Promise.all([_n[he](...St),Ge&&Nt.done]))[0]});return function(St){return te.apply(this,arguments)}}();return we.set(_t,re),re}!function Xe(xt){ot=xt(ot)}(xt=>({...xt,get:(_t,he,ae)=>Dt(_t,he)||xt.get(_t,he,ae),has:(_t,he)=>!!Dt(_t,he)||xt.has(_t,he)}));class kt{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function rn(xt){const _t=xt.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(he)){const ae=he.getImmediate();return`${ae.library}/${ae.version}`}return null}).filter(he=>he).join(" ")}}const fn="@firebase/app",Wt="0.10.2",mn=new V.Vy("@firebase/app"),ur="[DEFAULT]",Xn={[fn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,Zt=new Map,Nn=new Map;function ir(xt,_t){try{xt.container.addComponent(_t)}catch(he){mn.debug(`Component ${_t.name} failed to register with FirebaseApp ${xt.name}`,he)}}function qn(xt,_t){xt.container.addOrOverwriteComponent(_t)}function Qn(xt){const _t=xt.name;if(Nn.has(_t))return mn.debug(`There were multiple attempts to register component ${_t}.`),!1;Nn.set(_t,xt);for(const he of un.values())ir(he,xt);for(const he of Zt.values())ir(he,xt);return!0}function Rn(xt,_t){const he=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return he&&he.triggerHeartbeat(),xt.container.getProvider(_t)}function Er(xt,_t,he=ur){Rn(xt,_t).clearInstance(he)}function Fn(xt){return void 0!==xt.options}function pr(xt){return void 0!==xt.settings}function Dn(){Nn.clear()}const _r=new Re.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Un{constructor(_t,he,ae){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=ae,this.container.addComponent(new d.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}class In extends Un{constructor(_t,he,ae,Ge){const re=void 0!==he.automaticDataCollectionEnabled&&he.automaticDataCollectionEnabled,te={name:ae,automaticDataCollectionEnabled:re};super(void 0!==_t.apiKey?_t:_t.options,te,Ge),this._serverConfig=Object.assign({automaticDataCollectionEnabled:re},he),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,he.releaseOnDeref=void 0,de(fn,Wt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(_t){this.isDeleted||(this._refCount++,void 0!==_t&&this._finalizationRegistry.register(_t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){yt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw _r.create("server-app-deleted")}}const Pn="10.11.1";function ar(xt,_t={}){let he=xt;"object"!=typeof _t&&(_t={name:_t});const ae=Object.assign({name:ur,automaticDataCollectionEnabled:!1},_t),Ge=ae.name;if("string"!=typeof Ge||!Ge)throw _r.create("bad-app-name",{appName:String(Ge)});if(he||(he=(0,Re.T9)()),!he)throw _r.create("no-options");const re=un.get(Ge);if(re){if((0,Re.bD)(he,re.options)&&(0,Re.bD)(ae,re.config))return re;throw _r.create("duplicate-app",{appName:Ge})}const te=new d.h1(Ge);for(const St of Nn.values())te.addComponent(St);const Ve=new Un(he,ae,te);return un.set(Ge,Ve),Ve}function Tr(xt,_t){if((0,Re.Bd)())throw _r.create("invalid-server-app-environment");let he;void 0===_t.automaticDataCollectionEnabled&&(_t.automaticDataCollectionEnabled=!1),he=Fn(xt)?xt.options:xt;const ae=Object.assign(Object.assign({},_t),he);if(void 0!==ae.releaseOnDeref&&delete ae.releaseOnDeref,void 0!==_t.releaseOnDeref&&typeof FinalizationRegistry>"u")throw _r.create("finalization-registry-not-supported",{});const re=""+(Nt=JSON.stringify(ae),[...Nt].reduce((_n,Yn)=>Math.imul(31,_n)+Yn.charCodeAt(0)|0,0)),te=Zt.get(re);var Nt;if(te)return te.incRefCount(_t.releaseOnDeref),te;const Ve=new d.h1(re);for(const Nt of Nn.values())Ve.addComponent(Nt);const St=new In(he,_t,re,Ve);return Zt.set(re,St),St}function it(xt=ur){const _t=un.get(xt);if(!_t&&xt===ur&&(0,Re.T9)())return ar();if(!_t)throw _r.create("no-app",{appName:xt});return _t}function Ye(){return Array.from(un.values())}function yt(xt){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.A)(function*(xt){let _t=!1;const he=xt.name;un.has(he)?(_t=!0,un.delete(he)):Zt.has(he)&&xt.decRefCount()<=0&&(Zt.delete(he),_t=!0),_t&&(yield Promise.all(xt.container.getProviders().map(ae=>ae.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function de(xt,_t,he){var ae;let Ge=null!==(ae=Xn[xt])&&void 0!==ae?ae:xt;he&&(Ge+=`-${he}`);const re=Ge.match(/\s|\//),te=_t.match(/\s|\//);if(re||te){const Ve=[`Unable to register library "${Ge}" with version "${_t}":`];return re&&Ve.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),re&&te&&Ve.push("and"),te&&Ve.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void mn.warn(Ve.join(" "))}Qn(new d.uA(`${Ge}-version`,()=>({library:Ge,version:_t}),"VERSION"))}function Ee(xt,_t){if(null!==xt&&"function"!=typeof xt)throw _r.create("invalid-log-argument");(0,V.Ey)(xt,_t)}function ne(xt){(0,V.He)(xt)}const F="firebase-heartbeat-database",B=1,Ie="firebase-heartbeat-store";let Le=null;function ut(){return Le||(Le=function ze(xt,_t,{blocked:he,upgrade:ae,blocking:Ge,terminated:re}={}){const te=indexedDB.open(xt,_t),Ve=tt(te);return ae&&te.addEventListener("upgradeneeded",St=>{ae(tt(te.result),St.oldVersion,St.newVersion,tt(te.transaction),St)}),he&&te.addEventListener("blocked",St=>he(St.oldVersion,St.newVersion,St)),Ve.then(St=>{re&&St.addEventListener("close",()=>re()),Ge&&St.addEventListener("versionchange",Nt=>Ge(Nt.oldVersion,Nt.newVersion,Nt))}).catch(()=>{}),Ve}(F,B,{upgrade:(xt,_t)=>{if(0===_t)try{xt.createObjectStore(Ie)}catch(he){console.warn(he)}}}).catch(xt=>{throw _r.create("idb-open",{originalErrorMessage:xt.message})})),Le}function $t(){return($t=(0,c.A)(function*(xt){try{const he=(yield ut()).transaction(Ie),ae=yield he.objectStore(Ie).get(Ot(xt));return yield he.done,ae}catch(_t){if(_t instanceof Re.g)mn.warn(_t.message);else{const he=_r.create("idb-get",{originalErrorMessage:null==_t?void 0:_t.message});mn.warn(he.message)}}})).apply(this,arguments)}function sn(xt,_t){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.A)(function*(xt,_t){try{const ae=(yield ut()).transaction(Ie,"readwrite");yield ae.objectStore(Ie).put(_t,Ot(xt)),yield ae.done}catch(he){if(he instanceof Re.g)mn.warn(he.message);else{const ae=_r.create("idb-set",{originalErrorMessage:null==he?void 0:he.message});mn.warn(ae.message)}}})).apply(this,arguments)}function Ot(xt){return`${xt.name}!${xt.options.appId}`}class Lr{constructor(_t){this.container=_t,this._heartbeatsCache=null;const he=this.container.getProvider("app").getImmediate();this._storage=new or(he),this._heartbeatsCachePromise=this._storage.read().then(ae=>(this._heartbeatsCache=ae,ae))}triggerHeartbeat(){var _t=this;return(0,c.A)(function*(){var he,ae;const re=_t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),te=ci();if((null!=(null===(he=_t._heartbeatsCache)||void 0===he?void 0:he.heartbeats)||(_t._heartbeatsCache=yield _t._heartbeatsCachePromise,null!=(null===(ae=_t._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)))&&_t._heartbeatsCache.lastSentHeartbeatDate!==te&&!_t._heartbeatsCache.heartbeats.some(Ve=>Ve.date===te))return _t._heartbeatsCache.heartbeats.push({date:te,agent:re}),_t._heartbeatsCache.heartbeats=_t._heartbeatsCache.heartbeats.filter(Ve=>{const St=new Date(Ve.date).valueOf();return Date.now()-St<=2592e6}),_t._storage.overwrite(_t._heartbeatsCache)})()}getHeartbeatsHeader(){var _t=this;return(0,c.A)(function*(){var he;if(null===_t._heartbeatsCache&&(yield _t._heartbeatsCachePromise),null==(null===(he=_t._heartbeatsCache)||void 0===he?void 0:he.heartbeats)||0===_t._heartbeatsCache.heartbeats.length)return"";const ae=ci(),{heartbeatsToSend:Ge,unsentEntries:re}=function Jr(xt,_t=1024){const he=[];let ae=xt.slice();for(const Ge of xt){const re=he.find(te=>te.agent===Ge.agent);if(re){if(re.dates.push(Ge.date),Br(he)>_t){re.dates.pop();break}}else if(he.push({agent:Ge.agent,dates:[Ge.date]}),Br(he)>_t){he.pop();break}ae=ae.slice(1)}return{heartbeatsToSend:he,unsentEntries:ae}}(_t._heartbeatsCache.heartbeats),te=(0,Re.Uj)(JSON.stringify({version:2,heartbeats:Ge}));return _t._heartbeatsCache.lastSentHeartbeatDate=ae,re.length>0?(_t._heartbeatsCache.heartbeats=re,yield _t._storage.overwrite(_t._heartbeatsCache)):(_t._heartbeatsCache.heartbeats=[],_t._storage.overwrite(_t._heartbeatsCache)),te})()}}function ci(){return(new Date).toISOString().substring(0,10)}class or{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Re.zW)()&&(0,Re.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _t=this;return(0,c.A)(function*(){if(yield _t._canUseIndexedDBPromise){const ae=yield function Lt(xt){return $t.apply(this,arguments)}(_t.app);return null!=ae&&ae.heartbeats?ae:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_t){var he=this;return(0,c.A)(function*(){var ae;if(yield he._canUseIndexedDBPromise){const re=yield he.read();return sn(he.app,{lastSentHeartbeatDate:null!==(ae=_t.lastSentHeartbeatDate)&&void 0!==ae?ae:re.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}})()}add(_t){var he=this;return(0,c.A)(function*(){var ae;if(yield he._canUseIndexedDBPromise){const re=yield he.read();return sn(he.app,{lastSentHeartbeatDate:null!==(ae=_t.lastSentHeartbeatDate)&&void 0!==ae?ae:re.lastSentHeartbeatDate,heartbeats:[...re.heartbeats,..._t.heartbeats]})}})()}}function Br(xt){return(0,Re.Uj)(JSON.stringify({version:2,heartbeats:xt})).length}!function Ti(xt){Qn(new d.uA("platform-logger",_t=>new kt(_t),"PRIVATE")),Qn(new d.uA("heartbeat",_t=>new Lr(_t),"PRIVATE")),de(fn,Wt,xt),de(fn,Wt,"esm2017"),de("fire-js","")}("")},1362:(hn,ft,N)=>{"use strict";N.d(ft,{h1:()=>Ce,uA:()=>V});var c=N(467),d=N(1076);class V{constructor(_e,ge,Ke){this.name=_e,this.instanceFactory=ge,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const Re="[DEFAULT]";class Y{constructor(_e,ge){this.name=_e,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const ge=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(ge)){const Ke=new d.cY;if(this.instancesDeferred.set(ge,Ke),this.isInitialized(ge)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ge});qe&&Ke.resolve(qe)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(_e){var ge;const Ke=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),qe=null!==(ge=null==_e?void 0:_e.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch(We){if(qe)return null;throw We}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function ie(Ze){return"EAGER"===Ze.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[ge,Ke]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ge);try{const We=this.getOrInitializeService({instanceIdentifier:qe});Ke.resolve(We)}catch{}}}}clearInstance(_e=Re){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,c.A)(function*(){const ge=Array.from(_e.instances.values());yield Promise.all([...ge.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...ge.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=Re){return this.instances.has(_e)}getOptions(_e=Re){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:ge={}}=_e,Ke=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Ke,options:ge});for(const[We,nt]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier(We)&&nt.resolve(qe);return qe}onInit(_e,ge){var Ke;const qe=this.normalizeInstanceIdentifier(ge),We=null!==(Ke=this.onInitCallbacks.get(qe))&&void 0!==Ke?Ke:new Set;We.add(_e),this.onInitCallbacks.set(qe,We);const nt=this.instances.get(qe);return nt&&_e(nt,qe),()=>{We.delete(_e)}}invokeOnInitCallbacks(_e,ge){const Ke=this.onInitCallbacks.get(ge);if(Ke)for(const qe of Ke)try{qe(_e,ge)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:ge={}}){let Ke=this.instances.get(_e);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=_e,Ze===Re?void 0:Ze),options:ge}),this.instances.set(_e,Ke),this.instancesOptions.set(_e,ge),this.invokeOnInitCallbacks(Ke,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Ke)}catch{}var Ze;return Ke||null}normalizeInstanceIdentifier(_e=Re){return this.component?this.component.multipleInstances?_e:Re:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const ge=this.getProvider(_e.name);if(ge.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);ge.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const ge=new Y(_e,this);return this.providers.set(_e,ge),ge}getProviders(){return Array.from(this.providers.values())}}},8041:(hn,ft,N)=>{"use strict";N.d(ft,{$b:()=>d,Ey:()=>Ze,He:()=>Ce,Vy:()=>ie});const c=[];var d=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(d||{});const V={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},Re=d.INFO,Y={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},ke=(_e,ge,...Ke)=>{if(ge<_e.logLevel)return;const qe=(new Date).toISOString(),We=Y[ge];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[We](`[${qe}]  ${_e.name}:`,...Ke)};class ie{constructor(ge){this.name=ge,this._logLevel=Re,this._logHandler=ke,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in d))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?V[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...ge),this._logHandler(this,d.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...ge),this._logHandler(this,d.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,d.INFO,...ge),this._logHandler(this,d.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,d.WARN,...ge),this._logHandler(this,d.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...ge),this._logHandler(this,d.ERROR,...ge)}}function Ce(_e){c.forEach(ge=>{ge.setLogLevel(_e)})}function Ze(_e,ge){for(const Ke of c){let qe=null;ge&&ge.level&&(qe=V[ge.level]),Ke.userLogHandler=null===_e?null:(We,nt,...ct)=>{const ot=ct.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch{return null}}).filter(Xe=>Xe).join(" ");nt>=(null!=qe?qe:We.logLevel)&&_e({level:d[nt].toLowerCase(),message:ot,args:ct,type:We.name})}}}},2872:(hn,ft,N)=>{"use strict";N.d(ft,{Yq:()=>gt,TS:()=>Hn,sR:()=>tr,el:()=>Lt,Sb:()=>Dn,QE:()=>Tn,CF:()=>Er,Rg:()=>Ee,p4:()=>lr,jM:()=>xt,q9:()=>bt,Kb:()=>_t,CE:()=>$t,pF:()=>sn,fL:()=>ci,YV:()=>Ie,er:()=>Lr,z3:()=>Jr});var c=N(467),d=N(9842),V=N(4438),Re=N(4964),Y=N(177),ke=N(5531),ie=N(4442);var kt=N(1413),rn=N(3726),fn=N(4412),Wt=N(4572),mn=N(7673),mt=N(1635),Ne=N(5964),J=N(5558),Z=N(3294),ce=N(4341);const pe=["tabsInner"];let lt=(()=>{var he;class ae{constructor(re,te){(0,d.A)(this,"doc",void 0),(0,d.A)(this,"_readyPromise",void 0),(0,d.A)(this,"win",void 0),(0,d.A)(this,"backButton",new kt.B),(0,d.A)(this,"keyboardDidShow",new kt.B),(0,d.A)(this,"keyboardDidHide",new kt.B),(0,d.A)(this,"pause",new kt.B),(0,d.A)(this,"resume",new kt.B),(0,d.A)(this,"resize",new kt.B),this.doc=re,te.run(()=>{var Ve;let St;this.win=re.defaultView,this.backButton.subscribeWithPriority=function(Nt,_n){return this.subscribe(Yn=>Yn.register(Nt,Gn=>te.run(()=>_n(Gn))))},wt(this.pause,re,"pause",te),wt(this.resume,re,"resume",te),wt(this.backButton,re,"ionBackButton",te),wt(this.resize,this.win,"resize",te),wt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",te),wt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",te),this._readyPromise=new Promise(Nt=>{St=Nt}),null!==(Ve=this.win)&&void 0!==Ve&&Ve.cordova?re.addEventListener("deviceready",()=>{St("cordova")},{once:!0}):St("dom")})}is(re){return(0,ke.a)(this.win,re)}platforms(){return(0,ke.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(re){return Mt(this.win.location.href,re)}isLandscape(){return!this.isPortrait()}isPortrait(){var re,te;return null===(re=(te=this.win).matchMedia)||void 0===re?void 0:re.call(te,"(orientation: portrait)").matches}testUserAgent(re){const te=this.win.navigator;return!!(null!=te&&te.userAgent&&te.userAgent.indexOf(re)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.KVO(Y.qQ),V.KVO(V.SKi))}),(0,d.A)(ae,"\u0275prov",V.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})),ae})();const Mt=(he,ae)=>{ae=ae.replace(/[[\]\\]/g,"\\$&");const re=new RegExp("[\\?&]"+ae+"=([^&#]*)").exec(he);return re?decodeURIComponent(re[1].replace(/\+/g," ")):null},wt=(he,ae,Ge,re)=>{ae&&ae.addEventListener(Ge,te=>{re.run(()=>{he.next(null!=te?te.detail:void 0)})})};let bt=(()=>{var he;class ae{constructor(re,te,Ve,St){(0,d.A)(this,"location",void 0),(0,d.A)(this,"serializer",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"topOutlet",void 0),(0,d.A)(this,"direction",vn),(0,d.A)(this,"animated",Bn),(0,d.A)(this,"animationBuilder",void 0),(0,d.A)(this,"guessDirection","forward"),(0,d.A)(this,"guessAnimation",void 0),(0,d.A)(this,"lastNavId",-1),this.location=te,this.serializer=Ve,this.router=St,St&&St.events.subscribe(Nt=>{if(Nt instanceof Re.Z){const _n=Nt.restoredState?Nt.restoredState.navigationId:Nt.id;this.guessDirection=this.guessAnimation=_n<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Nt.id:_n}}),re.backButton.subscribeWithPriority(0,Nt=>{this.pop(),Nt()})}navigateForward(re,te={}){return this.setDirection("forward",te.animated,te.animationDirection,te.animation),this.navigate(re,te)}navigateBack(re,te={}){return this.setDirection("back",te.animated,te.animationDirection,te.animation),this.navigate(re,te)}navigateRoot(re,te={}){return this.setDirection("root",te.animated,te.animationDirection,te.animation),this.navigate(re,te)}back(re={animated:!0,animationDirection:"back"}){return this.setDirection("back",re.animated,re.animationDirection,re.animation),this.location.back()}pop(){var re=this;return(0,c.A)(function*(){let te=re.topOutlet;for(;te;){if(yield te.pop())return!0;te=te.parentOutlet}return!1})()}setDirection(re,te,Ve,St){this.direction=re,this.animated=nn(re,te,Ve),this.animationBuilder=St}setTopOutlet(re){this.topOutlet=re}consumeTransition(){let te,re="root";const Ve=this.animationBuilder;return"auto"===this.direction?(re=this.guessDirection,te=this.guessAnimation):(te=this.animated,re=this.direction),this.direction=vn,this.animated=Bn,this.animationBuilder=void 0,{direction:re,animation:te,animationBuilder:Ve}}navigate(re,te){if(Array.isArray(re))return this.router.navigate(re,te);{const Ve=this.serializer.parse(re.toString());return void 0!==te.queryParams&&(Ve.queryParams={...te.queryParams}),void 0!==te.fragment&&(Ve.fragment=te.fragment),this.router.navigateByUrl(Ve,te)}}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.KVO(lt),V.KVO(Y.aZ),V.KVO(Re.Sd),V.KVO(Re.Ix,8))}),(0,d.A)(ae,"\u0275prov",V.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})),ae})();const nn=(he,ae,Ge)=>{if(!1!==ae){if(void 0!==Ge)return Ge;if("forward"===he||"back"===he)return he;if("root"===he&&!0===ae)return"forward"}},vn="auto",Bn=void 0;let Hn=(()=>{var he;class ae{get(re,te){const Ve=Vn();return Ve?Ve.get(re,te):null}getBoolean(re,te){const Ve=Vn();return!!Ve&&Ve.getBoolean(re,te)}getNumber(re,te){const Ve=Vn();return Ve?Ve.getNumber(re,te):0}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)}),(0,d.A)(ae,"\u0275prov",V.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})),ae})();const tr=new V.nKC("USERCONFIG"),Vn=()=>{if(typeof window<"u"){const he=window.Ionic;if(null!=he&&he.config)return he.config}return null};class zn{constructor(ae={}){(0,d.A)(this,"data",void 0),this.data=ae}get(ae){return this.data[ae]}}let gt=(()=>{var he;class ae{constructor(){(0,d.A)(this,"zone",(0,V.WQX)(V.SKi)),(0,d.A)(this,"applicationRef",(0,V.WQX)(V.o8S))}create(re,te,Ve){return new Be(re,te,this.applicationRef,this.zone,Ve)}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)}),(0,d.A)(ae,"\u0275prov",V.jDH({token:he,factory:he.\u0275fac})),ae})();class Be{constructor(ae,Ge,re,te,Ve){(0,d.A)(this,"environmentInjector",void 0),(0,d.A)(this,"injector",void 0),(0,d.A)(this,"applicationRef",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"elementReferenceKey",void 0),(0,d.A)(this,"elRefMap",new WeakMap),(0,d.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=ae,this.injector=Ge,this.applicationRef=re,this.zone=te,this.elementReferenceKey=Ve}attachViewToDom(ae,Ge,re,te){return this.zone.run(()=>new Promise(Ve=>{const St={...re};void 0!==this.elementReferenceKey&&(St[this.elementReferenceKey]=ae),Ve(Rt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ae,Ge,St,te,this.elementReferenceKey))}))}removeViewFromDom(ae,Ge){return this.zone.run(()=>new Promise(re=>{const te=this.elRefMap.get(Ge);if(te){te.destroy(),this.elRefMap.delete(Ge);const Ve=this.elEventsMap.get(Ge);Ve&&(Ve(),this.elEventsMap.delete(Ge))}re()}))}}const Rt=(he,ae,Ge,re,te,Ve,St,Nt,_n,Yn,Gn)=>{const di=V.zZn.create({providers:Xn(_n),parent:Ge}),Ii=(0,V.a0P)(Nt,{environmentInjector:ae,elementInjector:di}),pi=Ii.instance,Jn=Ii.location.nativeElement;if(_n&&(Gn&&void 0!==pi[Gn]&&console.error(`[Ionic Error]: ${Gn} is a reserved property when using ${St.tagName.toLowerCase()}. Rename or remove the "${Gn}" property from ${Nt.name}.`),Object.assign(pi,_n)),Yn)for(const Oo of Yn)Jn.classList.add(Oo);const Fi=Wn(he,pi,Jn);return St.appendChild(Jn),re.attachView(Ii.hostView),te.set(Jn,Ii),Ve.set(Jn,Fi),Jn},pn=[ie.L,ie.a,ie.b,ie.c,ie.d],Wn=(he,ae,Ge)=>he.run(()=>{const re=pn.filter(te=>"function"==typeof ae[te]).map(te=>{const Ve=St=>ae[te](St.detail);return Ge.addEventListener(te,Ve),()=>Ge.removeEventListener(te,Ve)});return()=>re.forEach(te=>te())}),ur=new V.nKC("NavParamsToken"),Xn=he=>[{provide:ur,useValue:he},{provide:zn,useFactory:un,deps:[ur]}],un=he=>new zn(he),Zt=(he,ae)=>{const Ge=he.prototype;ae.forEach(re=>{Object.defineProperty(Ge,re,{get(){return this.el[re]},set(te){this.z.runOutsideAngular(()=>this.el[re]=te)}})})},Nn=(he,ae)=>{const Ge=he.prototype;ae.forEach(re=>{Ge[re]=function(){const te=arguments;return this.z.runOutsideAngular(()=>this.el[re].apply(this.el,te))}})},ir=(he,ae,Ge)=>{Ge.forEach(re=>he[re]=(0,rn.R)(ae,re))};function qn(he){return function(Ge){const{defineCustomElementFn:re,inputs:te,methods:Ve}=he;return void 0!==re&&re(),te&&Zt(Ge,te),Ve&&Nn(Ge,Ve),Ge}}const Qn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Rn=["present","dismiss","onDidDismiss","onWillDismiss"];let Er=(()=>{var he;let ae=((0,d.A)(he=class{constructor(re,te,Ve){(0,d.A)(this,"z",void 0),(0,d.A)(this,"template",void 0),(0,d.A)(this,"isCmpOpen",!1),(0,d.A)(this,"el",void 0),this.z=Ve,this.el=te.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,re.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,re.detectChanges()}),ir(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(re){return new(re||he)(V.rXU(V.gRc),V.rXU(V.aKT),V.rXU(V.SKi))}),(0,d.A)(he,"\u0275dir",V.FsC({type:he,selectors:[["ion-popover"]],contentQueries:function(re,te,Ve){if(1&re&&V.wni(Ve,V.C4Q,5),2&re){let St;V.mGM(St=V.lsd())&&(te.template=St.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),he);return ae=(0,mt.Cg)([qn({inputs:Qn,methods:Rn})],ae),ae})();const Fn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],pr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Dn=(()=>{var he;let ae=((0,d.A)(he=class{constructor(re,te,Ve){(0,d.A)(this,"z",void 0),(0,d.A)(this,"template",void 0),(0,d.A)(this,"isCmpOpen",!1),(0,d.A)(this,"el",void 0),this.z=Ve,this.el=te.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,re.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,re.detectChanges()}),ir(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(re){return new(re||he)(V.rXU(V.gRc),V.rXU(V.aKT),V.rXU(V.SKi))}),(0,d.A)(he,"\u0275dir",V.FsC({type:he,selectors:[["ion-modal"]],contentQueries:function(re,te,Ve){if(1&re&&V.wni(Ve,V.C4Q,5),2&re){let St;V.mGM(St=V.lsd())&&(te.template=St.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),he);return ae=(0,mt.Cg)([qn({inputs:Fn,methods:pr})],ae),ae})();const _r=(he,ae)=>((he=he.filter(Ge=>Ge.stackId!==ae.stackId)).push(ae),he),Pn=(he,ae)=>{const Ge=he.createUrlTree(["."],{relativeTo:ae});return he.serializeUrl(Ge)},ar=(he,ae)=>!ae||he.stackId!==ae.stackId,Tr=(he,ae)=>{if(!he)return;const Ge=it(ae);for(let re=0;re<Ge.length;re++){if(re>=he.length)return Ge[re];if(Ge[re]!==he[re])return}},it=he=>he.split("/").map(ae=>ae.trim()).filter(ae=>""!==ae),Ye=he=>{he&&(he.ref.destroy(),he.unlistenEvents())};class yt{constructor(ae,Ge,re,te,Ve,St){(0,d.A)(this,"containerEl",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"location",void 0),(0,d.A)(this,"views",[]),(0,d.A)(this,"runningTask",void 0),(0,d.A)(this,"skipTransition",!1),(0,d.A)(this,"tabsPrefix",void 0),(0,d.A)(this,"activeView",void 0),(0,d.A)(this,"nextId",0),this.containerEl=Ge,this.router=re,this.navCtrl=te,this.zone=Ve,this.location=St,this.tabsPrefix=void 0!==ae?it(ae):void 0}createView(ae,Ge){var re;const te=Pn(this.router,Ge),Ve=null==ae||null===(re=ae.location)||void 0===re?void 0:re.nativeElement,St=Wn(this.zone,ae.instance,Ve);return{id:this.nextId++,stackId:Tr(this.tabsPrefix,te),unlistenEvents:St,element:Ve,ref:ae,url:te}}getExistingView(ae){const Ge=Pn(this.router,ae),re=this.views.find(te=>te.url===Ge);return re&&re.ref.changeDetectorRef.reattach(),re}setActive(ae){var Ge,re;const te=this.navCtrl.consumeTransition();let{direction:Ve,animation:St,animationBuilder:Nt}=te;const _n=this.activeView,Yn=ar(ae,_n);Yn&&(Ve="back",St=void 0);const Gn=this.views.slice();let di;const Ii=this.router;Ii.getCurrentNavigation?di=Ii.getCurrentNavigation():null!==(Ge=Ii.navigations)&&void 0!==Ge&&Ge.value&&(di=Ii.navigations.value),null!==(re=di)&&void 0!==re&&null!==(re=re.extras)&&void 0!==re&&re.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const pi=this.views.includes(ae),Jn=this.insertView(ae,Ve);pi||ae.ref.changeDetectorRef.detectChanges();const Fi=ae.animationBuilder;return void 0===Nt&&"back"===Ve&&!Yn&&void 0!==Fi&&(Nt=Fi),_n&&(_n.animationBuilder=Nt),this.zone.runOutsideAngular(()=>this.wait(()=>(_n&&_n.ref.changeDetectorRef.detach(),ae.ref.changeDetectorRef.reattach(),this.transition(ae,_n,St,this.canGoBack(1),!1,Nt).then(()=>rt(ae,Jn,Gn,this.location,this.zone)).then(()=>({enteringView:ae,direction:Ve,animation:St,tabSwitch:Yn})))))}canGoBack(ae,Ge=this.getActiveStackId()){return this.getStack(Ge).length>ae}pop(ae,Ge=this.getActiveStackId()){return this.zone.run(()=>{const re=this.getStack(Ge);if(re.length<=ae)return Promise.resolve(!1);const te=re[re.length-ae-1];let Ve=te.url;const St=te.savedData;if(St){var Nt;const Yn=St.get("primary");null!=Yn&&null!==(Nt=Yn.route)&&void 0!==Nt&&null!==(Nt=Nt._routerState)&&void 0!==Nt&&Nt.snapshot.url&&(Ve=Yn.route._routerState.snapshot.url)}const{animationBuilder:_n}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ve,{...te.savedExtras,animation:_n}).then(()=>!0)})}startBackTransition(){const ae=this.activeView;if(ae){const Ge=this.getStack(ae.stackId),re=Ge[Ge.length-2],te=re.animationBuilder;return this.wait(()=>this.transition(re,ae,"back",this.canGoBack(2),!0,te))}return Promise.resolve()}endBackTransition(ae){ae?(this.skipTransition=!0,this.pop(1)):this.activeView&&de(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ae){const Ge=this.getStack(ae);return Ge.length>0?Ge[Ge.length-1]:void 0}getRootUrl(ae){const Ge=this.getStack(ae);return Ge.length>0?Ge[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ye),this.activeView=void 0,this.views=[]}getStack(ae){return this.views.filter(Ge=>Ge.stackId===ae)}insertView(ae,Ge){return this.activeView=ae,this.views=((he,ae,Ge)=>"root"===Ge?_r(he,ae):"forward"===Ge?((he,ae)=>(he.indexOf(ae)>=0?he=he.filter(re=>re.stackId!==ae.stackId||re.id<=ae.id):he.push(ae),he))(he,ae):((he,ae)=>he.indexOf(ae)>=0?he.filter(re=>re.stackId!==ae.stackId||re.id<=ae.id):_r(he,ae))(he,ae))(this.views,ae,Ge),this.views.slice()}transition(ae,Ge,re,te,Ve,St){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ge===ae)return Promise.resolve(!1);const Nt=ae?ae.element:void 0,_n=Ge?Ge.element:void 0,Yn=this.containerEl;return Nt&&Nt!==_n&&(Nt.classList.add("ion-page"),Nt.classList.add("ion-page-invisible"),Yn.commit)?Yn.commit(Nt,_n,{duration:void 0===re?0:void 0,direction:re,showGoBack:te,progressAnimation:Ve,animationBuilder:St}):Promise.resolve(!1)}wait(ae){var Ge=this;return(0,c.A)(function*(){void 0!==Ge.runningTask&&(yield Ge.runningTask,Ge.runningTask=void 0);const re=Ge.runningTask=ae();return re.finally(()=>Ge.runningTask=void 0),re})()}}const rt=(he,ae,Ge,re,te)=>"function"==typeof requestAnimationFrame?new Promise(Ve=>{requestAnimationFrame(()=>{de(he,ae,Ge,re,te),Ve()})}):Promise.resolve(),de=(he,ae,Ge,re,te)=>{te.run(()=>Ge.filter(Ve=>!ae.includes(Ve)).forEach(Ye)),ae.forEach(Ve=>{const Nt=re.path().split("?")[0].split("#")[0];if(Ve!==he&&Ve.url!==Nt){const _n=Ve.element;_n.setAttribute("aria-hidden","true"),_n.classList.add("ion-page-hidden"),Ve.ref.changeDetectorRef.detach()}})};let Ee=(()=>{var he;class ae{get activatedComponentRef(){return this.activated}set animation(re){this.nativeEl.animation=re}set animated(re){this.nativeEl.animated=re}set swipeGesture(re){this._swipeGesture=re,this.nativeEl.swipeHandler=re?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:te=>this.stackCtrl.endBackTransition(te)}:void 0}constructor(re,te,Ve,St,Nt,_n,Yn,Gn){(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"nativeEl",void 0),(0,d.A)(this,"activatedView",null),(0,d.A)(this,"tabsPrefix",void 0),(0,d.A)(this,"_swipeGesture",void 0),(0,d.A)(this,"stackCtrl",void 0),(0,d.A)(this,"proxyMap",new WeakMap),(0,d.A)(this,"currentActivatedRoute$",new fn.t(null)),(0,d.A)(this,"activated",null),(0,d.A)(this,"_activatedRoute",null),(0,d.A)(this,"name",Re.Xk),(0,d.A)(this,"stackWillChange",new V.bkB),(0,d.A)(this,"stackDidChange",new V.bkB),(0,d.A)(this,"activateEvents",new V.bkB),(0,d.A)(this,"deactivateEvents",new V.bkB),(0,d.A)(this,"parentContexts",(0,V.WQX)(Re.Zp)),(0,d.A)(this,"location",(0,V.WQX)(V.c1b)),(0,d.A)(this,"environmentInjector",(0,V.WQX)(V.uvJ)),(0,d.A)(this,"inputBinder",(0,V.WQX)(F,{optional:!0})),(0,d.A)(this,"supportsBindingToComponentInputs",!0),(0,d.A)(this,"config",(0,V.WQX)(Hn)),(0,d.A)(this,"navCtrl",(0,V.WQX)(bt)),this.parentOutlet=Gn,this.nativeEl=St.nativeElement,this.name=re||Re.Xk,this.tabsPrefix="true"===te?Pn(Nt,Yn):void 0,this.stackCtrl=new yt(this.tabsPrefix,this.nativeEl,Nt,this.navCtrl,_n,Ve),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var re;this.stackCtrl.destroy(),null===(re=this.inputBinder)||void 0===re||re.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const re=this.getContext();null!=re&&re.route&&this.activateWith(re.route,re.injector)}new Promise(re=>((he,ae)=>{he.componentOnReady?he.componentOnReady().then(Ge=>ae(Ge)):(he=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he)})(()=>ae(he))})(this.nativeEl,re)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(re,te){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const te=this.getContext();this.activatedView.savedData=new Map(te.children.contexts);const Ve=this.activatedView.savedData.get("primary");if(Ve&&te.route&&(Ve.route={...te.route}),this.activatedView.savedExtras={},te.route){const St=te.route.snapshot;this.activatedView.savedExtras.queryParams=St.queryParams,this.activatedView.savedExtras.fragment=St.fragment}}const re=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(re)}}activateWith(re,te){var Ve;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=re;let St,Nt=this.stackCtrl.getExistingView(re);if(Nt){St=this.activated=Nt.ref;const Gn=Nt.savedData;Gn&&(this.getContext().children.contexts=Gn),this.updateActivatedRouteProxy(St.instance,re)}else{var _n;const Gn=re._futureSnapshot,di=this.parentContexts.getOrCreateContext(this.name).children,Ii=new fn.t(null),pi=this.createActivatedRouteProxy(Ii,re),Jn=new ne(pi,di,this.location.injector),Fi=null!==(_n=Gn.routeConfig.component)&&void 0!==_n?_n:Gn.component;St=this.activated=this.outletContent.createComponent(Fi,{index:this.outletContent.length,injector:Jn,environmentInjector:null!=te?te:this.environmentInjector}),Ii.next(St.instance),Nt=this.stackCtrl.createView(this.activated,re),this.proxyMap.set(St.instance,pi),this.currentActivatedRoute$.next({component:St.instance,activatedRoute:re})}null===(Ve=this.inputBinder)||void 0===Ve||Ve.bindActivatedRouteToOutletComponent(this),this.activatedView=Nt,this.navCtrl.setTopOutlet(this);const Yn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Nt,tabSwitch:ar(Nt,Yn)}),this.stackCtrl.setActive(Nt).then(Gn=>{this.activateEvents.emit(St.instance),this.stackDidChange.emit(Gn)})}canGoBack(re=1,te){return this.stackCtrl.canGoBack(re,te)}pop(re=1,te){return this.stackCtrl.pop(re,te)}getLastUrl(re){const te=this.stackCtrl.getLastUrl(re);return te?te.url:void 0}getLastRouteView(re){return this.stackCtrl.getLastUrl(re)}getRootView(re){return this.stackCtrl.getRootUrl(re)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(re,te){const Ve=new Re.nX;return Ve._futureSnapshot=te._futureSnapshot,Ve._routerState=te._routerState,Ve.snapshot=te.snapshot,Ve.outlet=te.outlet,Ve.component=te.component,Ve._paramMap=this.proxyObservable(re,"paramMap"),Ve._queryParamMap=this.proxyObservable(re,"queryParamMap"),Ve.url=this.proxyObservable(re,"url"),Ve.params=this.proxyObservable(re,"params"),Ve.queryParams=this.proxyObservable(re,"queryParams"),Ve.fragment=this.proxyObservable(re,"fragment"),Ve.data=this.proxyObservable(re,"data"),Ve}proxyObservable(re,te){return re.pipe((0,Ne.p)(Ve=>!!Ve),(0,J.n)(Ve=>this.currentActivatedRoute$.pipe((0,Ne.p)(St=>null!==St&&St.component===Ve),(0,J.n)(St=>St&&St.activatedRoute[te]),(0,Z.F)())))}updateActivatedRouteProxy(re,te){const Ve=this.proxyMap.get(re);if(!Ve)throw new Error("Could not find activated route proxy for view");Ve._futureSnapshot=te._futureSnapshot,Ve._routerState=te._routerState,Ve.snapshot=te.snapshot,Ve.outlet=te.outlet,Ve.component=te.component,this.currentActivatedRoute$.next({component:re,activatedRoute:te})}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.kS0("name"),V.kS0("tabs"),V.rXU(Y.aZ),V.rXU(V.aKT),V.rXU(Re.Ix),V.rXU(V.SKi),V.rXU(Re.nX),V.rXU(he,12))}),(0,d.A)(ae,"\u0275dir",V.FsC({type:he,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),ae})();class ne{constructor(ae,Ge,re){(0,d.A)(this,"route",void 0),(0,d.A)(this,"childContexts",void 0),(0,d.A)(this,"parent",void 0),this.route=ae,this.childContexts=Ge,this.parent=re}get(ae,Ge){return ae===Re.nX?this.route:ae===Re.Zp?this.childContexts:this.parent.get(ae,Ge)}}const F=new V.nKC("");let B=(()=>{var he;class ae{constructor(){(0,d.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(re){this.unsubscribeFromRouteData(re),this.subscribeToRouteData(re)}unsubscribeFromRouteData(re){var te;null===(te=this.outletDataSubscriptions.get(re))||void 0===te||te.unsubscribe(),this.outletDataSubscriptions.delete(re)}subscribeToRouteData(re){const{activatedRoute:te}=re,Ve=(0,Wt.z)([te.queryParams,te.params,te.data]).pipe((0,J.n)(([St,Nt,_n],Yn)=>(_n={...St,...Nt,..._n},0===Yn?(0,mn.of)(_n):Promise.resolve(_n)))).subscribe(St=>{if(!re.isActivated||!re.activatedComponentRef||re.activatedRoute!==te||null===te.component)return void this.unsubscribeFromRouteData(re);const Nt=(0,V.HJs)(te.component);if(Nt)for(const{templateName:_n}of Nt.inputs)re.activatedComponentRef.setInput(_n,St[_n]);else this.unsubscribeFromRouteData(re)});this.outletDataSubscriptions.set(re,Ve)}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)}),(0,d.A)(ae,"\u0275prov",V.jDH({token:he,factory:he.\u0275fac})),ae})();const Ie=()=>({provide:F,useFactory:Le,deps:[Re.Ix]});function Le(he){return null!=he&&he.componentInputBindingEnabled?new B:null}const ut=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Lt=(()=>{var he;let ae=((0,d.A)(he=class{constructor(re,te,Ve,St,Nt,_n){(0,d.A)(this,"routerOutlet",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"config",void 0),(0,d.A)(this,"r",void 0),(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.routerOutlet=re,this.navCtrl=te,this.config=Ve,this.r=St,this.z=Nt,_n.detach(),this.el=this.r.nativeElement}onClick(re){var te;const Ve=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(te=this.routerOutlet)&&void 0!==te&&te.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),re.preventDefault()):null!=Ve&&(this.navCtrl.navigateBack(Ve,{animation:this.routerAnimation}),re.preventDefault())}},"\u0275fac",function(re){return new(re||he)(V.rXU(Ee,8),V.rXU(bt),V.rXU(Hn),V.rXU(V.aKT),V.rXU(V.SKi),V.rXU(V.gRc))}),(0,d.A)(he,"\u0275dir",V.FsC({type:he,hostBindings:function(re,te){1&re&&V.bIt("click",function(St){return te.onClick(St)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),he);return ae=(0,mt.Cg)([qn({inputs:ut})],ae),ae})(),$t=(()=>{var he;class ae{constructor(re,te,Ve,St,Nt){(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"routerLink",void 0),(0,d.A)(this,"routerDirection","forward"),(0,d.A)(this,"routerAnimation",void 0),this.locationStrategy=re,this.navCtrl=te,this.elementRef=Ve,this.router=St,this.routerLink=Nt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var re;if(null!==(re=this.routerLink)&&void 0!==re&&re.urlTree){const te=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=te}}onClick(re){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),re.preventDefault()}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.rXU(Y.hb),V.rXU(bt),V.rXU(V.aKT),V.rXU(Re.Ix),V.rXU(Re.Wk,8))}),(0,d.A)(ae,"\u0275dir",V.FsC({type:he,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(re,te){1&re&&V.bIt("click",function(St){return te.onClick(St)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[V.OA$]})),ae})(),sn=(()=>{var he;class ae{constructor(re,te,Ve,St,Nt){(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"routerLink",void 0),(0,d.A)(this,"routerDirection","forward"),(0,d.A)(this,"routerAnimation",void 0),this.locationStrategy=re,this.navCtrl=te,this.elementRef=Ve,this.router=St,this.routerLink=Nt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var re;if(null!==(re=this.routerLink)&&void 0!==re&&re.urlTree){const te=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=te}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.rXU(Y.hb),V.rXU(bt),V.rXU(V.aKT),V.rXU(Re.Ix),V.rXU(Re.Wk,8))}),(0,d.A)(ae,"\u0275dir",V.FsC({type:he,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(re,te){1&re&&V.bIt("click",function(){return te.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[V.OA$]})),ae})();const zt=["animated","animation","root","rootParams","swipeGesture"],Ot=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Tn=(()=>{var he;let ae=((0,d.A)(he=class{constructor(re,te,Ve,St,Nt,_n){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=Nt,_n.detach(),this.el=re.nativeElement,re.nativeElement.delegate=St.create(te,Ve),ir(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(re){return new(re||he)(V.rXU(V.aKT),V.rXU(V.uvJ),V.rXU(V.zZn),V.rXU(gt),V.rXU(V.SKi),V.rXU(V.gRc))}),(0,d.A)(he,"\u0275dir",V.FsC({type:he,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),he);return ae=(0,mt.Cg)([qn({inputs:zt,methods:Ot})],ae),ae})(),lr=(()=>{var he;class ae{constructor(re){(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"tabsInner",void 0),(0,d.A)(this,"ionTabsWillChange",new V.bkB),(0,d.A)(this,"ionTabsDidChange",new V.bkB),(0,d.A)(this,"tabBarSlot","bottom"),this.navCtrl=re}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:re,tabSwitch:te}){const Ve=re.stackId;te&&void 0!==Ve&&this.ionTabsWillChange.emit({tab:Ve})}onStackDidChange({enteringView:re,tabSwitch:te}){const Ve=re.stackId;te&&void 0!==Ve&&(this.tabBar&&(this.tabBar.selectedTab=Ve),this.ionTabsDidChange.emit({tab:Ve}))}select(re){const te="string"==typeof re,Ve=te?re:re.detail.tab,St=this.outlet.getActiveStackId()===Ve,Nt=`${this.outlet.tabsPrefix}/${Ve}`;if(te||re.stopPropagation(),St){const _n=this.outlet.getActiveStackId(),Yn=this.outlet.getLastRouteView(_n);if((null==Yn?void 0:Yn.url)===Nt)return;const Gn=this.outlet.getRootView(Ve);return this.navCtrl.navigateRoot(Nt,{...Gn&&Nt===Gn.url&&Gn.savedExtras,animated:!0,animationDirection:"back"})}{const _n=this.outlet.getLastRouteView(Ve);return this.navCtrl.navigateRoot((null==_n?void 0:_n.url)||Nt,{...null==_n?void 0:_n.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(re=>{const te=re.el.getAttribute("slot");te!==this.tabBarSlot&&(this.tabBarSlot=te,this.relocateTabBar())})}relocateTabBar(){const re=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(re):this.tabsInner.nativeElement.after(re)}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.rXU(bt))}),(0,d.A)(ae,"\u0275dir",V.FsC({type:he,selectors:[["ion-tabs"]],viewQuery:function(re,te){if(1&re&&V.GBs(pe,7,V.aKT),2&re){let Ve;V.mGM(Ve=V.lsd())&&(te.tabsInner=Ve.first)}},hostBindings:function(re,te){1&re&&V.bIt("ionTabButtonClick",function(St){return te.select(St)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),ae})();const Lr=he=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he);let ci=(()=>{var he;class ae{constructor(re,te){(0,d.A)(this,"injector",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"onChange",()=>{}),(0,d.A)(this,"onTouched",()=>{}),(0,d.A)(this,"lastValue",void 0),(0,d.A)(this,"statusChanges",void 0),this.injector=re,this.elementRef=te}writeValue(re){this.elementRef.nativeElement.value=this.lastValue=re,Jr(this.elementRef)}handleValueChange(re,te){re===this.elementRef.nativeElement&&(te!==this.lastValue&&(this.lastValue=te,this.onChange(te)),Jr(this.elementRef))}_handleBlurEvent(re){re===this.elementRef.nativeElement&&(this.onTouched(),Jr(this.elementRef))}registerOnChange(re){this.onChange=re}registerOnTouched(re){this.onTouched=re}setDisabledState(re){this.elementRef.nativeElement.disabled=re}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let re;try{re=this.injector.get(ce.vO)}catch{}if(!re)return;re.statusChanges&&(this.statusChanges=re.statusChanges.subscribe(()=>Jr(this.elementRef)));const te=re.control;te&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(St=>{if(typeof te[St]<"u"){const Nt=te[St].bind(te);te[St]=(..._n)=>{Nt(..._n),Jr(this.elementRef)}}})}}return he=ae,(0,d.A)(ae,"\u0275fac",function(re){return new(re||he)(V.rXU(V.zZn),V.rXU(V.aKT))}),(0,d.A)(ae,"\u0275dir",V.FsC({type:he,hostBindings:function(re,te){1&re&&V.bIt("ionBlur",function(St){return te._handleBlurEvent(St.target)})}})),ae})();const Jr=he=>{Lr(()=>{const ae=he.nativeElement,Ge=null!=ae.value&&ae.value.toString().length>0,re=or(ae);Br(ae,re);const te=ae.closest("ion-item");te&&Br(te,Ge?[...re,"item-has-value"]:re)})},or=he=>{const ae=he.classList,Ge=[];for(let re=0;re<ae.length;re++){const te=ae.item(re);null!==te&&Ti(te,"ng-")&&Ge.push(`ion-${te.substring(3)}`)}return Ge},Br=(he,ae)=>{const Ge=he.classList;Ge.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ge.add(...ae)},Ti=(he,ae)=>he.substring(0,ae.length)===ae;class xt{shouldDetach(ae){return!1}shouldAttach(ae){return!1}store(ae,Ge){}retrieve(ae){return null}shouldReuseRoute(ae,Ge){if(ae.routeConfig!==Ge.routeConfig)return!1;const re=ae.params,te=Ge.params,Ve=Object.keys(re),St=Object.keys(te);if(Ve.length!==St.length)return!1;for(const Nt of Ve)if(te[Nt]!==re[Nt])return!1;return!0}}class _t{constructor(ae){(0,d.A)(this,"ctrl",void 0),this.ctrl=ae}create(ae){return this.ctrl.create(ae||{})}dismiss(ae,Ge,re){return this.ctrl.dismiss(ae,Ge,re)}getTop(){return this.ctrl.getTop()}}},1075:(hn,ft,N)=>{"use strict";N.d(ft,{hG:()=>es,U1:()=>nn,mC:()=>vn,el:()=>so,Jm:()=>zn,QW:()=>gt,b_:()=>Be,ZB:()=>un,W9:()=>Nn,Q8:()=>Qn,YW:()=>Rn,M0:()=>Fn,eU:()=>Dn,iq:()=>Sn,$w:()=>Pn,uz:()=>Tr,LU:()=>yt,CE:()=>rt,A7:()=>de,he:()=>Ee,nf:()=>ne,oS:()=>Ie,MC:()=>Le,cA:()=>ut,To:()=>or,Ki:()=>Br,Rg:()=>Vr,IO:()=>di,BC:()=>Jn,ai:()=>go,bv:()=>wi,Xi:()=>On,W3:()=>ko,N7:()=>Di,Gw:()=>Z,K_:()=>ao});var c=N(9842),d=N(4438),V=N(4341),Re=N(2872),Y=N(1635),ke=N(3726),ie=N(177),Ce=N(4964),We=(N(9986),N(530),N(7814),N(7559),N(8607),N(3635)),nt=N(464),ot=(N(4266),N(2478)),et=(N(8476),N(5539));N(1970),N(7567);var je=N(467);const dt=We.i,Ct=function(){var S=(0,je.A)(function*(X,me){if(!(typeof window>"u"))return yield dt(),(0,et.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),me)});return function(me,x){return S.apply(this,arguments)}}(),we=["*"],Dt=["outletContent"];let Z=(()=>{var S;class X extends Re.fL{constructor(x,Ae){super(x,Ae)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)(d.rXU(d.zZn),d.rXU(d.aKT))}),(0,c.A)(X,"\u0275dir",d.FsC({type:S,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(x,Ae){1&x&&d.bIt("ionInput",function(oe){return Ae._handleInputEvent(oe.target)})},features:[d.Jv_([{provide:V.kq,useExisting:S,multi:!0}]),d.Vt3]})),X})();const ce=(S,X)=>{const me=S.prototype;X.forEach(x=>{Object.defineProperty(me,x,{get(){return this.el[x]},set(Ae){this.z.runOutsideAngular(()=>this.el[x]=Ae)},configurable:!0})})},pe=(S,X)=>{const me=S.prototype;X.forEach(x=>{me[x]=function(){const Ae=arguments;return this.z.runOutsideAngular(()=>this.el[x].apply(this.el,Ae))}})},se=(S,X,me)=>{me.forEach(x=>S[x]=(0,ke.R)(X,x))};function Pe(S){return function(me){const{defineCustomElementFn:x,inputs:Ae,methods:P}=S;return void 0!==x&&x(),Ae&&ce(me,Ae),P&&pe(me,P),me}}let nn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-app"]],ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({})],X),X})(),vn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-avatar"]],ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({})],X),X})(),zn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],X),X})(),gt=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["collapse"]})],X),X})(),Be=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),un=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","disabled","mode","outline"]})],X),X})(),Nn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],X),X})(),Qn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],X),X})(),Rn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],X),X})(),Fn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["collapse","mode","translucent"]})],X),X})(),Dn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["collapse","mode","translucent"]})],X),X})(),Sn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],X),X})(),Pn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],X),X})(),Tr=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),yt=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],X),X})(),rt=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionSwipe"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["side"]})],X),X})(),de=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionDrag"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],X),X})(),Ee=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","mode","position"]})],X),X})(),ne=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],X),X})(),Ie=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],X),X})(),Le=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["autoHide","color","disabled","menu","mode","type"]})],X),X})(),ut=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["autoHide","menu"]})],X),X})(),or=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement,se(this,this.el,["ionRefresh","ionPull","ionStart"])}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",mode:"mode",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["closeDuration","disabled","mode","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],X),X})(),Br=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],X),X})(),di=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","mode"]})],X),X})(),Jn=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","size"]})],X),X})(),go=(()=>{var S;let X=((0,c.A)(S=class{constructor(x,Ae,P){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=P,x.detach(),this.el=Ae.nativeElement}},"\u0275fac",function(x){return new(x||S)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(S,"\u0275cmp",d.VBU({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),S);return X=(0,Y.Cg)([Pe({inputs:["color","mode"]})],X),X})(),Vr=(()=>{var S;class X extends Re.Rg{constructor(x,Ae,P,oe,$e,He,vt,Je){super(x,Ae,P,oe,$e,He,vt,Je),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=Je}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)(d.kS0("name"),d.kS0("tabs"),d.rXU(ie.aZ),d.rXU(d.aKT),d.rXU(Ce.Ix),d.rXU(d.SKi),d.rXU(Ce.nX),d.rXU(S,12))}),(0,c.A)(X,"\u0275cmp",d.VBU({type:S,selectors:[["ion-router-outlet"]],viewQuery:function(x,Ae){if(1&x&&d.GBs(Dt,7,d.c1b),2&x){let P;d.mGM(P=d.lsd())&&(Ae.outletContent=P.first)}},features:[d.Vt3],ngContentSelectors:we,decls:3,vars:0,consts:[["outletContent",""]],template:function(x,Ae){1&x&&(d.NAR(),d.qex(0,null,0),d.SdG(2),d.bVm())},encapsulation:2})),X})(),so=(()=>{var S;class X extends Re.el{constructor(x,Ae,P,oe,$e,He){super(x,Ae,P,oe,$e,He)}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)(d.rXU(Vr,8),d.rXU(Re.q9),d.rXU(Re.TS),d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(d.gRc))}),(0,c.A)(X,"\u0275cmp",d.VBU({type:S,selectors:[["ion-back-button"]],features:[d.Vt3],ngContentSelectors:we,decls:1,vars:0,template:function(x,Ae){1&x&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),X})(),Di=(()=>{var S;class X extends Re.CE{}return S=X,(0,c.A)(X,"\u0275fac",(()=>{let me;return function(Ae){return(me||(me=d.xGo(S)))(Ae||S)}})()),(0,c.A)(X,"\u0275dir",d.FsC({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],features:[d.Vt3]})),X})();const nr={provide:V.cz,useExisting:(0,d.Rfq)(()=>wr),multi:!0};let wr=(()=>{var S;class X extends V.zX{}return S=X,(0,c.A)(X,"\u0275fac",(()=>{let me;return function(Ae){return(me||(me=d.xGo(S)))(Ae||S)}})()),(0,c.A)(X,"\u0275dir",d.FsC({type:S,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,Ae){2&x&&d.BMQ("max",Ae._enabled?Ae.max:null)},features:[d.Jv_([nr]),d.Vt3]})),X})();const qs={provide:V.cz,useExisting:(0,d.Rfq)(()=>Li),multi:!0};let Li=(()=>{var S;class X extends V.VZ{}return S=X,(0,c.A)(X,"\u0275fac",(()=>{let me;return function(Ae){return(me||(me=d.xGo(S)))(Ae||S)}})()),(0,c.A)(X,"\u0275dir",d.FsC({type:S,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,Ae){2&x&&d.BMQ("min",Ae._enabled?Ae.min:null)},features:[d.Jv_([qs]),d.Vt3]})),X})(),es=(()=>{var S;class X extends Re.Kb{constructor(){super(ot.a)}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)}),(0,c.A)(X,"\u0275prov",d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),X})(),On=(()=>{var S;class X extends Re.Kb{constructor(){super(ot.l)}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)}),(0,c.A)(X,"\u0275prov",d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),X})(),ko=(()=>{var S;class X extends Re.Kb{constructor(){super(ot.m),(0,c.A)(this,"angularDelegate",(0,d.WQX)(Re.Yq)),(0,c.A)(this,"injector",(0,d.WQX)(d.zZn)),(0,c.A)(this,"environmentInjector",(0,d.WQX)(d.uvJ))}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)}),(0,c.A)(X,"\u0275prov",d.jDH({token:S,factory:S.\u0275fac})),X})();class la extends Re.Kb{constructor(){super(ot.c),(0,c.A)(this,"angularDelegate",(0,d.WQX)(Re.Yq)),(0,c.A)(this,"injector",(0,d.WQX)(d.zZn)),(0,c.A)(this,"environmentInjector",(0,d.WQX)(d.uvJ))}create(X){return super.create({...X,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let ao=(()=>{var S;class X extends Re.Kb{constructor(){super(ot.t)}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)}),(0,c.A)(X,"\u0275prov",d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})),X})();const yo=(S,X,me)=>()=>{const x=X.defaultView;if(x&&typeof window<"u"){(0,nt.s)({...S,_zoneGate:P=>me.run(P)});const Ae="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function ze(){var S=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&S.push(N.e(7278).then(N.t.bind(N,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var x=new URL("b","http://a");return x.pathname="c%20d","http://a/c%20d"===x.href&&x.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(N.e(9329).then(N.t.bind(N,7783,23)))}return Promise.all(S)}().then(()=>Ct(x,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Re.er,jmp:P=>me.runOutsideAngular(P),ael(P,oe,$e,He){P[Ae](oe,$e,He)},rel(P,oe,$e,He){P.removeEventListener(oe,$e,He)}}))}};let wi=(()=>{var S;class X{static forRoot(x){return{ngModule:X,providers:[{provide:Re.sR,useValue:x},{provide:d.hnV,useFactory:yo,multi:!0,deps:[Re.sR,ie.qQ,d.SKi]},(0,Re.YV)()]}}}return S=X,(0,c.A)(X,"\u0275fac",function(x){return new(x||S)}),(0,c.A)(X,"\u0275mod",d.$C({type:S})),(0,c.A)(X,"\u0275inj",d.G2t({providers:[Re.Yq,ko,la],imports:[ie.MD]})),X})()},2214:(hn,ft,N)=>{"use strict";N.d(ft,{Dk:()=>c.getApps,Sx:()=>c.getApp});var c=N(7852);(0,c.registerVersion)("firebase","10.11.1","app")},7935:(hn,ft,N)=>{"use strict";N.d(ft,{A:()=>c.A});var c=N(3345);c.A.registerVersion("firebase","10.11.1","app-compat")},2438:(hn,ft,N)=>{"use strict";N.r(ft);var c=N(467),d=N(3345),V=N(8407),Re=N(1076),ie=(N(7852),N(8041),N(1362));function Ce(){return window}function ge(){return ge=(0,c.A)(function*(ne,F,B){var Ie;const{BuildInfo:Le}=Ce();(0,V.au)(F.sessionId,"AuthEvent did not contain a session ID");const ut=yield function Xe(ne){return et.apply(this,arguments)}(F.sessionId),Lt={};return(0,V.av)()?Lt.ibi=Le.packageName:(0,V.aw)()?Lt.apn=Le.packageName:(0,V.ax)(ne,"operation-not-supported-in-this-environment"),Le.displayName&&(Lt.appDisplayName=Le.displayName),Lt.sessionId=ut,(0,V.ay)(ne,B,F.type,void 0,null!==(Ie=F.eventId)&&void 0!==Ie?Ie:void 0,Lt)}),ge.apply(this,arguments)}function qe(){return(qe=(0,c.A)(function*(ne){const{BuildInfo:F}=Ce(),B={};(0,V.av)()?B.iosBundleId=F.packageName:(0,V.aw)()?B.androidPackageName=F.packageName:(0,V.ax)(ne,"operation-not-supported-in-this-environment"),yield(0,V.az)(ne,B)})).apply(this,arguments)}function ct(){return(ct=(0,c.A)(function*(ne,F,B){const{cordova:Ie}=Ce();let Le=()=>{};try{yield new Promise((ut,Lt)=>{let $t=null;function sn(){var Tn;ut();const lr=null===(Tn=Ie.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof lr&&lr(),"function"==typeof(null==B?void 0:B.close)&&B.close()}function zt(){$t||($t=window.setTimeout(()=>{Lt((0,V.aB)(ne,"redirect-cancelled-by-user"))},2e3))}function Ot(){"visible"===(null==document?void 0:document.visibilityState)&&zt()}F.addPassiveListener(sn),document.addEventListener("resume",zt,!1),(0,V.aw)()&&document.addEventListener("visibilitychange",Ot,!1),Le=()=>{F.removePassiveListener(sn),document.removeEventListener("resume",zt,!1),document.removeEventListener("visibilitychange",Ot,!1),$t&&window.clearTimeout($t)}})}finally{Le()}})).apply(this,arguments)}function et(){return(et=(0,c.A)(function*(ne){const F=function Qe(ne){if((0,V.au)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ne);const F=new ArrayBuffer(ne.length),B=new Uint8Array(F);for(let Ie=0;Ie<ne.length;Ie++)B[Ie]=ne.charCodeAt(Ie);return B}(ne),B=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(B)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Se extends V.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(F)),super.onEvent(F)}initialized(){var F=this;return(0,c.A)(function*(){yield F.initPromise})()}}function dt(ne){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.A)(function*(ne){const F=yield kt()._get(rn(ne));return F&&(yield kt()._remove(rn(ne))),F})).apply(this,arguments)}function Dt(){const ne=[];for(let B=0;B<20;B++){const Ie=Math.floor(62*Math.random());ne.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ie))}return ne.join("")}function kt(){return(0,V.aE)(V.b)}function rn(ne){return(0,V.aF)("authEvent",ne.config.apiKey,ne.name)}function mn(ne){if(null==ne||!ne.includes("?"))return{};const[F,...B]=ne.split("?");return(0,Re.I9)(B.join("?"))}const J=class Ne{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(F){var B=this;return(0,c.A)(function*(){const Ie=F._key();let Le=B.eventManagers.get(Ie);return Le||(Le=new Se(F),B.eventManagers.set(Ie,Le),B.attachCallbackListeners(F,Le)),Le})()}_openPopup(F){(0,V.ax)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,B,Ie,Le){var ut=this;return(0,c.A)(function*(){!function ot(ne){var F,B,Ie,Le,ut,Lt,$t,sn,zt,Ot;const Tn=Ce();(0,V.aC)("function"==typeof(null===(F=null==Tn?void 0:Tn.universalLinks)||void 0===F?void 0:F.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aC)(typeof(null===(B=null==Tn?void 0:Tn.BuildInfo)||void 0===B?void 0:B.packageName)<"u",ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aC)("function"==typeof(null===(ut=null===(Le=null===(Ie=null==Tn?void 0:Tn.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ut?void 0:ut.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(sn=null===($t=null===(Lt=null==Tn?void 0:Tn.cordova)||void 0===Lt?void 0:Lt.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===sn?void 0:sn.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(Ot=null===(zt=null==Tn?void 0:Tn.cordova)||void 0===zt?void 0:zt.InAppBrowser)||void 0===Ot?void 0:Ot.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const Lt=yield ut._initialize(F);yield Lt.initialized(),Lt.resetRedirect(),(0,V.aI)(),yield ut._originValidation(F);const $t=function ze(ne,F,B=null){return{type:F,eventId:B,urlResponse:null,sessionId:Dt(),postBody:null,tenantId:ne.tenantId,error:(0,V.aB)(ne,"no-auth-event")}}(F,Ie,Le);yield function je(ne,F){return kt()._set(rn(ne),F)}(F,$t);const sn=yield function _e(ne,F,B){return ge.apply(this,arguments)}(F,$t,B),zt=yield function We(ne){const{cordova:F}=Ce();return new Promise(B=>{F.plugins.browsertab.isAvailable(Ie=>{let Le=null;Ie?F.plugins.browsertab.openUrl(ne):Le=F.InAppBrowser.open(ne,(0,V.aA)()?"_blank":"_system","location=yes"),B(Le)})})}(sn);return function nt(ne,F,B){return ct.apply(this,arguments)}(F,Lt,zt)})()}_isIframeWebStorageSupported(F,B){throw new Error("Method not implemented.")}_originValidation(F){const B=F._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function Ke(ne){return qe.apply(this,arguments)}(F)),this.originValidationPromises[B]}attachCallbackListeners(F,B){const{universalLinks:Ie,handleOpenURL:Le,BuildInfo:ut}=Ce(),Lt=setTimeout((0,c.A)(function*(){yield dt(F),B.onEvent(Z())}),500),$t=function(){var Ot=(0,c.A)(function*(Tn){clearTimeout(Lt);const lr=yield dt(F);let Lr=null;lr&&null!=Tn&&Tn.url&&(Lr=function we(ne,F){var B,Ie;const Le=function Wt(ne){const F=mn(ne),B=F.link?decodeURIComponent(F.link):void 0,Ie=mn(B).link,Le=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return mn(Le).link||Le||Ie||B||ne}(F);if(Le.includes("/__/auth/callback")){const ut=mn(Le),Lt=ut.firebaseError?function fn(ne){try{return JSON.parse(ne)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,$t=null===(Ie=null===(B=null==Lt?void 0:Lt.code)||void 0===B?void 0:B.split("auth/"))||void 0===Ie?void 0:Ie[1],sn=$t?(0,V.aB)($t):null;return sn?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:sn,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:Le,postBody:null}}return null}(lr,Tn.url)),B.onEvent(Lr||Z())});return function(lr){return Ot.apply(this,arguments)}}();typeof Ie<"u"&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,$t);const sn=Le,zt=`${ut.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Ot=(0,c.A)(function*(Tn){if(Tn.toLowerCase().startsWith(zt)&&$t({url:Tn}),"function"==typeof sn)try{sn(Tn)}catch(lr){console.error(lr)}});return function(Tn){return Ot.apply(this,arguments)}}()}};function Z(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aB)("no-auth-event")}}function Pe(){var ne;return(null===(ne=null==self?void 0:self.location)||void 0===ne?void 0:ne.protocol)||null}function Mt(ne=(0,Re.ZQ)()){return!("file:"!==Pe()&&"ionic:"!==Pe()&&"capacitor:"!==Pe()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bn(){try{const ne=self.localStorage,F=V.aN();if(ne)return ne.setItem(F,"1"),ne.removeItem(F),!function vn(ne=(0,Re.ZQ)()){return function bt(){return(0,Re.lT)()&&11===(null==document?void 0:document.documentMode)}()||function nn(ne=(0,Re.ZQ)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,Re.zW)()}catch{return Hn()&&(0,Re.zW)()}return!1}function Hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tr(){return(function lt(){return"http:"===Pe()||"https:"===Pe()}()||(0,Re.sr)()||Mt())&&!function wt(){return(0,Re.lV)()||(0,Re.Ll)()}()&&Bn()&&!Hn()}function Vn(){return Mt()&&typeof document<"u"}function gt(){return(gt=(0,c.A)(function*(){return!!Vn()&&new Promise(ne=>{const F=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),ne(!0)})})})).apply(this,arguments)}const Rt={LOCAL:"local",NONE:"none",SESSION:"session"},pn=V.aC,Wn="persistence";function Xn(ne){return un.apply(this,arguments)}function un(){return(un=(0,c.A)(function*(ne){yield ne._initializationPromise;const F=Nn(),B=V.aF(Wn,ne.config.apiKey,ne.name);F&&F.setItem(B,ne._getPersistence())})).apply(this,arguments)}function Nn(){var ne;try{return(null===(ne=function Be(){return typeof window<"u"?window:null}())||void 0===ne?void 0:ne.sessionStorage)||null}catch{return null}}const ir=V.aC;class qn{constructor(){this.browserResolver=V.aE(V.k),this.cordovaResolver=V.aE(J),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(F){var B=this;return(0,c.A)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,B,Ie,Le){var ut=this;return(0,c.A)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(F,B,Ie,Le)})()}_openRedirect(F,B,Ie,Le){var ut=this;return(0,c.A)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(F,B,Ie,Le)})()}_isIframeWebStorageSupported(F,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,B)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Vn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ir(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,c.A)(function*(){if(F.underlyingResolver)return;const B=yield function zn(){return gt.apply(this,arguments)}();F.underlyingResolver=B?F.cordovaResolver:F.browserResolver})()}}function Qn(ne){return ne.unwrap()}function Er(ne){return pr(ne)}function pr(ne){const{_tokenResponse:F}=ne instanceof Re.g?ne.customData:ne;if(!F)return null;if(!(ne instanceof Re.g)&&"temporaryProof"in F&&"phoneNumber"in F)return V.P.credentialFromResult(ne);const B=F.providerId;if(!B||B===V.p.PASSWORD)return null;let Ie;switch(B){case V.p.GOOGLE:Ie=V.X;break;case V.p.FACEBOOK:Ie=V.W;break;case V.p.GITHUB:Ie=V.Y;break;case V.p.TWITTER:Ie=V.$;break;default:const{oauthIdToken:Le,oauthAccessToken:ut,oauthTokenSecret:Lt,pendingToken:$t,nonce:sn}=F;return ut||Lt||Le||$t?$t?B.startsWith("saml.")?V.aQ._create(B,$t):V.N._fromParams({providerId:B,signInMethod:B,pendingToken:$t,idToken:Le,accessToken:ut}):new V.Z(B).credential({idToken:Le,accessToken:ut,rawNonce:sn}):null}return ne instanceof Re.g?Ie.credentialFromError(ne):Ie.credentialFromResult(ne)}function Dn(ne,F){return F.catch(B=>{throw B instanceof Re.g&&function Fn(ne,F){var B;const Ie=null===(B=F.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null==F?void 0:F.code))F.resolver=new Un(ne,V.as(ne,F));else if(Ie){const Le=pr(F),ut=F;Le&&(ut.credential=Le,ut.tenantId=Ie.tenantId||void 0,ut.email=Ie.email||void 0,ut.phoneNumber=Ie.phoneNumber||void 0)}}(ne,B),B}).then(B=>{const Le=B.user;return{operationType:B.operationType,credential:Er(B),additionalUserInfo:V.aq(B),user:In.getOrCreate(Le)}})}function Sn(ne,F){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.A)(function*(ne,F){const B=yield F;return{verificationId:B.verificationId,confirm:Ie=>Dn(ne,B.confirm(Ie))}})).apply(this,arguments)}class Un{constructor(F,B){this.resolver=B,this.auth=function Rn(ne){return ne.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Dn(Qn(this.auth),this.resolver.resolveSignIn(F))}}class In{constructor(F){this._delegate=F,this.multiFactor=V.at(F)}static getOrCreate(F){return In.USER_MAP.has(F)||In.USER_MAP.set(F,new In(F)),In.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var B=this;return(0,c.A)(function*(){return Dn(B.auth,V.a2(B._delegate,F))})()}linkWithPhoneNumber(F,B){var Ie=this;return(0,c.A)(function*(){return Sn(Ie.auth,V.l(Ie._delegate,F,B))})()}linkWithPopup(F){var B=this;return(0,c.A)(function*(){return Dn(B.auth,V.d(B._delegate,F,qn))})()}linkWithRedirect(F){var B=this;return(0,c.A)(function*(){return yield Xn(V.aJ(B.auth)),V.g(B._delegate,F,qn)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var B=this;return(0,c.A)(function*(){return Dn(B.auth,V.a3(B._delegate,F))})()}reauthenticateWithPhoneNumber(F,B){return Sn(this.auth,V.r(this._delegate,F,B))}reauthenticateWithPopup(F){return Dn(this.auth,V.e(this._delegate,F,qn))}reauthenticateWithRedirect(F){var B=this;return(0,c.A)(function*(){return yield Xn(V.aJ(B.auth)),V.h(B._delegate,F,qn)})()}sendEmailVerification(F){return V.ag(this._delegate,F)}unlink(F){var B=this;return(0,c.A)(function*(){return yield V.ap(B._delegate,F),B})()}updateEmail(F){return V.al(this._delegate,F)}updatePassword(F){return V.am(this._delegate,F)}updatePhoneNumber(F){return V.u(this._delegate,F)}updateProfile(F){return V.ak(this._delegate,F)}verifyBeforeUpdateEmail(F,B){return V.ah(this._delegate,F,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}In.USER_MAP=new WeakMap;const Pn=V.aC;let ar=(()=>{class ne{constructor(B,Ie){if(this.app=B,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=B.options;Pn(Le,"invalid-api-key",{appName:B.name}),Pn(Le,"invalid-api-key",{appName:B.name});const ut=typeof window<"u"?qn:void 0;this._delegate=Ie.initialize({options:{persistence:it(Le,B.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(V.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?In.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,Ie){V.K(this._delegate,B,Ie)}applyActionCode(B){return V.a7(this._delegate,B)}checkActionCode(B){return V.a8(this._delegate,B)}confirmPasswordReset(B,Ie){return V.a6(this._delegate,B,Ie)}createUserWithEmailAndPassword(B,Ie){var Le=this;return(0,c.A)(function*(){return Dn(Le._delegate,V.aa(Le._delegate,B,Ie))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return V.af(this._delegate,B)}isSignInWithEmailLink(B){return V.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,c.A)(function*(){Pn(tr(),B._delegate,"operation-not-supported-in-this-environment");const Ie=yield V.j(B._delegate,qn);return Ie?Dn(B._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function ce(ne,F){(0,V.aJ)(ne)._logFramework(F)}(this._delegate,B)}onAuthStateChanged(B,Ie,Le){const{next:ut,error:Lt,complete:$t}=Tr(B,Ie,Le);return this._delegate.onAuthStateChanged(ut,Lt,$t)}onIdTokenChanged(B,Ie,Le){const{next:ut,error:Lt,complete:$t}=Tr(B,Ie,Le);return this._delegate.onIdTokenChanged(ut,Lt,$t)}sendSignInLinkToEmail(B,Ie){return V.ac(this._delegate,B,Ie)}sendPasswordResetEmail(B,Ie){return V.a5(this._delegate,B,Ie||void 0)}setPersistence(B){var Ie=this;return(0,c.A)(function*(){let Le;switch(function ur(ne,F){pn(Object.values(Rt).includes(F),ne,"invalid-persistence-type"),(0,Re.lV)()?pn(F!==Rt.SESSION,ne,"unsupported-persistence-type"):(0,Re.Ll)()?pn(F===Rt.NONE,ne,"unsupported-persistence-type"):Hn()?pn(F===Rt.NONE||F===Rt.LOCAL&&(0,Re.zW)(),ne,"unsupported-persistence-type"):pn(F===Rt.NONE||Bn(),ne,"unsupported-persistence-type")}(Ie._delegate,B),B){case Rt.SESSION:Le=V.a;break;case Rt.LOCAL:Le=(yield V.aE(V.i)._isAvailable())?V.i:V.b;break;case Rt.NONE:Le=V.U;break;default:return V.ax("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Dn(this._delegate,V.a0(this._delegate))}signInWithCredential(B){return Dn(this._delegate,V.a1(this._delegate,B))}signInWithCustomToken(B){return Dn(this._delegate,V.a4(this._delegate,B))}signInWithEmailAndPassword(B,Ie){return Dn(this._delegate,V.ab(this._delegate,B,Ie))}signInWithEmailLink(B,Ie){return Dn(this._delegate,V.ae(this._delegate,B,Ie))}signInWithPhoneNumber(B,Ie){return Sn(this._delegate,V.s(this._delegate,B,Ie))}signInWithPopup(B){var Ie=this;return(0,c.A)(function*(){return Pn(tr(),Ie._delegate,"operation-not-supported-in-this-environment"),Dn(Ie._delegate,V.c(Ie._delegate,B,qn))})()}signInWithRedirect(B){var Ie=this;return(0,c.A)(function*(){return Pn(tr(),Ie._delegate,"operation-not-supported-in-this-environment"),yield Xn(Ie._delegate),V.f(Ie._delegate,B,qn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return V.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=Rt,ne})();function Tr(ne,F,B){let Ie=ne;"function"!=typeof ne&&({next:Ie,error:F,complete:B}=ne);const Le=Ie;return{next:Lt=>Le(Lt&&In.getOrCreate(Lt)),error:F,complete:B}}function it(ne,F){const B=function Zt(ne,F){const B=Nn();if(!B)return[];const Ie=V.aF(Wn,ne,F);switch(B.getItem(Ie)){case Rt.NONE:return[V.U];case Rt.LOCAL:return[V.i,V.a];case Rt.SESSION:return[V.a];default:return[]}}(ne,F);if(typeof self<"u"&&!B.includes(V.i)&&B.push(V.i),typeof window<"u")for(const Ie of[V.b,V.a])B.includes(Ie)||B.push(Ie);return B.includes(V.U)||B.push(V.U),B}class Ye{constructor(){this.providerId="phone",this._delegate=new V.P(Qn(d.A.auth()))}static credential(F,B){return V.P.credential(F,B)}verifyPhoneNumber(F,B){return this._delegate.verifyPhoneNumber(F,B)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=V.P.PROVIDER_ID;const yt=V.aC;class rt{constructor(F,B,Ie=d.A.app()){var Le;yt(null===(Le=Ie.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new V.R(Ie.auth(),F,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ee(ne){ne.INTERNAL.registerComponent(new ie.uA("auth-compat",F=>{const B=F.getProvider("app-compat").getImmediate(),Ie=F.getProvider("auth");return new ar(B,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.V,FacebookAuthProvider:V.W,GithubAuthProvider:V.Y,GoogleAuthProvider:V.X,OAuthProvider:V.Z,SAMLAuthProvider:V._,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:rt,TwitterAuthProvider:V.$,Auth:ar,AuthCredential:V.L,Error:Re.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.5.7")}(d.A)},2784:(hn,ft,N)=>{"use strict";N.d(ft,{BN:()=>c.BN,H9:()=>c.H9,My:()=>c.My,P:()=>c.P,aQ:()=>c.aQ,aU:()=>c.aU,gS:()=>c.gS,kd:()=>c.kd,mZ:()=>c.mZ,rJ:()=>c.rJ,x7:()=>c.x7});var c=N(2824)},467:(hn,ft,N)=>{"use strict";function c(V,Re,Y,ke,ie,Ce,Ze){try{var _e=V[Ce](Ze),ge=_e.value}catch(Ke){return void Y(Ke)}_e.done?Re(ge):Promise.resolve(ge).then(ke,ie)}function d(V){return function(){var Re=this,Y=arguments;return new Promise(function(ke,ie){var Ce=V.apply(Re,Y);function Ze(ge){c(Ce,ke,ie,Ze,_e,"next",ge)}function _e(ge){c(Ce,ke,ie,Ze,_e,"throw",ge)}Ze(void 0)})}}N.d(ft,{A:()=>d})},9842:(hn,ft,N)=>{"use strict";function c(Y){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ke){return typeof ke}:function(ke){return ke&&"function"==typeof Symbol&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke})(Y)}function Re(Y,ke,ie){return(ke=function V(Y){var ke=function d(Y,ke){if("object"!=c(Y)||!Y)return Y;var ie=Y[Symbol.toPrimitive];if(void 0!==ie){var Ce=ie.call(Y,ke||"default");if("object"!=c(Ce))return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ke?String:Number)(Y)}(Y,"string");return"symbol"==c(ke)?ke:String(ke)}(ke))in Y?Object.defineProperty(Y,ke,{value:ie,enumerable:!0,configurable:!0,writable:!0}):Y[ke]=ie,Y}N.d(ft,{A:()=>Re})},1635:(hn,ft,N)=>{"use strict";function Re(J,Z){var ce={};for(var pe in J)Object.prototype.hasOwnProperty.call(J,pe)&&Z.indexOf(pe)<0&&(ce[pe]=J[pe]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var se=0;for(pe=Object.getOwnPropertySymbols(J);se<pe.length;se++)Z.indexOf(pe[se])<0&&Object.prototype.propertyIsEnumerable.call(J,pe[se])&&(ce[pe[se]]=J[pe[se]])}return ce}function Y(J,Z,ce,pe){var Pe,se=arguments.length,Me=se<3?Z:null===pe?pe=Object.getOwnPropertyDescriptor(Z,ce):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(J,Z,ce,pe);else for(var lt=J.length-1;lt>=0;lt--)(Pe=J[lt])&&(Me=(se<3?Pe(Me):se>3?Pe(Z,ce,Me):Pe(Z,ce))||Me);return se>3&&Me&&Object.defineProperty(Z,ce,Me),Me}function Ke(J,Z,ce,pe){return new(ce||(ce=Promise))(function(Me,Pe){function lt(bt){try{wt(pe.next(bt))}catch(nn){Pe(nn)}}function Mt(bt){try{wt(pe.throw(bt))}catch(nn){Pe(nn)}}function wt(bt){bt.done?Me(bt.value):function se(Me){return Me instanceof ce?Me:new ce(function(Pe){Pe(Me)})}(bt.value).then(lt,Mt)}wt((pe=pe.apply(J,Z||[])).next())})}function tt(J){return this instanceof tt?(this.v=J,this):new tt(J)}function Se(J,Z,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,pe=ce.apply(J,Z||[]),Me=[];return se={},Pe("next"),Pe("throw"),Pe("return"),se[Symbol.asyncIterator]=function(){return this},se;function Pe(vn){pe[vn]&&(se[vn]=function(Bn){return new Promise(function(Hn,tr){Me.push([vn,Bn,Hn,tr])>1||lt(vn,Bn)})})}function lt(vn,Bn){try{!function Mt(vn){vn.value instanceof tt?Promise.resolve(vn.value.v).then(wt,bt):nn(Me[0][2],vn)}(pe[vn](Bn))}catch(Hn){nn(Me[0][3],Hn)}}function wt(vn){lt("next",vn)}function bt(vn){lt("throw",vn)}function nn(vn,Bn){vn(Bn),Me.shift(),Me.length&&lt(Me[0][0],Me[0][1])}}function je(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,Z=J[Symbol.asyncIterator];return Z?Z.call(J):(J=function ct(J){var Z="function"==typeof Symbol&&Symbol.iterator,ce=Z&&J[Z],pe=0;if(ce)return ce.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&pe>=J.length&&(J=void 0),{value:J&&J[pe++],done:!J}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ce={},pe("next"),pe("throw"),pe("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function pe(Me){ce[Me]=J[Me]&&function(Pe){return new Promise(function(lt,Mt){!function se(Me,Pe,lt,Mt){Promise.resolve(Mt).then(function(wt){Me({value:wt,done:lt})},Pe)}(lt,Mt,(Pe=J[Me](Pe)).done,Pe.value)})}}}N.d(ft,{AQ:()=>Se,Cg:()=>Y,N3:()=>tt,Tt:()=>Re,sH:()=>Ke,xN:()=>je}),"function"==typeof SuppressedError&&SuppressedError}},hn=>{hn(hn.s=5557)}]);