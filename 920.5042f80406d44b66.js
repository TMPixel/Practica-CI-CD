"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[920],{920:(k,f,a)=>{a.r(f),a.d(f,{SignUpPageModule:()=>j});var p=a(177),s=a(4341),m=a(1075),g=a(4964),c=a(467),e=a(4438),v=a(5297),h=a(5265),U=a(9381),S=a(3683),P=a(9981);function G(o,i){1&o&&(e.j41(0,"div")(1,"ion-label",11),e.EFF(2,"El nombre es requerido"),e.k0s()())}function b(o,i){1&o&&(e.j41(0,"div")(1,"ion-label",11),e.EFF(2,"El nombre debe ser mayor a 6 caracteres"),e.k0s()())}function y(o,i){if(1&o&&(e.j41(0,"div",9),e.DNE(1,G,3,0,"div",10)(2,b,3,0,"div",10),e.k0s()),2&o){const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==r.form.controls.name.errors?null:r.form.controls.name.errors.required),e.R7$(),e.Y8G("ngIf",null==r.form.controls.name.errors?null:r.form.controls.name.errors.minLength)}}function R(o,i){1&o&&(e.j41(0,"div")(1,"ion-label",11),e.EFF(2,"El correo es requerido"),e.k0s()())}function I(o,i){1&o&&(e.j41(0,"div")(1,"ion-label",11),e.EFF(2,"Ingrese un correo valido"),e.k0s()())}function F(o,i){if(1&o&&(e.j41(0,"div",9),e.DNE(1,R,3,0,"div",10)(2,I,3,0,"div",10),e.k0s()),2&o){const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.required),e.R7$(),e.Y8G("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)}}function T(o,i){1&o&&(e.j41(0,"div")(1,"ion-label",11),e.EFF(2,"La contrase\xf1a es requerida"),e.k0s()())}function $(o,i){if(1&o&&(e.j41(0,"div",9),e.DNE(1,T,3,0,"div",10),e.k0s()),2&o){const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.required)}}const E=[{path:"",component:(()=>{var o;class i{constructor(){this.form=new s.gE({uid:new s.MJ(""),name:new s.MJ("",[s.k0.required,s.k0.minLength(6)]),email:new s.MJ("",[s.k0.required,s.k0.email]),password:new s.MJ("",[s.k0.required,s.k0.minLength(6)])}),this.firebase=(0,e.WQX)(v.f),this.utils=(0,e.WQX)(h.T)}ngOnInit(){}submit(){var t=this;return(0,c.A)(function*(){const n=yield t.utils.loading();yield n.present(),t.firebase.signUp(t.form.value).then(function(){var l=(0,c.A)(function*(u){t.firebase.updateUserProfile(t.form.value.name);let d=u.user.uid;t.form.controls.uid.setValue(d),t.setUserInfo(d),console.log(u)});return function(u){return l.apply(this,arguments)}}()).catch(l=>{t.utils.showToast({message:l.message,color:"danger",position:"middle",duration:3e3,icon:"alert-circle-outline"})}).finally(()=>{n.dismiss()})})()}setUserInfo(t){var n=this;return(0,c.A)(function*(){let l=`users/${t}`;delete n.form.value.password,n.firebase.setDocument(l,n.form.value).then(function(){var u=(0,c.A)(function*(d){n.utils.saveInLocalStorage("user",n.form.value),n.utils.routerLink("main/home")});return function(d){return u.apply(this,arguments)}}()).catch(u=>{n.utils.showToast({message:u.message,color:"danger",position:"middle",duration:3e3,icon:"alert-circle-outline"})})})()}}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-sign-up"]],decls:13,vars:9,consts:[["backButton","/auth","title","Registro"],[3,"fullscreen"],[1,"d-flex-center"],[1,"auth-form",3,"ngSubmit","keypress.enter","formGroup"],["autocomplete","name","icon","person","type","text","label","Nombre",3,"control"],["class","validators",4,"ngIf"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["type","submit","mode","ios","expand","block","shape","round",1,"submit",3,"disabled"],[1,"validators"],[4,"ngIf"],["color","danger"]],template:function(t,n){1&t&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"div",2)(3,"form",3),e.bIt("ngSubmit",function(){return n.submit()})("keypress.enter",function(){return n.submit()}),e.nrm(4,"app-logo")(5,"app-custom-input",4),e.DNE(6,y,3,2,"div",5),e.nrm(7,"app-custom-input",6),e.DNE(8,F,3,2,"div",5),e.nrm(9,"app-custom-input",7),e.DNE(10,$,2,1,"div",5),e.j41(11,"ion-button",8),e.EFF(12," Guardar "),e.k0s()()()()),2&t&&(e.R7$(),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(2),e.Y8G("control",n.form.controls.name),e.R7$(),e.Y8G("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),e.R7$(),e.Y8G("control",n.form.controls.email),e.R7$(),e.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),e.R7$(),e.Y8G("control",n.form.controls.password),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),e.R7$(),e.Y8G("disabled",n.form.invalid))},dependencies:[p.bT,s.qT,s.cb,m.Jm,m.W9,m.he,U.l,S.H,P.Z,s.j4]}),i})()}];let Y=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(E),g.iI]}),i})();var M=a(3887);let j=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,s.YN,m.bv,Y,M.G]}),i})()}}]);